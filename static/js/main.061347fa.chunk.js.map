{"version":3,"sources":["components/Header.js","components/UnauthedLayout.js","components/HomePage.js","../../../libs/mdb-firebase/index.js","scripts/connect-firebase.js","components/ScenarioEditor/BasicInfo.js","components/ScenarioEditor/ScenarioItem.js","components/ScenarioEditor/Steplist.js","components/ScenarioEditor/Vitals.js","components/ScenarioEditor/Sample.js","components/ScenarioEditor/ScenarioForm.js","components/ScenarioEditor/ScenariosList.js","components/ClassCodes/ClassCode.js","components/ClassCodes/ClassCodesList.js","../../../libs/scenario-data/constants.js","../../../libs/scenario-data/traumaScenarioV2MetaData.js","scripts/id-util.js","components/MDBForm/SearchResults.js","components/MDBForm/FormItem.js","components/MDBForm/FormBlock.js","components/MDBForm/MDBForm.js","components/MDBForm/MDBFormList.js","components/MDBForm/ActionAssociations.js","App.js","index.js"],"names":["Header","useContext","AuthContext","currentUser","signOutUser","history","useHistory","location","useLocation","className","pathname","type","onClick","goBack","UnauthedLayout","props","children","HomePage","to","firebaseApp","firebase","apps","length","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","auth","firestore","verifyDocument","collectionId","documentName","a","collection","doc","get","document","data","publishDocument","documentObject","set","console","log","getDocument","deleteDocument","delete","getCollection","docs","map","item","BasicInfo","active","scenario","edit","info","pt","id","classnames","defaultValue","name","instructorInformation","dispatchInfo","sceneAssessment","placeholder","maxTime","patientInformation","moulage","position","actions","ScenarioHeader","label","Assessment","findings","assessmentFindings","ScenarioItem","getSteplistItems","array","step","assessCount","push","Steplist","scenarioData","steps","VitalsBox","header","Vital","vitalSigns","Vitals","SAMPLE","S","A","M","P","L","E","COLLECTION_ID","ScenarioForm","scenarioId","match","params","asTemplate","useState","setScenario","activeTab","setActiveTab","isActiveTab","isEdit","formEl","useRef","useEffect","then","result","catch","error","blankTrauma","submitForm","ref","form","current","value","alert","trim","window","confirm","processForm","input","path","newScenario","JSON","parse","stringify","split","isNaN","parseInt","ListItem","remove","index","scenarioType","ScenariosList","scenarios","setScenarios","LOADING","listIndex","deleteScenario","newList","slice","splice","ClassCode","classCode","assignment","setAssignment","originalId","assignmentTitle","checklist","orderRequired","err","processAssignment","assignmentObj","i","checked","order","handleSubmit","title","assignmentTasks","assignments","isChecked","forEach","orderNum","num","defaultChecked","ClassCodesList","codes","setCodes","handleDelete","newGroups","indexOf","INTV_FORM","PROMPT","ONE","OOM","INTERV","ANSWER","INTV_META_DATA","selectionType","prompt","relatedForm","idList","filter","intv","sort","one","two","localeCompare","matchesLabel","str","matchArr","toLowerCase","includes","SearchResults","list","setVal","e","onMouseOver","v","target","innerText","onMouseLeave","FormItem","query","setQuery","textRef","deleteSelf","parentNode","getChecked","meta","contraReqOrder","pos","contraindicated","required","getPos","rows","block","autoComplete","onChange","FormBlock","MDBFormContext","criticalActions","numGreen","setNumGreen","numYellow","setNumYellow","numRed","setNumRed","numFindings","setNumFindings","numNotes","setNumNotes","lessGreen","lessYellow","lessRed","lessFindings","lessNotes","beforeRef","afterRef","setInput","standard","minimal","notes","protocol","when","before","after","Array","React","createContext","FormRoot","mdbForm","setMDBForm","numBlocks","setNumBlocks","mdbFormId","formRef","res","scenarioName","Provider","scan","object","associations","blocks","deepCopy","isArray","obj","arr","node","nodeName","MDBFormListItem","MDBFormList","formsList","setFormsList","ele","getMatchingPrompts","allPrompts","propsObj","getAllPrompts","flattenedIds","matchingPrompts","curr","child","ActionAssociations","formId","prompts","setPrompts","associationsRef","Error","parent","tagName","App","exact","component","authFlowLayout","MDBForm","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.061347fa.chunk.js","sourcesContent":["import { useHistory, useLocation } from 'react-router-dom';\r\nimport { useContext } from \"react\"; \r\nimport { AuthContext } from \"@meddbriefer/mdb-auth\";\r\n\r\nconst Header = () => {\r\n  const { currentUser, signOutUser } = useContext(AuthContext);\r\n  let history = useHistory();\r\n  let location = useLocation();\r\n\r\n  return (\r\n    <div className=\"title-bar\">\r\n      <h1>MedDBriefer</h1>\r\n\r\n      {location.pathname !== '/' && \r\n      <button type=\"button\" className=\"back-bttn\" onClick={() => history.goBack()}>Back</button>}\r\n\r\n      {currentUser && \r\n      <button type=\"button\" className=\"sign-out-bttn\" onClick={() => signOutUser()}>Sign out</button>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;","import Header from \"./Header\"\r\n\r\nconst UnauthedLayout = (props) => {\r\n    return (\r\n        <>\r\n        <Header />\r\n        {props.children}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default UnauthedLayout","import React from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\n\r\nimport Header from './Header'\r\n\r\nconst HomePage = () => {\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n\r\n      <div className=\"nav-wrapper\">\r\n        <Link to=\"/scenarios\">\r\n          <div className=\"home-nav-button\">Scenario Forms</div>\r\n        </Link>\r\n        <Link to=\"/class-codes-list/\">\r\n          <div className=\"home-nav-button\">Class Codes</div>\r\n        </Link>\r\n        <Link to=\"/debriefer-entry-list/\">\r\n          <div className=\"home-nav-button\">Debriefer Entry</div>\r\n        </Link>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default HomePage","import firebase from 'firebase/app'\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\"\r\n\r\nexport const firebaseCfg = {\r\n    apiKey: \"AIzaSyBOgWAbXUGckpad2sk0IUo00hZsV4WxG0E\",\r\n    authDomain: \"meddbriefer-68cd4.firebaseapp.com\",\r\n    projectId: \"meddbriefer-68cd4\",\r\n    storageBucket: \"meddbriefer-68cd4.appspot.com\",\r\n    messagingSenderId: \"1087114796018\",\r\n    appId: \"1:1087114796018:web:679fbab38dbf78af0ce96b\",\r\n    measurementId: \"G-Q7QZKC9KHW\"\r\n}\r\n\r\n// don't reinitialize app if it already exists\r\nconst firebaseApp = !firebase.apps.length ? firebase.initializeApp(firebaseCfg) : firebase.app()\r\n\r\nexport const auth = firebaseApp.auth()\r\nexport const db = firebaseApp.firestore()\r\n","import { db } from \"@meddbriefer/mdb-firebase\";\r\n\r\n// Check if a document with the given name already exists\r\nexport const verifyDocument = async (collectionId, documentName) => {\r\n    let document = await db.collection(collectionId).doc(documentName).get();\r\n    return document.data() != null;\r\n};\r\n\r\n// Upload document object to database\r\nexport const publishDocument = async (collectionId, documentName, documentObject) => {\r\n    await db.collection(collectionId).doc(documentName).set(documentObject);\r\n    console.log(`Successfully published '${documentName}'.`);\r\n};\r\n\r\n// Pull document from database as object\r\nexport const getDocument = async (collectionId, documentName) => {\r\n    let document = await db.collection(collectionId).doc(documentName).get();\r\n    return document.data();\r\n};\r\n\r\n// Permanently delete document\r\nexport const deleteDocument = async (collectionId, documentName) => {\r\n    await db.collection(collectionId).doc(documentName).delete();\r\n    console.log(`'${documentName}' permanently deleted.`);\r\n    return true;\r\n};\r\n\r\n// Pull collection from database as array of document objects\r\nexport const getCollection = async (collectionId) => {\r\n    let collection = await db.collection(collectionId).get();\r\n    return collection.docs.map(item => item.data());\r\n};","import classnames from 'classnames';\r\n\r\nconst BasicInfo = ({ active, scenario, edit }) => {\r\n\tconst info = scenario.info;\r\n  const pt = 'patientInformation';\r\n\treturn (\r\n\t\t<div id=\"basic-info\" className={classnames(\"info-wrapper\", {\"scenario-view-hidden\": !active})}>\r\n\t\t\t<h1>Basic Information:</h1>\r\n\t\t\t<label>\r\n\t\t\t\tScenario Title:\r\n\t\t\t\t<input id=\"name\" type=\"text\" defaultValue={edit ? scenario.name : ''} />\r\n\t\t\t</label>\r\n\r\n\t\t\t<label>\r\n\t\t\t\tInstructor Info:\r\n\t\t\t\t<textarea id=\"info-instructorInformation\" defaultValue={info.instructorInformation} />\r\n\t\t\t</label>\r\n\r\n\t\t\t<label>\r\n\t\t\t\tDispatch Info:<textarea id=\"info-dispatchInfo\" defaultValue={info.dispatchInfo} />\r\n\t\t\t</label>\r\n\r\n\t\t\t<label>\r\n\t\t\t\tScene assessment:<textarea id=\"info-sceneAssessment\" defaultValue={info.sceneAssessment} />\r\n\t\t\t</label>\r\n\r\n\t\t\t<label>\r\n\t\t\t\tMaximum time for scenario:<input id=\"info-maxTime\" type=\"number\" placeholder=\"minutes\" defaultValue={info.maxTime} />\r\n\t\t\t</label>\r\n\r\n\t\t\t<h2>Patient Info:</h2>\r\n\t\t\t<div id=\"pt-info\">\r\n\t\t\t\t<label>\r\n\t\t\t\t\tMoulage:<input type=\"text\" id={`info-${pt}-moulage`} defaultValue={info.patientInformation.moulage} />\r\n\t\t\t\t</label>\r\n\t\t\t\t<label>\r\n\t\t\t\t\tPosition:<input type=\"text\" id={`info-${pt}-position`} defaultValue={info.patientInformation.position} />\r\n\t\t\t\t</label>\r\n\t\t\t\t<label>\r\n\t\t\t\t\tActions:<input type=\"text\" id={`info-${pt}-actions`} defaultValue={info.patientInformation.actions} />\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default BasicInfo;\r\n","const ScenarioItem = ({item, scenario}) => {\r\n  return (\r\n    item.type === \"heading\" \r\n    ? <ScenarioHeader item={item} />\r\n    : <div className=\"step-item\"><Assessment item={item} scenario={scenario} /></div>\r\n  );\r\n};\r\n\r\nconst ScenarioHeader = ({item}) => {\r\n  return <div className=\"list-item header-item\">{item.label}</div>;\r\n};\r\n\r\nconst Assessment = ({item, scenario}) => {\r\n\tconst findings = scenario.assessmentFindings\r\n  return (\r\n    <label>\r\n      {`'${item.label}':`}\r\n      <input\r\n        type=\"text\"\r\n        id={`assessmentFindings-${item.id}`}\r\n        placeholder=\"leave blank if N/A or unremarkable\"\r\n        defaultValue={findings[item.id]}\r\n      />\r\n    </label>\r\n  );\r\n};\r\n\r\nexport default ScenarioItem;\r\n","import ScenarioItem from \"./ScenarioItem.js\";\r\nimport scenarioData from \"../../data/trauma-scenario.json\";\r\nimport classnames from 'classnames';\r\n\r\nconst Steplist = ({ active, scenario }) => {\r\n\treturn (\r\n\t\t<div id=\"scenario-steps\" className={classnames({\"scenario-view-hidden\": !active})}>\r\n\t\t\t<h1>Scenario Items</h1>\r\n\t\t\t{getSteplistItems(scenarioData.steps, []).map((item) => (\r\n\t\t\t\t<ScenarioItem key={item.id} item={item} scenario={scenario} />\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\n// Recursively get the nested assessment items\r\nfunction getSteplistItems(item, array) {\r\n\tfor (let step of item) {\r\n\t\tif (step.type === 'heading' && step.children != null) {\r\n\t\t\tlet assessCount = 0;\r\n\t\t\tfor (let item of step.children) \r\n\t\t\t\tif (item.type === 'assess') \r\n\t\t\t\t\tassessCount += 1;\r\n\t\t\t\r\n\t\t\tif (assessCount > 0 )\r\n\t\t\t\tarray.push({ 'id': step.id, 'type': step.type, 'label': step.label });\r\n\r\n\t\t\tgetSteplistItems(step.children, array);\r\n\t\t} else if (step.type === 'assess') {\r\n\t\t\tarray.push({ 'id': step.id, 'type': step.type, 'label': step.label });\r\n\r\n\t\t\tif (step.children != null)\r\n\t\t\t\tgetSteplistItems(step.children, array);\r\n\t\t}\r\n\t}\r\n\r\n\treturn array;\r\n}\r\n\r\nexport default Steplist;\r\n","import classnames from 'classnames';\r\n\r\nconst Vitals = ({ active, scenario }) => {\r\n\treturn (\r\n\t\t<div className={classnames(\"info-box vitals\", {\"scenario-view-hidden\": !active})}>\r\n\t\t\t<VitalsBox type=\"initial\" header=\"Initial\" scenario={scenario} />\r\n\t\t\t<VitalsBox type=\"good\" header=\"Good Reassessment\" scenario={scenario} />\r\n\t\t\t<VitalsBox type=\"bad\" header=\"Bad Reassessment\" scenario={scenario} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst VitalsBox = ({ scenario, header, type }) => {\r\n\treturn (\r\n\t\t<div className=\"vital-wrapper\">\r\n\t\t\t<h1> {`${header} Vitals:`} </h1>\r\n\t\t\t<div className=\"vitals-box\">\r\n\t\t\t\t<Vital label='BP' type={type} scenario={scenario} />\r\n\t\t\t\t<Vital label='P' type={type} scenario={scenario} />\r\n\t\t\t\t<Vital label='R' type={type} scenario={scenario} />\r\n\t\t\t\t<Vital label='Skin' type={type} scenario={scenario} />\r\n\t\t\t\t<Vital label='Spo2' type={type} scenario={scenario} />\r\n\t\t\t\t<Vital label='ETCO2' type={type} scenario={scenario} />\r\n\t\t\t\t<Vital label='GCS' type={type} scenario={scenario} />\r\n\t\t\t\t<Vital label='Glucose' type={type} scenario={scenario} />\r\n\t\t\t\t<Vital label='Pain' type={type} scenario={scenario} />\r\n\t\t\t\t<Vital label='Temp' type={type} scenario={scenario} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nfunction Vital ({scenario, label, type}) {\r\n\treturn (\r\n\t\t<label>\r\n\t\t\t{label}:\r\n\t\t\t<input\r\n\t\t\t\tid={`vitalSigns-${label}-${type}`}\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tdefaultValue={scenario.vitalSigns[label][type]}\r\n\t\t\t/>\r\n\t\t</label>\r\n\t);\r\n}\r\n\r\nexport default Vitals;\r\n","import classnames from 'classnames';\r\n\r\nconst SAMPLE = ({ active, scenario }) => {\r\n\tconst SAMPLE = scenario.SAMPLE;\r\n\treturn (\r\n\t\t<div className={classnames(\"info-box\", {\"scenario-view-hidden\": !active})} id=\"sample\">\r\n\t\t\t<h1>SAMPLE:</h1>\r\n\r\n\t\t\t<div className=\"sample\">\r\n\t\t\t\t<label>\r\n\t\t\t\t\tS:<input type=\"text\" id=\"SAMPLE-S\" defaultValue={SAMPLE.S} />\r\n\t\t\t\t</label>\r\n\t\t\t\t<label>\r\n\t\t\t\t\tA:<input type=\"text\" id=\"SAMPLE-A\" defaultValue={SAMPLE.A} />\r\n\t\t\t\t</label>\r\n\t\t\t\t<label>\r\n\t\t\t\t\tM:<input type=\"text\" id=\"SAMPLE-M\" defaultValue={SAMPLE.M} />\r\n\t\t\t\t</label>\r\n\t\t\t\t<label>\r\n\t\t\t\t\tP:<input type=\"text\" id=\"SAMPLE-P\" defaultValue={SAMPLE.P} />\r\n\t\t\t\t</label>\r\n\t\t\t\t<label>\r\n\t\t\t\t\tL:<input type=\"text\" id=\"SAMPLE-L\" defaultValue={SAMPLE.L} />\r\n\t\t\t\t</label>\r\n\t\t\t\t<label>\r\n\t\t\t\t\tE:<input type=\"text\" id=\"SAMPLE-E\" defaultValue={SAMPLE.E} />\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default SAMPLE;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport classnames from 'classnames';\r\n\r\nimport {\r\n\tpublishDocument,\r\n\tgetDocument,\r\n\tverifyDocument,\r\n\tdeleteDocument\r\n} from \"../../scripts/connect-firebase.js\";\r\nimport blankTrauma from '../../data/blank-trauma.json';\r\nimport BasicInfo from \"./BasicInfo.js\";\r\nimport Steplist from \"./Steplist.js\";\r\nimport Vitals from \"./Vitals\";\r\nimport SAMPLE from \"./Sample.js\";\r\n\r\nconst COLLECTION_ID = 'scenarios';\r\n\r\n/************************ IMPORTANT!! ***************************\r\n   ID's of each HTML input element are very specifically set.\r\n   Do not change or it will break the form's saving and loading.\r\n*****************************************************************/\r\n\r\nconst ScenarioForm = (props) => {\r\n\tconst { scenarioId } = props.match.params;\r\n\tconst { asTemplate } = props.match.params;\r\n\tconst [scenario, setScenario] = useState(); // current state of scenario form\r\n\tconst [activeTab, setActiveTab] = useState('basic-info'); // current view\r\n\tconst isActiveTab = (name) => name === activeTab;\r\n\tconst isEdit = !!scenarioId;\r\n\tconst formEl = useRef(null);\r\n\tlet history = useHistory();\r\n\r\n\t// Load and apply selected scenario\r\n\tuseEffect(() => {\r\n\t\tisEdit ? getDocument(COLLECTION_ID, scenarioId)\r\n\t\t\t.then((result) => { setScenario(result) })\r\n\t\t\t.catch((error) => {\tconsole.log(error) })\r\n\t\t: setScenario(blankTrauma);\r\n\t}, [scenarioId, isEdit]);\r\n\r\n\treturn (\r\n\t\t<div className=\"scenario-form-wrapper\">\r\n\t\t\t<nav id=\"tab-selector\">\r\n\t\t\t\t<div className={classnames(\"tab-button\", {\"active-tab\": isActiveTab(\"basic-info\")})} \r\n\t\t\t\t\t onClick={() => setActiveTab('basic-info')}>Info</div>\r\n\r\n\t\t\t\t<div className={classnames(\"tab-button\", {\"active-tab\": isActiveTab(\"sample\")})} \r\n\t\t\t\t\t onClick={() => setActiveTab('sample')}>Sample</div>\r\n\r\n\t\t\t\t<div className={classnames(\"tab-button\", {\"active-tab\": isActiveTab(\"vitals\")})}\r\n\t\t\t\t\t onClick={() => setActiveTab('vitals')}>Vitals</div>\r\n\r\n\t\t\t\t<div className={classnames(\"tab-button\", {\"active-tab\": isActiveTab(\"steplist\")})} \r\n\t\t\t\t\t onClick={() => setActiveTab('steplist')}>Steplist</div>\r\n\r\n\t\t\t\t<button type=\"submit\" id=\"submit-next\" onClick={() => submitForm()}>Submit </button>\r\n\t\t\t</nav>\r\n\r\n\t\t\t<form id=\"scenario-form\" className=\"scenario-form\" ref={formEl}>\r\n\t\t\t\t{\r\n\t\t\t\tscenario ?\r\n\t\t\t\t<>\r\n\t\t\t\t\t<BasicInfo \tactive={isActiveTab('basic-info')} \tscenario={scenario} edit={isEdit} />\r\n\t\t\t\t\t<SAMPLE \tactive={isActiveTab('sample')} \t\tscenario={scenario} />\r\n\t\t\t\t\t<Vitals \tactive={isActiveTab('vitals')} \t\tscenario={scenario} />\r\n\t\t\t\t\t<Steplist \tactive={isActiveTab('steplist')}\tscenario={scenario} />\r\n\t\t\t\t</>\r\n\t\t\t\t: <p>Loading...</p> // While scenario is loading in\r\n\t\t\t\t}\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n\r\n\tasync function submitForm() {\r\n\t\tlet form = formEl.current;\r\n\r\n\t\tif (asTemplate === 'template' && form.name.value === scenario.name)\r\n\t\t{\r\n\t\t\talert('You can\\'t use the same name as the template!');\r\n\t\t}\r\n\t\telse if ( form.name.value == null || form.name.value.trim() === \"\" || ( await verifyDocument(COLLECTION_ID, form.name.value) && !isEdit ) ) \r\n\t\t{\r\n\t\t\t// If scenario exists and not in edit mode\r\n\t\t\talert('Scenario needs a new name!');\r\n\t\t}\r\n\t\telse if (window.confirm(\"Any empty items will be filled with default information. Submit?\"))\r\n\t\t{\r\n\t\t\tform = processForm(form);\r\n\t\t\t\r\n\t\t\t// If there's a name change\r\n\t\t\t(isEdit && form.name.value !== scenario.name && !asTemplate) && deleteDocument(COLLECTION_ID, scenario.name); \r\n\r\n\t\t\t// console.log(form);\r\n\t\t\tpublishDocument(COLLECTION_ID, form.name, form); // Create new\r\n\t\t\thistory.goBack(); // Send back once submitted\r\n\t\t} \r\n\t\telse \r\n\t\t{\r\n\t\t\tconsole.log(\"Submit cancelled.\");\r\n\t\t}\r\n\t}\r\n\r\n\tfunction processForm(data) {\r\n\t\tlet input, id, path, \r\n\t\tnewScenario = JSON.parse(JSON.stringify(scenario)); // deep copy of original format (for edits)\r\n\r\n\t\tfor(let item of data) {\r\n\t\t\tid = item.id;\r\n\t\t\tpath = id.split('-');\r\n\t\t\tinput = item.value;\r\n\r\n\t\t\t// Default assess case\r\n\t\t\tif (path[0] === 'assessmentFindings' && !input) \r\n\t\t\t\tinput = \"Unremarkable\";\r\n\r\n\t\t\tif (input) { // Don't process empty fields\r\n\t\t\t\t// Reconstruct assessmentFindings path after split\r\n\t\t\t\tif (path[0] === 'assessmentFindings') path = [path[0], id.split('assessmentFindings-')[1]];\r\n\r\n\t\t\t\t// Read numbers as numbers\r\n\t\t\t\tinput = isNaN(input) ? input : parseInt(input);\r\n\r\n\t\t\t\t// Handle different object depths\r\n\t\t\t\tswitch (path.length) {\r\n\t\t\t\t\tcase 1: newScenario[path[0]] = input; break;\r\n\t\t\t\t\tcase 2: newScenario[path[0]][path[1]] = input; break;\r\n\t\t\t\t\tcase 3: newScenario[path[0]][path[1]][path[2]] = input; break;\r\n\r\n\t\t\t\t\tdefault: console.log('Path length error:', path.length); break; // Log error\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn newScenario;\r\n\t}\r\n};\r\n\r\nexport default ScenarioForm;\r\n","import { React, useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getCollection, deleteDocument } from '../../scripts/connect-firebase';\r\nimport Header from '../Header';\r\n\r\nconst COLLECTION_ID = 'scenarios';\r\n\r\nconst ScenariosList = () => {\r\n\tconst [scenarios, setScenarios] = useState();\r\n\tconst LOADING = <p>Loading...</p>;\r\n\tlet listIndex = 0;\r\n\r\n\tuseEffect(() => {\r\n\t\tgetCollection(COLLECTION_ID)\r\n\t\t\t.then((result) => { setScenarios(result) })\r\n\t\t\t.catch((error) => { console.log(error) })\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Header />\r\n\r\n\t\t\t<div className=\"scenario-list\">\r\n\t\t\t\t<h1 id='scenario-list-title'>Scenario List</h1>\r\n\r\n\t\t\t\t<Link to='/scenario/' className=\"new-scenario-bttn list-scenario-item\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<h1>+</h1>\r\n\t\t\t\t\t\t<p>Create a New Scenario</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Link>\r\n\r\n\t\t\t\t{scenarios \r\n\t\t\t\t\t? scenarios.map((item) => (\r\n\t\t\t\t\t\t\titem && <ListItem item={item} key={`${item.name}-list`} remove={deleteScenario} index={listIndex++} />))\r\n\t\t\t\t \t: LOADING }\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n\r\n\tasync function deleteScenario(index) {\r\n\t\tlet id = scenarios[index].name;\r\n\t\tif( window.confirm('Are you sure you want to delete this scenario? This cannot be undone!') ) {\r\n\t\t\tawait deleteDocument(COLLECTION_ID, id);\r\n\t\t\tlet newList = scenarios.slice(); // deep copy\r\n\t\t\tnewList.splice(index, 1);\r\n\t\t\tsetScenarios( newList );\r\n\t\t} else {\r\n\t\t\tconsole.log('Delete of', id, 'cancelled');\r\n\t\t}\r\n\t}\r\n};\r\n\r\nconst ListItem = ({ item, remove, index }) => {\r\n\treturn (\r\n\t\t<div className=\"list-scenario-item\">\r\n\t\t\t<h1 id=\"title\">{item.name}</h1>\r\n\t\t\t<p>{item.scenarioType}</p>\r\n\t\t\t<p>Info: {item.info.instructorInformation ?? \"Not given.\"}</p>\r\n\r\n\t\t\t<Link to={`/scenario/${item.name}`} className=\"action-bttn\">Edit</Link>\r\n\t\t\t<Link to={`/scenario/${item.name}/template`} className=\"action-bttn\">Use as Template</Link>\r\n\t\t\t<button type=\"button\" className=\"action-bttn\" onClick={() => remove(index) }>Delete</button>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ScenariosList;\r\n","import { getCollection, \r\n        getDocument, \r\n        publishDocument,\r\n        verifyDocument,\r\n        deleteDocument } \r\nfrom '../../scripts/connect-firebase.js';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport Header from '../Header';\r\n\r\nconst COLLECTION_ID = 'class-codes';\r\n\r\nconst ClassCode = (props) => {\r\n    const { classCode } = props.match.params;\r\n    const [ scenarios, setScenarios ] = useState(null);\r\n    const [ assignment, setAssignment ] = useState(null);\r\n    const [ originalId, isEdit ] = [ classCode, !!classCode ];\r\n    const assignmentTitle = useRef(null);\r\n    const checklist = useRef(null);\r\n    const orderRequired = useRef(null);\r\n\tlet history = useHistory();\r\n    \r\n    useEffect(() => {\r\n        getCollection('scenarios')\r\n            .then((result) => { \r\n                setScenarios(result); // Load scenarios from db\r\n\r\n                classCode ? // Load assignment if an edit\r\n                getDocument(COLLECTION_ID, classCode)\r\n                    .then((result) => { \r\n                        setAssignment(result);\r\n                    })\r\n                    .catch((err) => console.log(err)) \r\n                : setAssignment([]);\r\n\r\n            })\r\n            .catch(() => console.log('Scenario loaded error') )\r\n    }, [classCode]);\r\n\r\n    const processAssignment = () => {\r\n        let form = checklist.current.children;\r\n        let assignmentObj = [];\r\n\r\n        // Get assignments and place in object\r\n        for(let i=0; i < form.length; i++){\r\n            if(form[i].children[0].checked)\r\n                assignmentObj.push({ // New objects\r\n                    id: form[i].children[0].value,\r\n                    order: parseInt(form[i].children[1].children[0].value) || (orderRequired.current.checked ? 1: -1)\r\n                });\r\n        }\r\n        \r\n        return assignmentObj;\r\n    }\r\n\r\n    const handleSubmit = async () => {\r\n        let title = assignmentTitle.current.value;\r\n        \r\n        let assignmentTasks = processAssignment();\r\n\r\n        console.log(assignmentTasks);\r\n        \r\n        // Verify name isn't empty and doesn't already exists (prevent overwriting)\r\n        if ( title.trim() === '' || (await verifyDocument(COLLECTION_ID, title) && !isEdit) ) {\r\n            alert('Assignment needs a title!');\r\n            return;\r\n        }\r\n\r\n        (isEdit && originalId !== title) && deleteDocument(COLLECTION_ID, originalId);\r\n\r\n        await publishDocument( COLLECTION_ID, title, \r\n            { title: title, orderRequired: orderRequired.current.checked, assignments: assignmentTasks });\r\n\r\n        alert(`Published ${assignmentTitle.current.value}`);\r\n        history.push('/class-codes-list/');\r\n    };\r\n\r\n    const isChecked = (id) => {\r\n        let checked = false;\r\n        assignment?.assignments?.forEach(item => {\r\n            if(item.id === id) checked = true;\r\n        });\r\n        return checked;\r\n    };\r\n\r\n    const orderNum = (id) => {\r\n        let num = null;\r\n        assignment?.assignments?.forEach(item => {\r\n            if(item.id === id) num = item.order;\r\n        });\r\n        return num;\r\n    };\r\n\r\n    return (\r\n        <>\r\n        <Header />\r\n        <div className=\"scenario-assignment\">\r\n            <h1>Class Code</h1>\r\n            {\r\n                assignment ? // Check if assignment loaded in\r\n                <>\r\n                <label className=\"assignment-title\">\r\n                    Title: <input type=\"text\" ref={assignmentTitle} defaultValue={classCode} /> \r\n                </label>\r\n\r\n                <div className=\"assignment-list\" ref={checklist}>\r\n                    {\r\n                        scenarios.map( (item) => (\r\n                            <label key={item.name} className=\"assignment-check-item\">\r\n                                <input type=\"checkbox\" value={item.name} defaultChecked={isChecked(item.name)}/>\r\n                                {item.name}\r\n\r\n                                <span>\r\n                                    # <input type=\"number\" defaultValue={orderNum(item.name)}/>\r\n                                </span>\r\n                            </label>\r\n                        ))\r\n                    }\r\n                </div>\r\n\r\n                <label className=\"required-bttn\">\r\n                    Order required: <input type=\"checkbox\" ref={orderRequired} defaultChecked={assignment.orderRequired} />\r\n                </label>\r\n                </>\r\n                : <p>Loading...</p>\r\n            }\r\n            <button type=\"button\" onClick={() => handleSubmit()}>Submit</button>\r\n        </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ClassCode;","import { useState, useEffect } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport { getCollection, deleteDocument } from '../../scripts/connect-firebase.js';\r\nimport Header from '../Header';\r\n\r\nconst COLLECTION_ID = 'class-codes';\r\n\r\nconst ClassCodesList = () => {\r\n    const [ codes, setCodes ] = useState(null);\r\n    \r\n    useEffect(() => {\r\n        getCollection(COLLECTION_ID)\r\n            .then((result) => { setCodes(result); })\r\n            .catch((err) => { console.log(err); })\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n        <Header />\r\n        <div className=\"scenario-assignment-list\">\r\n            <h1>Class Codes</h1>\r\n            <Link to={`/class-codes/`} className=\"new-assignment-bttn scenario-assignment-list-item\">\r\n                <p>Create new class code +</p>\r\n            </Link>\r\n            {\r\n                codes &&\r\n                codes.map( item => (\r\n                    <ListItem item={item} key={item.title} remove={handleDelete} />\r\n                ))\r\n            }\r\n        </div>\r\n        </>\r\n    );\r\n\r\n    async function handleDelete(item) {\r\n        let id = item.title;    \r\n        if( window.confirm('Are you sure you want to permanetly delete this group? This cannot be undone!') ){\r\n            deleteDocument(COLLECTION_ID, id);\r\n            let newGroups = codes.slice();\r\n            newGroups.splice( newGroups.indexOf(item), 1);\r\n\r\n            setCodes(newGroups);\r\n        } else\r\n            console.log(`Delete of ${id} cancelled.`);\r\n    }\r\n};\r\n\r\nconst ListItem = ({ item, remove }) => {\r\n    return (\r\n        <div className=\"scenario-assignment-list-item\">\r\n            <p>{item.title}</p>\r\n\r\n            <Link to={`/class-codes/${item.title}`} className=\"action-bttn\" >Edit</Link>\r\n            <button type=\"button\" className=\"action-bttn\" onClick={() => remove(item)}>Delete</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ClassCodesList;","// some constants for types so we can prevent typos\r\nexport const HEADING = \"heading\" //not a leaf node, simply a step which has child steps\r\n// leaf node types\r\nexport const ASSESS = \"assessment\"\r\nexport const REQURED = \"required-action\"   // an action the EMT performs, but not on the patient\r\nexport const CL_PROMPT = \"checklist-prompt\"\r\nexport const CRIT_FAIL = \"critical-criteria\"\r\nexport const INTV_FORM = \"intervention-form\"\r\nexport const PROMPT = \"prompt\"\r\nexport const ONE = \"one\"\r\nexport const OOM = \"one-or-more\"\r\nexport const NONE = \"none\"\r\nexport const INTERV = \"intervention\" // an action performed on the patient\r\nexport const ANSWER = \"answer\"\r\nexport const OPTION = \"option\"\r\nexport const CB = \"checkbox\"\r\n\r\n","\r\nimport {\r\n    HEADING,\r\n    ASSESS,\r\n    REQURED,\r\n    CL_PROMPT,\r\n    CRIT_FAIL,\r\n    INTV_FORM,\r\n    PROMPT,\r\n    ONE,\r\n    OOM,\r\n    NONE,\r\n    INTERV,\r\n    ANSWER,\r\n} from \"./constants.js\"\r\n\r\nexport const CHECKLIST_META_DATA = [\r\n    { id: \"heading-bsi\", type: HEADING, label: \"BSI\" },\r\n    { id: \"required-action-apply-ppe\", type: REQURED, label: \"Takes or verbalizes appropriate PPE precautions.\" },\r\n    { id: \"heading-scene-size-up\", type: HEADING, label: \"Scene Size-Up\" },\r\n    { id: \"assess-scene-safety\", type: ASSESS, label: \"Determines the scene/situation is safe\", tabLabel: \"Scene Safety\" },\r\n    { id: \"assess-injury-mechanism\", type: ASSESS, label: \"Determines the mechanism of injury/nature of illness\", tabLabel: \"Mechanism of Injury\" },\r\n    { id: \"assess-num-patients\", type: ASSESS, label: \"Determines the number of patients\", tabLabel: \"Num Patients\" },\r\n    { id: \"assess-need-additional-help\", type: ASSESS, label: \"Requests additional help if necessary\", tabLabel: \"Additional Help\" },\r\n    { id: \"required-action-considers-stabilize-spine\", type: REQURED, label: \"Considers stabilization of spine\" },\r\n    { id: \"heading-primary-survey\", type: HEADING, label: \"Primary Survey/Resuscitation\" },\r\n    { id: \"assess-patient-condition\", type: ASSESS, label: \"States or requests general impression\", tabLabel: \"General Impression\" },\r\n    { id: \"assess-loc\", type: ASSESS, label: \"Determines responsiveness/level of consciousness\", tabLabel: \"LOC\" },\r\n    { id: \"assess-life-threats\", type: ASSESS, label: \"Determines chief complaint/apparent life-threats\", tabLabel: \"Life Threats\" },\r\n    { id: \"heading-airway\", type: HEADING, label: \"Airway\" },\r\n    { id: \"assess-airway\", type: ASSESS, label: \"Assesses airway\", tabLabel: \"Airway\" },\r\n    { id: \"heading-manages-airway\", type: HEADING, label: \"Manages Airway\" },\r\n    { id: \"assess-response-airway-mgmt\", type: ASSESS, label: \"Assesses patient response to airway management\", tabLabel: \"Airway Mgmt Response\" },\r\n    { id: \"heading-breathing\", type: HEADING, label: \"Breathing\" },\r\n    { id: \"assess-breathing\", type: ASSESS, label: \"Assesses breathing\", tabLabel: \"Breathing\" },\r\n    { id: \"heading-manages-breathing\", type: HEADING, label: \"Manages Breathing\" },\r\n    { id: \"assess-response-breathing-mgmt\", type: ASSESS, label: \"Assesses patients response to breathing management\", tabLabel: \"Breathing Mgmt Response\" },\r\n    { id: \"heading-circulation\", type: HEADING, label: \"Circulation\" },\r\n    // { id: \"heading-assesses-circulation\", type: HEADING, label: \"Assesses Circulation\" },\r\n    { id: \"assess-pulse\", type: ASSESS, label: \"Checks pulse\", tabLabel: \"Pulse\" },\r\n    { id: \"assess-skin\", type: ASSESS, label: \"Assesses skin (color, temperature, condition)\", tabLabel: \"Skin\" },\r\n    { id: \"assess-major-bleeding\", type: ASSESS, label: \"Checks for major bleeding\", tabLabel: \"Major Bleeding\" },\r\n    { id: \"heading-manages-circulation\", type: HEADING, label: \"Manages circulation\" },\r\n    { id: \"assess-response-bleeding-mgmt\", type: ASSESS, label: \"Assesses patients response to managing severe bleeding\", tabLabel: \"Major Bleeding Mgmt Response\" },\r\n    // { id: \"transport-decision\", type: HEADING, label: \"Transport Decision\" },\r\n    { id: \"heading-history-taking\", type: HEADING, label: \"History Taking\" },\r\n    { id: \"required-action-obtains-vitals\", type: REQURED, label: \"Obtains (or directs assistant to obtain) baseline vital signs\" },\r\n    { id: \"required-action-attempt-obtain-sample\", type: REQURED, label: \"Attempts to obtain SAMPLE history\" },\r\n    { id: \"assess-opqrst-info\", type: ASSESS, label: \"Attempts to obtain OPQRST information\", tabLabel: \"OPQRST\" },\r\n    { id: \"heading-secondary-assessment\", type: HEADING, label: \"Secondary Assessment\" },\r\n    { id: \"cl-prompt-general-state-looking-listening-feeling\", type: CL_PROMPT, label: \"Prompt students to state what they are looking/listening/feeling for throughout.\" },\r\n    { id: \"required-action-remove-patient-clothing-as-needed\", type: REQURED, label: \"Removes clothing as needed\" },\r\n    { id: \"heading-head\", type: HEADING, label: \"Head\" },\r\n    { id: \"assess-inspects-head\", type: ASSESS, label: \"Inspects the head\", tabLabel: \"Inspect Head\" },\r\n    { id: \"assess-palpate-skull\", type: ASSESS, label: \"Palpates the skull\", tabLabel: \"Palpate Skull\" },\r\n    { id: \"assess-eyes-reactiveness\", type: ASSESS, label: \"Assesses eyes for reactiveness\", tabLabel: \"PERRL\" },\r\n    { id: \"assess-eyes-ears-nose-mouth\", type: ASSESS, label: \"Assesses eyes, ears, nose, mouth\", tabLabel: \"Head Fluids\" },\r\n    { id: \"heading-neck\", type: HEADING, label: \"Neck\" },\r\n    { id: \"assess-trachea\", type: ASSESS, label: \"Inspects position of trachea\", tabLabel: \"Trachea\" },\r\n    { id: \"assess-jugular\", type: ASSESS, label: \"Inspects jugular veins\", tabLabel: \"Jugular\" },\r\n    { id: \"assess-palpate-cervical-spine\", type: ASSESS, label: \"Palpates cervical spine\", tabLabel: \"Assess C-Spine\" },\r\n    { id: \"heading-shoulders\", type: HEADING, label: \"Shoulders\" },\r\n    { id: \"assess-check-shoulders\", type: ASSESS, label: \"Checks if stable and intact\", tabLabel: \"Check Shoulders\" },\r\n    { id: \"heading-clavicle\", type: HEADING, label: \"Clavicle\" },\r\n    { id: \"assess-inspect-clavicle\", type: ASSESS, label: \"Checks if stable and intact\", tabLabel: \"Checks Clavicle\" },\r\n    { id: \"heading-chest\", type: HEADING, label: \"Chest\" },\r\n    { id: \"assess-inspect-chest\", type: ASSESS, label: \"Inspects Chest\", tabLabel: \"Inspects Chest\" },\r\n    { id: \"assess-palpate-chest\", type: ASSESS, label: \"Palpates chest\", tabLabel: \"Palpate Chest\" },\r\n    { id: \"assess-auscultate-chest\", type: ASSESS, label: \"Auscultates chest\", tabLabel: \"Auscultate Chest\" },\r\n    { id: \"heading-abdomen-pelvis\", type: HEADING, label: \"Abdomen/pelvis\" },\r\n    { id: \"assess-inspects-abdomen\", type: ASSESS, label: \"Inspects Abdomen\", tabLabel: \"Inspects Abdomen\" },\r\n    { id: \"assess-palpate-abdomen\", type: ASSESS, label: \"Palpates abdomen\", tabLabel: \"Palpate Abdomen\" },\r\n    { id: \"assess-pelvis\", type: ASSESS, label: \"Assess pelvis\", tabLabel: \"Pelvis\" },\r\n    { id: \"assess-genitalia-perineum\", type: ASSESS, label: \"Assesses genitalia/perineum as needed\", tabLabel: \"Genitalia/Perineum\" },\r\n    { id: \"heading-lower-extremities\", type: HEADING, label: \"Lower extremities\" },\r\n    { id: \"assess-legs-inspects\", type: ASSESS, label: \"Inspects lower extremities bilaterally\", tabLabel: \"Inspect Legs\" },\r\n    { id: \"assess-legs-motor-function\", type: ASSESS, label: \"Assesses motor function bilaterally\", tabLabel: \"Legs Motor Func.\" },\r\n    { id: \"assess-legs-sensory-function\", type: ASSESS, label: \"Assesses sensory function bilaterally\", tabLabel: \"Legs Sensory Func.\" },\r\n    { id: \"assess-legs-pulse\", type: ASSESS, label: \"Checks pulse bilaterally\", tabLabel: \"Legs Pulse\" },\r\n    { id: \"heading-upper-extremities\", type: HEADING, label: \"Upper extremities\" },\r\n    { id: \"assess-arms-inspects\", type: ASSESS, label: \"Inspects upper extremeties bilaterally\", tabLabel: \"Inspects Arms\" },\r\n    { id: \"assess-arms-motor-function\", type: ASSESS, label: \"Assesses motor function bilaterally\", tabLabel: \"Arms Motor Func.\" },\r\n    { id: \"assess-arms-sensory-function\", type: ASSESS, label: \"Assesses sensory function bilaterally\", tabLabel: \"Arms Sensory Func.\" },\r\n    { id: \"assess-arms-pulse\", type: ASSESS, label: \"Checks pulse bilaterally\", tabLabel: \"Arms Pulse\" },\r\n    { id: \"heading-posterior-thorax-lumbar-buttocks\", type: HEADING, label: \"Posterior thorax, lumbar, and buttocks\" },\r\n    { id: \"assess-posterior-inspects\", type: ASSESS, label: \"Inspects posterior thorax, lumbar, buttocks\", tabLabel: \"Inspects Posterior\" },\r\n    { id: \"assess-palpate-posterior-thorax\", type: ASSESS, label: \"Palpates posterior thorax/lumbar/buttocks\", tabLabel: \"Palpate Posterior/Thorax\" },\r\n    { id: \"heading-reassessment\", type: HEADING, label: \"Reassessment\" },\r\n    { id: \"required-action-repeats-primary-assesment\", type: REQURED, label: \"Repeats primary assessment\" },\r\n    { id: \"required-action-repeats-secondary-assesment\", type: REQURED, label: \"Repeats secondary assessment\" },\r\n    { id: \"assess-cardiac-monitoring\", type: ASSESS, label: \"Performs cardiac monitoring\", tabLabel: \"Cardiac Monitoring\" },\r\n    { id: \"heading-critical-criteria\", type: HEADING, label: \"Critical Criteria\" },\r\n    { id: \"critical-failure-inapproriate-intervention\", type: CRIT_FAIL, label: \"Uses or orders a dangerous or inappropriate intervention\" },\r\n    { id: \"critical-failure-inapproriate-behavior\", type: CRIT_FAIL, label: \"Exhibits unprofessional behavior\" },\r\n]\r\n\r\n\r\nexport const INTV_META_DATA = [\r\n\r\n    { id: \"intv-form-establish-ivs\", type: INTV_FORM, label: \"Establish IVs\"},\r\n        { id: \"prompt-num-ivs\", type: PROMPT, selectionType: ONE, label: \"How many IVs would you establish?\", form: \"intv-form-establish-ivs\"},\r\n            { id: \"answer-num-ivs-one\", type: ANSWER, label: \"one\", prompt: \"prompt-num-ivs\"},\r\n            { id: \"answer-num-ivs-two\", type: ANSWER, label: \"two\", prompt: \"prompt-num-ivs\" },\r\n            { id: \"answer-num-ivs-other\", type: ANSWER, label: \"Other\", prompt: \"prompt-num-ivs\" },\r\n        { id: \"prompt-iv-size\", type: PROMPT, selectionType: ONE, label: \"What size IV?\", form: \"intv-form-establish-ivs\" },\r\n            { id: \"answer-iv-size-large-as-possible\", type: ANSWER, label: \"As large as possible\", prompt: \"prompt-iv-size\" },\r\n            { id: \"answer-iv-size-other\", type: ANSWER, label: \"Other\", prompt: \"prompt-iv-size\" },\r\n\r\n    { id: \"intv-form-intubation\", type: INTV_FORM, label: \"\" },\r\n        { id: \"prompt-intubation-tube-size\", type: PROMPT, selectionType: ONE, label: \"What size tube would you use?\", form: \"intv-form-intubation\" },\r\n            { id: \"answer-intubation-tube-size-option-1\", type: ANSWER, label: \"scenario-specific-option\", prompt: \"prompt-intubation-tube-size\" },\r\n            { id: \"answer-intubation-tube-size-other\", type: ANSWER, label: \"Other\", prompt: \"prompt-intubation-tube-size\" },\r\n        { id: \"prompt-intubation-confirm-correct-tube-placement\", type: PROMPT, selectionType: OOM, label: \"What techniques will you use to confirm correct tube placement?\", form: \"intv-form-intubation\" },\r\n            { id: \"answer-inspect-tube-location\", type: ANSWER, label: \"Inspect tube location\", prompt: \"prompt-intubation-confirm-correct-tube-placement\" },\r\n            { id: \"answer-co2-capnography\", type: ANSWER, label: \"CO2 capnography\", prompt: \"prompt-intubation-confirm-correct-tube-placement\" },\r\n            { id: \"answer-auscultate-epigastrium\", type: ANSWER, label: \"Auscultate bilaterally and over epigastrium\", prompt: \"prompt-intubation-confirm-correct-tube-placement\" },\r\n            { id: \"answer-check-oxygen-saturation\", type: ANSWER, label: \"Check oxygen saturation\", prompt: \"prompt-intubation-confirm-correct-tube-placement\" },\r\n\r\n\r\n    { id: \"intv-form-open-airway\", type: INTV_FORM, label: \"Open airway\" },\r\n        { id: \"prompt-open-airway-method\", type: PROMPT, selectionType: ONE, label: \"What method would you use to open the airway?\", form: \"intv-form-open-airway\" },\r\n            { id: \"intv-open-airway-method-head-tilt\", type: INTERV, label: \"Head tilt\", prompt: \"prompt-open-airway-method\" },\r\n            { id: \"intv-open-airway-method-jaw-thrust\", type: INTERV, label: \"Jaw thrust\", prompt: \"prompt-open-airway-method\"},\r\n            { id: \"intv-open-airway-method-modified-jaw-thrust\", type: INTERV, label: \"Modified jaw thrust\", prompt: \"prompt-open-airway-method\" },\r\n            { id: \"intv-open-airway-method-other\", type: INTERV, label: \"Other\", prompt: \"prompt-open-airway-method\" },\r\n\r\n    { id: \"intv-form-bls-airway-management\", type: INTV_FORM, label: \"BLS airway management\" },\r\n    { id: \"prompt-basic-airway-type\", type: PROMPT, selectionType: ONE, label: \"Which type of airway would you try to apply?\", form: \"intv-form-bls-airway-management\"},\r\n            { id: \"intv-nasopharyngeal\", type: INTERV, label: \"Nasopharyngeal\", relatedForm: \"intv-form-basic-airway-reasoning\", prompt: \"prompt-basic-airway-type\"},\r\n            { id: \"intv-oropharyngeal\", type: INTERV, label: \"Oropharyngeal\",  relatedForm: \"intv-form-basic-airway-reasoning\", prompt: \"prompt-basic-airway-type\"},\r\n\r\n    { id: \"intv-form-basic-airway-type-nasopharyngeal\", type: INTV_FORM, label: \"\"},\r\n    { id: \"intv-form-basic-airway-type-oropharyngeal\", type: INTV_FORM, label: \"\" },\r\n\r\n    { id: \"intv-form-basic-airway-reasoning\", type: INTV_FORM},\r\n        { id: \"prompt-basic-airway-reasoning\", type: PROMPT, selectionType: OOM, label: \"When would you use a nasopharyngeal airway instead of an oropharyngeal airway?\", form: \"intv-form-basic-airway-reasoning\" },\r\n            { id: \"answer-basic-airway-reasoning-gag-reflex\", type: ANSWER, label: \"When patient has a gag reflex\", prompt: \"prompt-basic-airway-reasoning\" },\r\n            { id: \"answer-basic-airway-reasoning-other\", type: ANSWER, label: \"Other\", prompt: \"prompt-basic-airway-reasoning\" },\r\n\r\n    { id: \"intv-form-als-airway-management\", type: INTV_FORM, label: \"ALS airway management\" },\r\n        { id: \"prompt-als-airway-management-technique\", type: PROMPT, selectionType: ONE, label: \"Which interventions would you perform, and in what order?\", form: \"intv-form-als-airway-management\" },\r\n            { id: \"intv-supraglottic\", type: INTERV, label: \"Supraglottic\", prompt: \"prompt-als-airway-management-technique\" },\r\n            { id: \"intv-orotracheal-intubation\", type: INTERV, label: \"Orotracheal intubation\", relatedForm: \"intv-form-orotracheal-intubation\", prompt: \"prompt-als-airway-management-technique\" },\r\n\r\n    { id: \"intv-form-orotracheal-intubation\", type: INTV_FORM, label: \"Orotracheal intubation\" },\r\n        { id: \"prompt-orotracheal-intubation-type\", type: PROMPT, selectionType: ONE, label: \"Which type of intubation would you perform?\", form: \"intv-form-orotracheal-intubation\" },\r\n            { id: \"intv-orotracheal-intubation-type-direct\", type: INTERV, label: \"Direct\", relatedForm: \"intv-form-orotracheal-intubation-type-direct\", prompt: \"prompt-orotracheal-intubation-type\" },\r\n            { id: \"intv-orotracheal-intubation-type-gum-elastic-bougie-assisted\", type: INTERV, label: \"Gum elastic bougie-assisted\", relatedForm: \"intv-form-orotracheal-intubation-type-gum-elastic-bougie-assisted\", prompt: \"prompt-orotracheal-intubation-type\" },\r\n            { id: \"intv-orotracheal-intubation-type-video-laryngoscopy\", type: INTERV, label: \"Video laryngoscopy\", relatedForm: \"intv-form-orotracheal-intubation-type-video-laryngoscopy\", prompt: \"prompt-orotracheal-intubation-type\" },\r\n            { id: \"intv-orotracheal-intubation-type-medication-facilitated\", type: INTERV, label: \"Medication Facilitated\", relatedForm: \"intv-form-orotracheal-intubation-type-medication-facilitated\", prompt: \"prompt-orotracheal-intubation-type\" },\r\n\r\n    { id: \"intv-form-orotracheal-intubation-type-direct\", type: INTV_FORM, label: \"\" },\r\n    { id: \"intv-form-orotracheal-intubation-type-gum-elastic-bougie-assisted\", type: INTV_FORM, label: \"\" },\r\n    { id: \"intv-form-orotracheal-intubation-type-video-laryngoscopy\", type: INTV_FORM, label: \"\" },\r\n    { id: \"intv-form-orotracheal-intubation-type-medication-facilitated\", type: INTV_FORM, label: \"Medication facilitated\" },\r\n        { id: \"prompt-sedated-intubation-medication\", type: PROMPT, selectionType: ONE, label: \"What medication would you administer?\", form: \"intv-form-orotracheal-intubation-type-medication-facilitated\" },\r\n            { id: \"answer-sedated-intubation-medication-etomidate\", type: ANSWER, label: \"Etomidate\", prompt: \"prompt-sedated-intubation-medication\" },\r\n            { id: \"answer-sedated-intubation-medication-other\", type: ANSWER, label: \"Other\", prompt: \"prompt-sedated-intubation-medication\" },\r\n        { id: \"prompt-sedated-intubation-dosage\", type: PROMPT, selectionType: ONE, label: \"What dose?\", form: \"intv-form-orotracheal-intubation-type-medication-facilitated\" },\r\n            { id: \"answer-sedated-intubation-dosage-less\", type: ANSWER, label: \"less\", prompt: \"prompt-sedated-intubation-dosage\" },\r\n            { id: \"answer-sedated-intubation-dosage-correct\", type: ANSWER, label: \"correct dosage\", prompt: \"prompt-sedated-intubation-dosage\" },\r\n            { id: \"answer-sedated-intubation-dosage-more\", type: ANSWER, label: \"more\", prompt: \"prompt-sedated-intubation-dosage\" },\r\n\r\n    { id: \"intv-form-establishes-patency\", type: INTV_FORM, label: \"Establishes patency\" },\r\n        { id: \"prompt-airway-patency-techniques\", type: PROMPT, selectionType: OOM, label: \"What technique(s) would you try, and in what order?\", form: \"intv-form-establishes-patency\"},\r\n            { id: \"intv-airway-patency-technique-suction-airway\", type: INTERV, label: \"Suction airway\", relatedForm: \"intv-form-airway-patency-suction\", prompt: \"prompt-airway-patency-techniques\" },\r\n            { id: \"intv-airway-patency-technique-remove-foreign-body-obstructions\", type: INTERV, label: \"Remove foreign body obstructions\", relatedForm: \"intv-form-airway-patency-remove-foreign-body-obstructions\", prompt: \"prompt-airway-patency-techniques\" },\r\n            { id: \"intv-airway-patency-technique-cricothyrotomy\", type: INTERV, label: \"Perform cricothyrotomy\", relatedForm: \"intv-form-airway-patency-cricothyrotomy\", prompt: \"prompt-airway-patency-techniques\" },\r\n\r\n    { id: \"intv-form-airway-patency-suction\", type: INTV_FORM, label: \"Suction Airway\" },\r\n        { id: \"prompt-airway-patency-suction-device\", type: PROMPT, selectionType: ONE, label: \"What kind of suction catheter will you use?\", form: \"intv-form-airway-patency-suction\" },\r\n            { id: \"answer-airway-patency-suction-tip-catheter\", type: ANSWER, label: \"Tip Catheter\", prompt: \"prompt-airway-patency-suction-device\" },\r\n            { id: \"answer-airway-patency-suction-little-sucker\", type: ANSWER, label: \"Little Sucker\", prompt: \"prompt-airway-patency-suction-device\" },\r\n            { id: \"answer-airway-patency-suction-yankauer\", type: ANSWER, label: \"Yankauer\", prompt: \"prompt-airway-patency-suction-device\" },\r\n            { id: \"answer-airway-patency-suction-long-multiuse\", type: ANSWER, label: \"Long, multiuse\", prompt: \"prompt-airway-patency-suction-device\" },\r\n\r\n    { id: \"intv-form-airway-patency-remove-foreign-body-obstructions\", type: INTV_FORM, label: \"Remove foreign body obstructions\" },\r\n        { id: \"prompt-airway-patency-remove-foreign-body-obstructions-technique\", type: PROMPT, selectionType: OOM, label: \"What technique(s) will you try, and in what order?\", form: \"intv-form-airway-patency-remove-foreign-body-obstructions\" },\r\n            { id: \"answer-airway-patency-remove-foreign-body-obstructions-technique-manual\", type: ANSWER, label: \"Manual removal\", prompt: \"prompt-airway-patency-remove-foreign-body-obstructions-technique\" },\r\n            { id: \"answer-airway-patency-remove-foreign-body-obstructions-technique-magill-forceps\", type: ANSWER, label: \"Magill forceps assisted removal\", prompt: \"prompt-airway-patency-remove-foreign-body-obstructions-technique\" },\r\n\r\n    { id: \"intv-form-airway-patency-cricothyrotomy\", type: INTV_FORM, label: \"Cricothyrotomy\" },\r\n        { id: \"prompt-cricothyrotomy-type\", type: PROMPT, selectionType: ONE, label: \"Which type?\", form: \"intv-form-airway-patency-cricothyrotomy\" },\r\n            { id: \"answer-cricothyrotomy-type-percutaneous\", type: ANSWER, label: \"Percutaneous\", prompt: \"prompt-cricothyrotomy-type\" },\r\n            { id: \"answer-cricothyrotomy-type-surgical\", type: ANSWER, label: \"Surgical\", prompt: \"prompt-cricothyrotomy-type\" },\r\n\r\n    { id: \"intv-form-ventilation\", type: INTV_FORM, label: \"Ventilation\" },\r\n        { id: \"prompt-ventilation-technique\", type: PROMPT, selectionType: ONE, label: \"What ventilation technique will you use?\", form: \"intv-form-ventilation\" },\r\n            { id: \"intv-ventilation-technique-bag-valve-mask\", type: INTERV, label: \"Bag-valve mask\", relatedForm: \"intv-form-ventilation-technique-bag-valve-mask\", prompt: \"prompt-ventilation-technique\" },\r\n            { id: \"intv-ventilation-technique-automatic-transport-ventilator\", type: INTERV, label: \"Automatic transport ventilator\", relatedForm: \"intv-ventilation-technique-automatic-transport-ventilator\", prompt: \"prompt-ventilation-technique\" },\r\n\r\n    { id: \"intv-form-ventilation-technique-bag-valve-mask\", type: INTV_FORM, label: \"\"},\r\n    { id: \"intv-form-ventilation-technique-automatic-transport-ventilator\", type: INTV_FORM, label: \"\"},\r\n    { id: \"intv-form-ventilation-rate\", type: INTV_FORM, label: \"\"},\r\n        { id: \"prompt-ventilation-rate\", type: PROMPT, selectionType: ONE, label: \"At what rate will you ventilate the patient?\", form: \"intv-form-ventilation-rate\" },\r\n            { id: \"answer-ventilation-rate-10-12-bpm\", type: ANSWER, label: \"10-12 breaths/minute\", prompt: \"prompt-ventilation-rate\" },\r\n            { id: \"answer-ventilation-rate-other\", type: ANSWER, label: \"Other\", prompt: \"prompt-ventilation-rate\" },\r\n\r\n    { id: \"intv-form-supplemental-oxygen\", type: INTV_FORM, label: \"Supplemental Oxygen\" },\r\n    { id: \"prompt-oxygen-therapy-device\", type: PROMPT, selectionType: ONE, label: \"What device will you use to deliver supplemental oxygen?\", form: \"intv-form-supplemental-oxygen\" },\r\n            { id: \"intv-oxygen-therapy-device-non-rebreather-mask\", type: INTERV, label: \"Non-rebreather mask\", relatedForm: \"intv-form-oxygen-therapy-device-non-rebreather-mask\", prompt: \"prompt-oxygen-therapy-device\" },\r\n            { id: \"intv-oxygen-therapy-device-nasal-cannula\", type: INTERV, label: \"Nasal cannula\", relatedForm: \"intv-form-oxygen-therapy-device-nasal-cannula\", prompt: \"prompt-oxygen-therapy-device\" },\r\n\r\n    { id: \"intv-form-oxygen-therapy-device-non-rebreather-mask\", type: INTV_FORM, label: \"\"},\r\n    { id: \"intv-form-oxygen-therapy-device-nasal-cannula\", type: INTV_FORM, label: \"\"},\r\n\r\n    { id: \"intv-form-oxygen-therapy-details\", type: INTV_FORM, label: \"\"},\r\n        { id: \"prompt-oxygen-therapy-flow-rate\", type: PROMPT, selectionType: ONE, label: \"Oxygen flow rate?\", form: \"intv-form-oxygen-therapy-details\" },\r\n            { id: \"answer-oxygen-therapy-flow-rate-2-6-lpm\", type: ANSWER, label: \"2-6 liters/min\", prompt: \"prompt-oxygen-therapy-flow-rate\" },\r\n            { id: \"answer-oxygen-therapy-flow-rate-15-lpm\", type: ANSWER, label: \"15 liters/min\", prompt: \"prompt-oxygen-therapy-flow-rate\" },\r\n            { id: \"answer-oxygen-therapy-flow-rate-other\", type: ANSWER, label: \"Other\", prompt: \"prompt-oxygen-therapy-flow-rate\" },\r\n        { id: \"prompt-oxygen-therapy-target-saturation\", type: PROMPT, selectionType: ONE, label: \"What is your target oxygen saturation range?\", form: \"intv-form-oxygen-therapy-details\" },\r\n            { id: \"answer-oxygen-therapy-target-saturation-94-or-greater\", type: ANSWER, label: \"94 or greater\", prompt: \"prompt-oxygen-therapy-target-saturation\" },\r\n            { id: \"answer-oxygen-therapy-target-saturation-other\", type: ANSWER, label: \"Other\", prompt: \"prompt-oxygen-therapy-target-saturation\" },\r\n\r\n\r\n    { id: \"intv-form-manage-breathing-injuries\", type: INTV_FORM, label: \"Manages any injuries which may compromise breathing/ventilation\" },\r\n        { id: \"prompt-manage-breathing-injuries-technique\", type: PROMPT, selectionType: OOM, label: \"What technique(s) would you use?\", form: \"intv-form-manage-breathing-injuries\" },\r\n            { id: \"intv-occlusive-dressing\", type: INTERV, label: \"Apply occlusive dressing to breathing-compromising wounds\", relatedForm: \"intv-form-occlusive-dressing\", prompt: \"prompt-manage-breathing-injuries-technique\" },\r\n            { id: \"intv-pleural-decompression\", type: INTERV, label: \"Perform pleural decompression\", relatedForm:  \"intv-form-pleural-decompression\", prompt: \"prompt-manage-breathing-injuries-technique\" },\r\n\r\n    { id: \"intv-form-occlusive-dressing\", type: INTV_FORM, label: \"Occlusive dressing\" },\r\n    { id: \"prompt-occlusive-dressing-method\", type: PROMPT, selectionType: ONE, label: \"How would you create a release valve on an occlusive dressing?\", form: \"intv-form-occlusive-dressing\" },\r\n            { id: \"answer-occulative-dressing-method-leave-one-side-untaped\", type: ANSWER, label: \"Leave one side untaped\", prompt: \"prompt-occlusive-dressing-method\" },\r\n            { id: \"answer-occulative-dressing-method-other\", type: ANSWER, label: \"Other\", prompt: \"prompt-occlusive-dressing-method\" },\r\n\r\n    { id: \"intv-form-pleural-decompression\", type: INTV_FORM, label: \"Pleural decompression\" },\r\n        { id: \"prompt-pleural-decompression-needle-placement-side-of-the-body\", type: PROMPT, selectionType: ONE, label: \"On which side of the body would you place the needle?\", form: \"intv-form-pleural-decompression\" },\r\n            { id: \"answer-pleural-decompression-needle-placement-side-of-the-body-right\", type: ANSWER, label: \"Right\", prompt: \"prompt-pleural-decompression-needle-placement-side-of-the-body\" },\r\n            { id: \"answer-pleural-decompression-needle-placement-side-of-the-body-left\", type: ANSWER, label: \"Left\", prompt: \"prompt-pleural-decompression-needle-placement-side-of-the-body\" },\r\n        { id: \"prompt-pleural-decompression-needle-placement-anatomical-landmark\", type: PROMPT, selectionType: OOM, label: \"At what anatomical landmark?\", form: \"intv-form-pleural-decompression\" },\r\n            { id: \"answer-pleural-decompression-needle-placement-anatomical-landmark-2nd-intercostal-space-mid-clavicular\", type: ANSWER, label: \"Second intercostal space mid-clavicular\", prompt: \"prompt-pleural-decompression-needle-placement-anatomical-landmark\" },\r\n            { id: \"answer-pleural-decompression-needle-placement-anatomical-landmark-4th-5th-intercostal-space\", type: ANSWER, label: \"Fourth/fifth intercostal space\", prompt: \"prompt-pleural-decompression-needle-placement-anatomical-landmark\" },\r\n            { id: \"answer-pleural-decompression-needle-placement-anatomical-landmark-other\", type: ANSWER, label: \"Other\", prompt: \"prompt-pleural-decompression-needle-placement-anatomical-landmark\" },\r\n        { id: \"prompt-pleural-decompression-needle-size\", type: PROMPT, selectionType: ONE, label: \"What size needle do you want to use?\", form: \"intv-form-pleural-decompression\" },\r\n            { id: \"answer-pleural-decompression-needle-size-correct\", type: ANSWER, label: \"Correct answer\", prompt: \"prompt-pleural-decompression-needle-size\" },\r\n            { id: \"answer-pleural-decompression-needle-size-other\", type: ANSWER, label: \"Other\", prompt: \"prompt-pleural-decompression-needle-size\" },\r\n\r\n\r\n    { id: \"intv-form-control-severe-bleeding\", type: INTV_FORM, label: \"Control Severe Bleeding\" },\r\n        { id: \"prompt-control-severe-bleeding-techniques\", type: PROMPT, selectionType: OOM, label: \"What methods of bleeding control are you using, and in what order?\", form: \"intv-form-control-severe-bleeding\" },\r\n            { id: \"intv-control-severe-bleeding-technique-direct-pressure\", type: INTERV, label: \"Apply direct pressure\", prompt: \"prompt-control-severe-bleeding-techniques\" },\r\n            { id: \"intv-control-severe-bleeding-technique-tourniquet\", type: INTERV, label: \"Apply tourniquet\", relatedForm: \"intv-form-control-severe-bleeding-technique-tourniquet\", prompt: \"prompt-control-severe-bleeding-techniques\" },\r\n            { id: \"intv-control-severe-bleeding-technique-2nd-tourniquet\", type: INTERV, label: \"Apply second tourniquet\", relatedForm: \"intv-form-control-severe-bleeding-technique-2nd-tourniquet\", prompt: \"prompt-control-severe-bleeding-techniques\" },\r\n            { id: \"intv-control-severe-bleeding-technique-pressure-bandage\", type: INTERV, label: \"Apply pressure bandage\", prompt: \"prompt-control-severe-bleeding-techniques\" },\r\n            { id: \"intv-control-severe-bleeding-technique-hemostatic-gauze\", type: INTERV, label: \"Apply hemostatic gauze\", prompt: \"prompt-control-severe-bleeding-techniques\" },\r\n            { id: \"intv-control-severe-bleeding-technique-pack-wound-with-gauze\", type: INTERV, label: \"Pack wound with gauze\", prompt: \"prompt-control-severe-bleeding-techniques\" },\r\n            { id: \"intv-control-severe-bleeding-technique-load-and-go\", type: INTERV, label: \"Load and go (if uncontrolled)\", prompt: \"prompt-control-severe-bleeding-techniques\" },\r\n\r\n    { id: \"intv-form-control-severe-bleeding-technique-tourniquet\", type: INTV_FORM, label: \"Apply tourniquet\" },\r\n        { id: \"prompt-tourniquet-placement\", type: PROMPT, selectionType: ONE, label: \"Where would you place the tourniquet?\", form: \"intv-form-control-severe-bleeding-technique-tourniquet\" },\r\n            { id: \"answer-tourniquet-placement-close-to-core-far-from-wound\", type: ANSWER, label: \"As far from wound and close to the core as possible\", prompt: \"prompt-tourniquet-placement\" },\r\n            { id: \"answer-tourniquet-placement-other\", type: ANSWER, label: \"Other\", prompt: \"prompt-tourniquet-placement\" },\r\n    { id: \"prompt-tourniquet-stop-tightening-when\", type: PROMPT, selectionType: OOM, label: \"When do you know when to stop tightening the tourniquet?\", form: \"intv-form-control-severe-bleeding-technique-tourniquet\" },\r\n            { id: \"answer-tourniquet-stop-tightening-when-bleeding-has-stopped\", type: ANSWER, label: \"When bleeding has stopped\", prompt: \"prompt-tourniquet-stop-tightening-when\" },\r\n            { id: \"answer-tourniquet-stop-tightening-when-distal-pulse-is-absent\", type: ANSWER, label: \"When distal pulse is absent\", prompt: \"prompt-tourniquet-stop-tightening-when\" },\r\n            { id: \"answer-tourniquet-stop-tightening-when-other\", type: ANSWER, label: \"Other\", prompt: \"prompt-tourniquet-stop-tightening-when\" },\r\n\r\n    { id: \"intv-form-control-severe-bleeding-technique-2nd-tourniquet\", type: INTV_FORM, label: \"Apply second tourniquet\" },\r\n        { id: \"prompt-2nd-tourniquet-placement\", type: PROMPT, selectionType: ONE, label: \"Where would you place the 2nd tourniquet?\", form: \"intv-form-control-severe-bleeding-technique-2nd-tourniquet\" },\r\n            { id: \"answer-2nd-tourniquet-placement-adjacent-to-initial-tourniquet\", type: ANSWER, label: \"Adjacent to initial tourniquet\", prompt: \"prompt-2nd-tourniquet-placement\" },\r\n            { id: \"answer-2nd-tourniquet-placement-other\", type: ANSWER, label: \"Other\", prompt: \"prompt-2nd-tourniquet-placement\" },\r\n\r\n    { id: \"intv-form-control-shock\", type: INTV_FORM, label: \"Shock management\" },\r\n        { id: \"prompt-control-shock-techniques\", type: PROMPT, selectionType: OOM, label: \"What techniques will you use to manage shock?\", form: \"intv-form-control-shock\" },\r\n            { id: \"intv-control-shock-technique-keep-patient-warm\", type: INTERV, label: \"Keep patient warm (e.g., apply blankets)\", prompt: \"prompt-control-shock-techniques\" },\r\n            { id: \"intv-control-shock-technique-administer-high-concentration-o2\", type: INTERV, label: \"Administer high concentration of oxygen\", prompt: \"prompt-control-shock-techniques\" },\r\n            { id: \"intv-control-shock-technique-place-patient-supine-position\", type: INTERV, label: \"Place or maintain patient in supine position\", prompt: \"prompt-control-shock-techniques\" },\r\n            { id: \"intv-control-shock-technique-administer-iv-boluses\", type: INTERV, label: \"Administer IV fluid resuscitation\", relatedForm: \"intv-form-control-shock-technique-administer-iv-boluses\", prompt: \"prompt-control-shock-techniques\"},\r\n\r\n    { id: \"intv-form-control-shock-technique-administer-iv-boluses\", type: INTV_FORM, label: \"Administer IV fluid resuscitation\" },\r\n        { id: \"prompt-control-shock-iv-fluid\", type: PROMPT, selectionType: ONE, label: \"What type of fluid?\", form: \"intv-form-control-shock-technique-administer-iv-boluses\" },\r\n            { id: \"answer-control-shock-iv-fluid-saline\", type: ANSWER, label: \"Normal saline\", prompt: \"prompt-control-shock-iv-fluid\" },\r\n            { id: \"answer-control-shock-iv-fluid-other\", type: ANSWER, label: \"Other\", prompt: \"prompt-control-shock-iv-fluid\" },\r\n        { id: \"prompt-control-shock-iv-volume\", type: PROMPT, selectionType: ONE, label: \"At what volume?\", form: \"intv-form-control-shock-technique-administer-iv-boluses\" },\r\n            { id: \"answer-control-shock-iv-volume-20-cc-per-kilo\", type: ANSWER, label: \"20 cc/kilo\", prompt: \"prompt-control-shock-iv-volume\" },\r\n            { id: \"answer-control-shock-iv-volume-other\", type: ANSWER, label: \"Other\", prompt: \"prompt-control-shock-iv-volume\" },\r\n        { id: \"prompt-control-shock-iv-target-bp\", type: PROMPT, selectionType: ONE, label: \"What is your target BP?\", form: \"intv-form-control-shock-technique-administer-iv-boluses\" },\r\n            { id: \"answer-control-shock-iv-target-bp-80-90\", type: ANSWER, label: \"SBP 80-90, if bleeding is controlled\", prompt: \"prompt-control-shock-iv-target-bp\" },\r\n            { id: \"answer-control-shock-iv-target-bp-other\", type: ANSWER, label: \"Other\", prompt: \"prompt-control-shock-iv-target-bp\" },\r\n\r\n\r\n    { id: \"intv-form-transport-decisions\", type: INTV_FORM, label: \"Transport\" },\r\n        { id: \"prompt-transport-is-load-and-go\", type: PROMPT, selectionType: ONE, label: \"Is this a load and go patient?\" },\r\n            { id: \"answer-transport-is-load-and-go-yes\", type: ANSWER, label: \"Yes\" },\r\n            { id: \"answer-transport-is-load-and-go-no\", type: ANSWER, label: \"No\" },\r\n\r\n\r\n        { id: \"prompt-transport-facility-choice\", type: PROMPT, selectionType: ONE, label: \"What care facility will you transport the patient to?\" },\r\n            { id: \"answer-transport-facility-choice-trauma-center\", type: ANSWER, label: \"Trauma center\" },\r\n            { id: \"answer-transport-facility-choice-closest\", type: ANSWER, label: \"Closest receiving facility\" },\r\n            { id: \"answer-transport-facility-choice-other\", type: ANSWER, label: \"Other\" },\r\n\r\n\r\n        { id: \"prompt-transport-method\", type: PROMPT, selectionType: ONE, label: \"Would you transport this patient by air or ground?\" },\r\n            { id: \"answer-transport-method-ambulance\", type: ANSWER, label: \"Ambulance\" },\r\n            { id: \"answer-transport-method-helicopter\", type: ANSWER, label: \"Helicopter\" },\r\n\r\n\r\n        { id: \"prompt-transport-lights-siren-decision\", type: PROMPT, selectionType: ONE, label: \"Would you use lights and sirens with this patient?\" },\r\n            { id: \"answer-transport-lights-sirens-yes\", type: ANSWER, label: \"Yes\" },\r\n            { id: \"answer-transport-lights-sirens-no\", type: ANSWER, label: \"No\" },\r\n\r\n    { id: \"intv-form-spinal-motion-restriction\", type: INTV_FORM, label: \"Spinal Motion Restriction\" },\r\n        { id: \"prompt-spinal-immobilization-technique\", type: PROMPT, selectionType: OOM, label: \"What spinal immobilization techniques will you apply, and in which order?\", form: \"intv-form-spinal-motion-restriction\" },\r\n            { id: \"intv-spinal-immobilization-technique-manual-c-spine\", type: INTERV, label: \"Manual c-spine stabilization\", prompt: \"prompt-spinal-immobilization-technique\" },\r\n            { id: \"intv-spinal-immobilization-technique-ked\", type: INTERV, label: \"Seated spinal motion restriction (KED)\", prompt: \"prompt-spinal-immobilization-technique\" },\r\n            { id: \"intv-spinal-immobilization-technique-lbb\", type: INTERV, label: \"Supine long back board (LBB)\", prompt: \"prompt-spinal-immobilization-technique\" },\r\n            { id: \"intv-spinal-immobilization-technique-cervical-collar\", type: INTERV, label: \"Cervical collar\", prompt: \"prompt-spinal-immobilization-technique\" },\r\n            { id: \"intv-spinal-immobilization-technique-blocks\", type: INTERV, label: \"Cervical immobilization device (blocks)\", prompt: \"prompt-spinal-immobilization-technique\" },\r\n\r\n    { id: \"intv-form-manage-secondary-injuries\", type: INTV_FORM, label: \"Secondary Wounds\" },\r\n        { id: \"prompt-manage-secondary-injuries-techniques\", type: PROMPT, selectionType: OOM, label: \"What technique(s) will you use to manage secondary wounds/injuries?\", form: \"intv-form-manage-secondary-injuries\" },\r\n            { id: \"intv-manage-secondary-injuries-technique-apply-dressings\", type: INTERV, label: \"Apply dressings\", prompt: \"prompt-manage-secondary-injuries-techniques\" },\r\n            { id: \"intv-manage-secondary-injuries-technique-splint-fractures\", type: INTERV, label: \"Splint fractures\", prompt: \"prompt-manage-secondary-injuries-techniques\" },\r\n            { id: \"intv-manage-secondary-injuries-technique-other\", type: INTERV, label: \"Other\", prompt: \"prompt-manage-secondary-injuries-techniques\" },\r\n\r\n    { id: \"intv-form-transfers-patient\", type: INTV_FORM, label: \"Transfers Patient\" },\r\n        { id: \"prompt-transfers-patient-method\", type: PROMPT, selectionType: ONE, label: \"What method will you use to transfer the patient to the ambulance?\", form: \"intv-form-transfers-patient\" },\r\n            { id: \"intv-transfers-patient-method-walk-patient\", type: INTERV, label: \"Walk patient to ambulance\", prompt: \"prompt-transfers-patient-method\" },\r\n            { id: \"intv-transfers-patient-method-scoop-stretcher\", type: INTERV, label: \"Use scoop stretcher\", prompt: \"prompt-transfers-patient-method\" },\r\n            { id: \"intv-transfers-patient-method-transfer-to-stretcher-on-long-backboard\", type: INTERV, label: \"Transfer to stretcher on long backboard\", prompt: \"prompt-transfers-patient-method\" },\r\n            { id: \"intv-transfers-patient-method-other\", type: INTERV, label: \"Other\", prompt: \"prompt-transfers-patient-method\" },\r\n\r\n    { id: \"intv-form-reassess-vital-signs\", type: INTV_FORM, label: \"Reassess vital signs\" },\r\n        { id: \"prompt-reassess-vital-signs-frequency\", type: PROMPT, selectionType: ONE, label: \"How often will you reassess vitals?\", form: \"intv-form-reassess-vital-signs\" },\r\n            { id: \"intv-reassess-vital-signs-frequency-5-min\", type: INTERV, label: \"Every 5 minutes\", prompt: \"prompt-reassess-vital-signs-frequency\" },\r\n            { id: \"intv-reassess-vital-signs-frequency-15-min\", type: INTERV, label: \"Every 15 minutes\", prompt: \"prompt-reassess-vital-signs-frequency\" },\r\n            { id: \"intv-reassess-vital-signs-frequency-other\", type: INTERV, label: \"Other\", prompt: \"prompt-reassess-vital-signs-frequency\" },\r\n        { id: \"prompt-reassess-vital-signs-which-vitals\", type: PROMPT, selectionType: NONE, label: \"Which vitals would you like to reassess?\", form: \"intv-form-reassess-vital-signs\" },\r\n\r\n    { id: \"intv-form-reassess-modify-interventions\", type: INTV_FORM, label: \"Reassess or modify interventions\" },\r\n        { id: \"prompt-reassess-modify-interventions\", type: PROMPT, selectionType: OOM, label: \"What interventions will you reassess or modify, and in what order?\", form: \"intv-form-reassess-modify-interventions\" },\r\n            { id: \"intv-reassess-modify-interventions-replace-basic-airway-with-advanced-or-intubate\", type: INTERV, label: \"Replace basic airway with advanced airway, or intubate\", prompt: \"prompt-reassess-modify-interventions\" },\r\n            { id: \"intv-reassess-modify-interventions-replace-bandages\", type: INTERV, label: \"Replace bandages\", prompt: \"prompt-reassess-modify-interventions\" },\r\n            { id: \"intv-reassess-modify-interventions-replace-oxygen-tank\", type: INTERV, label: \"Replace oxygen tank\", prompt: \"prompt-reassess-modify-interventions\" },\r\n            { id: \"intv-reassess-modify-interventions-adjust-iv-replace-bolus\", type: INTERV, label: \"Adjust IV, hang second bag\", prompt: \"prompt-reassess-modify-interventions\" },\r\n            { id: \"intv-reassess-modify-interventions-turn-on-heat-in-ambulance\", type: INTERV, label: \"Turn on heat in ambulance\", prompt: \"prompt-reassess-modify-interventions\" },\r\n            { id: \"intv-reassess-modify-interventions-other-options\", type: INTERV, label: \"other-options\", prompt: \"prompt-reassess-modify-interventions\" },\r\n\r\n\r\n    { id: \"intv-form-administer-additional-interventions\", type: INTV_FORM, label: \"Administer additional interventions\" },\r\n        { id: \"prompt-what-additional-interventions\", type: PROMPT, selectionType: OOM, label: \"What additional interventions will you perform?\", form: \"intv-form-administer-additional-interventions\" },\r\n            { id: \"intv-additional-interventions-estabilish-2-large-bore-ivs\", type: INTERV, label: \"Establish two large bore IVs\", relatedForm: \"intv-form-establish-ivs\", prompt: \"prompt-what-additional-interventions\" },\r\n            { id: \"intv-additional-interventions-apply-bandages\", type: INTERV, label: \"Apply bandages\", prompt: \"prompt-what-additional-interventions\" },\r\n            { id: \"intv-additional-interventions-administer-iv\", type: INTERV, label: \"Administer IV\", prompt: \"prompt-what-additional-interventions\" },\r\n            { id: \"intv-additional-interventions-manage-pain\", type: INTERV, label: \"Manage pain/nausea\", relatedForm: \"intv-form-additional-interventions-manage-pain\", prompt: \"prompt-what-additional-interventions\"},\r\n            { id: \"intv-additional-interventions-other\", type: INTERV, label: \"Other\", prompt: \"prompt-what-additional-interventions\" },\r\n\r\n\r\n\r\n    { id: \"intv-form-additional-interventions-manage-pain\", type: INTV_FORM, label: \"Manage pain/nausea\" },\r\n        { id: \"prompt-pain-management-medication-administration-route\", type: PROMPT, selectionType: OOM, label: \"How would you administer this medication--through what route?\", form: \"intv-form-additional-interventions-manage-pain\" },\r\n            { id: \"intv-pain-management-medication-administration-route-oral\", type: INTERV, label: \"Oral\", relatedForm: \"intv-form-pain-management-medication-administration-route-oral\", prompt: \"prompt-pain-management-medication-administration-route\"},\r\n            { id: \"intv-pain-management-medication-administration-route-intranasal\", type: INTERV, label: \"Intranasal\", relatedForm: \"intv-form-pain-management-medication-administration-route-intranasal\", prompt: \"prompt-pain-management-medication-administration-route\" },\r\n            { id: \"intv-pain-management-medication-administration-route-intraosseous\", type: INTERV, label: \"Intraosseous\", relatedForm: \"intv-form-pain-management-medication-administration-route-intraosseous\", prompt: \"prompt-pain-management-medication-administration-route\" },\r\n            { id: \"intv-pain-management-medication-administration-route-intramuscular\", type: INTERV, label: \"Intramuscular\", relatedForm: \"intv-form-pain-management-medication-administration-route-intramuscular\", prompt: \"prompt-pain-management-medication-administration-route\" },\r\n            { id: \"intv-pain-management-medication-administration-route-intravenous\", type: INTERV, label: \"Intravenous\", relatedForm: \"intv-form-pain-management-medication-administration-route-intravenous\", prompt: \"prompt-pain-management-medication-administration-route\" },\r\n\r\n    { id: \"intv-form-additional-interventions-manage-pain-details\", type: INTV_FORM, label: \"\"},\r\n        { id: \"prompt-pain-management-medication\", type: PROMPT, selectionType: ONE, label: \"What medication would you administer?\", form: \"intv-form-additional-interventions-manage-pain-details\" },\r\n            { id: \"answer-pain-management-medication-option-1\", type: ANSWER, label: \"option-1\", prompt: \"prompt-pain-management-medication\" },\r\n            { id: \"answer-pain-management-medication-option-2\", type: ANSWER, label: \"option-2\", prompt: \"prompt-pain-management-medication\" },\r\n            { id: \"answer-pain-management-medication-option-3\", type: ANSWER, label: \"option-3\", prompt: \"prompt-pain-management-medication\" },\r\n            { id: \"answer-pain-management-medication-option-other\", type: ANSWER, label: \"Other\", prompt: \"prompt-pain-management-medication\" },\r\n        { id: \"prompt-pain-management-medication-dosage\", type: PROMPT, selectionType: ONE, label: \"What dosage?\", form: \"intv-form-additional-interventions-manage-pain-details\" },\r\n            { id: \"answer-pain-management-medication-dosage-scenario-specific\", type: ANSWER, label: \"scenario-specific-option\", prompt: \"prompt-pain-management-medication-dosage\" },\r\n            { id: \"answer-pain-management-medication-dosage-other\", type: ANSWER, label: \"other\", prompt: \"prompt-pain-management-medication-dosage\" },\r\n        { id: \"prompt-pain-management-medication-min-bp\", type: PROMPT, selectionType: ONE, label: \"What is the minimum BP to administer pain medications?\", form: \"intv-form-additional-interventions-manage-pain-details\" },\r\n            { id: \"answer-pain-management-medication-min-bp-correct\", type: ANSWER, label: \"correct-answer\", prompt: \"prompt-pain-management-medication-min-bp\" },\r\n            { id: \"answer-pain-management-medication-min-bp-other\", type: ANSWER, label: \"Other\", prompt: \"prompt-pain-management-medication-min-bp\" },\r\n\r\n    { id: \"intv-form-pain-management-medication-administration-route-oral\", type: INTV_FORM, label: \"\" },\r\n    { id: \"intv-form-pain-management-medication-administration-route-intranasal\", type: INTV_FORM, label: \"\" },\r\n    { id: \"intv-form-pain-management-medication-administration-route-intraosseous\", type: INTV_FORM, label: \"\" },\r\n    { id: \"intv-form-pain-management-medication-administration-route-intramuscular\", type: INTV_FORM, label: \"\" },\r\n    { id: \"intv-form-pain-management-medication-administration-route-intravenous\", type: INTV_FORM, label: \"Intravenous\" },\r\n            { id: \"prompt-pain-management-iv-volume\", type: PROMPT, selectionType: ONE, label: \"At what volume?\", form: \"intv-form-pain-management-medication-administration-route-intravenous\" },\r\n                { id: \"answer-pain-management-iv-volume-scenario-specific\", type: ANSWER, label: \"scenario-specific option\", prompt: \"prompt-pain-management-iv-volume\" },\r\n                { id: \"answer-pain-management-iv-volume-other\", type: ANSWER, label: \"Other\", prompt: \"prompt-pain-management-iv-volume\" },\r\n]\r\n","import { INTV_META_DATA } from '@meddbriefer/scenario-data/traumaScenarioV2MetaData';\r\nconst idList = INTV_META_DATA\r\n                .filter(intv => intv.type === 'intervention' || intv.type === 'answer')\r\n                .sort((one, two) => {\r\n                    if(one.label.localeCompare(two.label) < 0) return -1;\r\n                    if(one.label.localeCompare(two.label) > 0) return 1;\r\n                    return 0;\r\n                });\r\n\r\nexport const matchesLabel = (str) => {\r\n    if (!str || str === \"\") return null;\r\n    let matchArr = [];\r\n\r\n    for (let item of idList) \r\n        if (item.label?.toLowerCase().includes(str?.toLowerCase()))\r\n            matchArr.push(item);\r\n\r\n    return matchArr.length > 0 ? matchArr : null;\r\n}\r\n\r\nexport const matchesId = (str) => {\r\n    if (!str || str === \"\") return null;\r\n    let matchArr = [];\r\n\r\n    for (let item of idList) \r\n        if (item.id?.toLowerCase().includes(str?.toLowerCase()))\r\n            matchArr.push(item);\r\n\r\n    return matchArr.length > 0 ? matchArr : null;\r\n}\r\n\r\nexport const matchesAny = (str) => {\r\n    if (!str || str === \"\") return null;\r\n    let matchArr = [];\r\n\r\n    for (let item of idList) \r\n        if (item.label?.toLowerCase().includes(str?.toLowerCase()) || item.id?.toLowerCase().includes(str?.toLowerCase()))\r\n            matchArr.push(item);\r\n\r\n    return matchArr.length > 0 ? matchArr : null;\r\n}\r\n","const SearchResults = ({ list, setVal }) => {\r\n    const noSelect = { id: \"(No selection)\", label: \"(No selection)\" };\r\n\r\n    return (\r\n      <>\r\n        {list && (\r\n          <div className={`search-results`}  >\r\n            {list &&\r\n              [noSelect, ...list].map((e, i) => (\r\n                <p\r\n                  key={i}\r\n                  id={e.id}\r\n                  onClick={(e) => setVal(e)}\r\n                  onMouseOver={v => v.target.innerText = e.id}\r\n                  onMouseLeave={v => v.target.innerText = e.label}\r\n                >\r\n                  {e.label}\r\n                </p>\r\n              ))}\r\n          </div>\r\n        )}\r\n      </>\r\n    );\r\n}\r\n\r\nexport default SearchResults;","import { useState, useRef } from 'react';\r\nimport { matchesLabel } from '../../scripts/id-util.js';\r\nimport SearchResults from './SearchResults.js';\r\n\r\nconst FormItem = (props) => {\r\n    const [query, setQuery] = useState(\"\");\r\n    const textRef = useRef(\"\");\r\n\r\n\tconst deleteSelf = (e) => {\r\n\t\t// Handle wrapper of 'contraindicated'\r\n\t\tlet item = props.type !== 'contraindicated'\r\n\t\t \t? e.target.parentNode\r\n\t\t\t: e.target.parentNode.parentNode;\r\n\t\titem.remove();\r\n\t}\r\n\r\n    const setVal = (e) => {\r\n        textRef.current.value = e.target.id;\r\n        setQuery(\"\");\r\n    }\r\n\r\n\tconst getPos = (num) => {\r\n\t\tif (!props.item.meta) return [\"\", 0];\r\n\t\tlet str = props.item.meta.contraReqOrder[num];\r\n\t\tlet pos = props.item.contraindicated.indexOf(str);\r\n\t\tif (pos < 0)\r\n\t\t\tpos = props.item.required.indexOf(str);\r\n\t\treturn [str, pos];\r\n\t}\r\n\r\n\tconst getChecked = (type) => {\r\n\t\tconst [str, num] = getPos(props.num);\r\n\t\treturn props.item[type][num] === str;\r\n\t}\r\n\r\n    switch (props.type) {\r\n\t\tcase 'minimalWhy':\r\n        case 'contraindicatedWhy':\r\n\t\t\treturn (\r\n\t\t\t\t<label className=\"mdb-block-item reasoning-block\">\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\trows=\"2\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tclassName=\"mdb-textarea no-margin\"\r\n\t\t\t\t\t\tid={`${props.block}-${props.type}`}\r\n\t\t\t\t\t\tautoComplete={\"off\"}\r\n\t\t\t\t\t\tdefaultValue={props.item[props.type]}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t</label>\r\n\t\t\t  );\r\n\r\n        case 'notes':\r\n            return (\r\n\t\t\t\t<label className=\"mdb-block-item\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tclassName=\"mdb-text no-left-margin\"\r\n\t\t\t\t\tid={`${props.block}-${props.type}-${props.num}`}\r\n\t\t\t\t\tautoComplete={\"off\"}\r\n\t\t\t\t\tdefaultValue={props.item[props.type]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<button type=\"button\" onClick={e => deleteSelf(e)} >-</button>\r\n\t\t\t\t</label>\r\n            );\r\n\r\n        case 'contraindicated':\r\n            return (\r\n\t\t\t\t<div className=\"mdb-red-item\">\r\n\t\t\t\t\t<label className=\"mdb-block-item\">\r\n\t\t\t\t\tID:\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tid={`${props.block}-contraindications-${props.num}`}\r\n\t\t\t\t\t\tclassName=\"mdb-text\"\r\n\t\t\t\t\t\tonChange={(e) => setQuery(e.target.value)}\r\n\t\t\t\t\t\tref={textRef}\r\n\t\t\t\t\t\tautoComplete={\"off\"}\r\n\t\t\t\t\t\tdefaultValue={props.item.meta.contraReqOrder[props.num]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<SearchResults list={matchesLabel(query)} setVal={setVal} />\r\n\t\t\t\t\t<button type=\"button\" onClick={e => deleteSelf(e)} >-</button>\t\t\t\t\t\r\n\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\t<div className=\"mdb-red-type\">\r\n\t\t\t\t\t\t<label className=\"red-type\">\r\n\t\t\t\t\t\t\tRequired\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\tid={`${props.block}-required-${props.num}`}\r\n\t\t\t\t\t\t\tname={`${props.block}-red-type-${props.num}`}\r\n\t\t\t\t\t\t\tvalue=\"required\"\r\n\t\t\t\t\t\t\tdefaultChecked={getChecked('required')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\t\t<label name=\"red-type\" className=\"red-type\">\r\n\t\t\t\t\t\t\tContraindicated\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\tid={`${props.block}-contraindicated-${props.num}`}\r\n\t\t\t\t\t\t\tname={`${props.block}-red-type-${props.num}`}\r\n\t\t\t\t\t\t\tvalue=\"contraindicated\"\r\n\t\t\t\t\t\t\tdefaultChecked={getChecked('contraindicated')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n            );\r\n\r\n        default:\r\n            return (\r\n\t\t\t\t<label className=\"mdb-block-item\">\r\n\t\t\t\t\tID:\r\n\t\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tid={`${props.block}-${props.type}-${props.num}`}\r\n\t\t\t\t\tclassName=\"mdb-text\"\r\n\t\t\t\t\tonChange={(e) => setQuery(e.target.value)}\r\n\t\t\t\t\tref={textRef}\r\n\t\t\t\t\tautoComplete={\"off\"}\r\n\t\t\t\t\tdefaultValue={props.item[props.type][props.num]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t<SearchResults list={matchesLabel(query)} setVal={setVal} />\r\n\t\t\t\t<button type=\"button\" onClick={e => deleteSelf(e)} >-</button>\r\n\t\t\t\t</label>\r\n            );\r\n    }\r\n}\r\n\r\nexport default FormItem;","import FormItem from './FormItem';\r\nimport { useState, useRef, useEffect, useContext } from 'react';\r\nimport { matchesLabel } from '../../scripts/id-util.js';\r\nimport SearchResults from './SearchResults.js';\r\nimport { MDBFormContext } from './MDBForm.js';\r\n\r\nconst FormBlock = (props) => {\r\n    const form = useContext(MDBFormContext);\r\n    const info = form.criticalActions[props.block];\r\n    const [ numGreen, setNumGreen ] = useState(0);\r\n    const [ numYellow, setNumYellow ] = useState(0);\r\n    const [ numRed, setNumRed ] = useState(0);\r\n    const [ numFindings, setNumFindings ] = useState(0);\r\n    const [ numNotes, setNumNotes ] = useState(0);\r\n\r\n    const newGreen = () => setNumGreen(numGreen + 1);\r\n    const newYellow = () => setNumYellow(numYellow + 1);\r\n    const newRed = () => setNumRed(numRed + 1);\r\n    const newFindings = () => setNumFindings(numFindings + 1);\r\n    const newNotes = () => setNumNotes(numNotes + 1);\r\n\r\n    const lessGreen = () => numGreen > 0 && setNumGreen(numGreen - 1);\r\n    const lessYellow = () => numYellow > 0 && setNumYellow(numYellow - 1);\r\n    const lessRed = () => numRed > 0 && setNumRed(numRed - 1);\r\n    const lessFindings = () => numFindings > 0 && setNumFindings(numFindings - 1);\r\n    const lessNotes = () => numNotes > 0 && setNumNotes(numNotes - 1);\r\n\r\n    const deleteSelf = (e) => {\r\n        let block = e.target.parentNode;\r\n        block.remove();\r\n    }\r\n\r\n    const [query, setQuery] = useState([\"\", \"\"]);\r\n    const [beforeRef, afterRef] = [useRef(), useRef()];\r\n    const setInput = (e) => {\r\n        query[0] === \"\"\r\n        ? afterRef.current.value = e.target.id\r\n        : beforeRef.current.value = e.target.id;\r\n        setQuery([\"\", \"\"]);\r\n    }\r\n    \r\n    useEffect(() => {\r\n        if (form) {\r\n            let info = form.criticalActions[props.block];\r\n            setNumGreen(info.standard.length)\r\n            setNumYellow(info.minimal.length)\r\n            setNumRed(info.contraindicated.length + info.required.length)\r\n            setNumFindings(info.findings.length)\r\n            setNumNotes(info.notes.length)\r\n        }\r\n    }, [form, props.block])\r\n    \r\n    return (\r\n        <div className=\"mdb-block-wrapper\">\r\n            <button type=\"button\" className=\"delete-self-block\" onClick={e => deleteSelf(e)} >-</button>\r\n            <div id=\"mdb-info\" className=\"mdb-block\" >\r\n                <p className=\"mdb-block-heading\" >Info:</p>\r\n                <div className=\"mdb-info-wrapper\">\r\n                    <label>\r\n                        Critical action:\r\n                        <input type=\"text\" \r\n                            className=\"mdb-text\" \r\n                            id={`${props.block}-label`} \r\n                            autoComplete={\"off\"} \r\n                            defaultValue={info.label} \r\n                        />\r\n                    </label>\r\n                    <label>\r\n                        Protocol:\r\n                        <input type=\"text\" \r\n                            className=\"mdb-text\" \r\n                            id={`${props.block}-protocol`} \r\n                            autoComplete={\"off\"} \r\n                            defaultValue={info.protocol} \r\n                        />\r\n                    </label>                        \r\n                    <label>\r\n                        Before:\r\n                        <input type=\"text\" \r\n                            className=\"mdb-text\" \r\n                            id={`${props.block}-when-before`} \r\n                            ref={beforeRef}\r\n                            onChange={(e) => setQuery([e.target.value, \"\"])}\r\n                            autoComplete={\"off\"} \r\n                            defaultValue={info.when.before} \r\n                        />\r\n                    <SearchResults list={matchesLabel(query[0])} setVal={setInput} />\r\n                    </label>\r\n                    <label>\r\n                        After:\r\n                        <input type=\"text\" \r\n                            className=\"mdb-text\" \r\n                            id={`${props.block}-when-after`} \r\n                            ref={afterRef}\r\n                            onChange={(e) => setQuery([\"\", e.target.value])}\r\n                            autoComplete={\"off\"} \r\n                            defaultValue={info.when.after} \r\n                        />\r\n                    <SearchResults list={matchesLabel(query[1])} setVal={setInput} />\r\n                    </label>\r\n                </div>\r\n            </div>\r\n\r\n            <div id=\"mdb-green\" className=\"mdb-block\" >\r\n                <p className=\"mdb-block-heading\" >Standard:</p>\r\n                { [...Array(numGreen)].map( (e, i) => (\r\n                    <FormItem block={props.block} num={i} key={i} type='standard' item={info} edit={lessGreen} />\r\n                )) }\r\n\r\n                <div>\r\n                    <button type=\"button\" onClick={newGreen} >Add new</button>\r\n                </div>\r\n            </div>\r\n\r\n            <div id=\"mdb-yellow\" className=\"mdb-block\" >\r\n                <p className=\"mdb-block-heading\" >Minimal:</p>\r\n                { [...Array(numYellow)].map( (e, i) => (\r\n                    <FormItem block={props.block} num={i} key={i} type='minimal' item={info} edit={lessYellow} />\r\n                )) }\r\n\r\n                <div>\r\n                    <button type=\"button\" onClick={newYellow} >Add new</button>\r\n                </div>\r\n\r\n                <FormItem block={props.block} type='minimalWhy' item={info} />\r\n            </div>\r\n\r\n            <div id=\"mdb-red\" className=\"mdb-block\" >\r\n                <p className=\"mdb-block-heading\" >Contraindications:</p>\r\n                { [...Array(numRed)].map( (e, i) => (\r\n                    <FormItem block={props.block} num={i} key={i} type='contraindicated' item={info} edit={lessRed} />\r\n                )) }\r\n\r\n                <div>\r\n                    <button type=\"button\" onClick={newRed} >Add new</button>\r\n                </div>\r\n\r\n                <FormItem block={props.block} type='contraindicatedWhy' item={info} />\r\n            </div>\r\n\r\n            <div id=\"mdb-findings\" className=\"mdb-block\" >\r\n                <p className=\"mdb-block-heading\" >Findings:</p>\r\n                { [...Array(numFindings)].map( (e, i) => (\r\n                    <FormItem block={props.block} num={i} key={i} type='findings' item={info} edit={lessFindings} />\r\n                )) }\r\n\r\n                <div>\r\n                    <button type=\"button\" onClick={newFindings} >Add new</button>\r\n                </div>\r\n            </div>\r\n\r\n            <div id=\"mdb-notes\" className=\"mdb-block\" >\r\n                <p className=\"mdb-block-heading\" >Notes / Comments:</p>\r\n                { [...Array(numNotes)].map( (e, i) => (\r\n                    <FormItem block={props.block} num={i} key={i} type='notes' item={info} edit={lessNotes} />\r\n                )) }\r\n\r\n                <div>\r\n                    <button type=\"button\" onClick={newNotes} >Add new</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default FormBlock;","import React, { useState, useRef, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport Header from '../Header';\r\nimport FormBlock from './FormBlock';\r\nimport { verifyDocument, publishDocument, getDocument } from '../../scripts/connect-firebase.js';\r\nimport criticalActions from '../../data/blank-crit-actions.json';\r\n\r\nconst COLLECTION_ID = 'scenario-required-actions';\r\n\r\nexport const MDBFormContext = React.createContext();\r\n\r\nconst FormRoot = (props) => {\r\n    const [mdbForm, setMDBForm] = useState(null);\r\n    const [numBlocks, setNumBlocks] = useState(1);\r\n    const { mdbFormId } = props.match.params;\r\n    const formRef = useRef(null);\r\n    const isEdit = () => !!mdbFormId;\r\n    let history = useHistory();\r\n\r\n    useEffect(() => {\r\n        mdbFormId ?\r\n        getDocument(COLLECTION_ID, mdbFormId)\r\n            .then(res => {\r\n                setMDBForm(res)\r\n                setNumBlocks(res.criticalActions.length)\r\n            })\r\n            .catch(err => console.error(err))\r\n        : setMDBForm({\r\n            scenarioName: \"\",\r\n            criticalActions: [\r\n                criticalActions\r\n            ]\r\n        });\r\n    }, [mdbFormId])\r\n\r\n    const addBlock = () => {\r\n        mdbForm.criticalActions.push(criticalActions);\r\n        setNumBlocks(numBlocks + 1);\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <Header />\r\n        <MDBFormContext.Provider value={mdbForm} >\r\n            <div className=\"mdb-form-wrapper\" >\r\n                {\r\n                mdbForm ? \r\n                <>\r\n                <form id=\"debriefer-form\" className=\"debriefer-form\" ref={formRef} >\r\n                    <label className=\"mdb-block-heading\">\r\n                        Scenario Name:\r\n                        <input type=\"text\" className=\"mdb-text\" id=\"scenarioName\" autoComplete={\"off\"} defaultValue={mdbForm.scenarioName} />\r\n                    </label>\r\n\r\n                    { [...Array(numBlocks)].map( (e, i) => (\r\n                        <FormBlock key={i} block={i} form={mdbForm} />\r\n                    )) }\r\n\r\n                    <div>\r\n                        <button type=\"button\" onClick={addBlock} >Add new</button>\r\n                    </div>\r\n                </form>\r\n                <button type=\"button\" id=\"submit-bttn\" onClick={process}>Submit</button>\r\n                </>\r\n                : <p>Loading...</p>\r\n                }\r\n            </div>\r\n        </MDBFormContext.Provider>\r\n        </>\r\n    );\r\n\r\n    async function process() {\r\n        let form = scan(formRef.current, []);\r\n        let object = { scenarioName: null, criticalActions: [], associations: mdbForm.associations ?? {} };\r\n        let blocks = {};\r\n\r\n        for (let i=0; i < form.length; i++) {\r\n            let item = form[i];\r\n            let path = item.id.split('-');\r\n            // path[0] = block, path[1] = type, path[2] = number\r\n\r\n            // Create block if it doesn't exist yet\r\n            if (!blocks[ path[0] ] && path[0] !== \"scenarioName\") blocks[ path[0] ] = deepCopy(criticalActions);\r\n            \r\n            switch (path.length) \r\n            {\r\n                default: console.error('Path error.'); break;\r\n\r\n                case 1: // Label\r\n                    object[ path[0] ] = item.value; break;\r\n\r\n                case 2: // Info\r\n                    blocks[ path[0] ][ path[1] ] = item.value; break;\r\n\r\n                case 3: // Actions\r\n                    if (path[1] === 'contraindications')\r\n                    {\r\n                        let type = form[i + 1].checked ? 'required' : 'contraindicated';\r\n                        blocks[ path[0] ][ type ].push(item.value);\r\n                    }\r\n                    else\r\n                    {\r\n                        Array.isArray(blocks[ path[0] ][ path[1] ])\r\n                            ? blocks[ path[0] ][ path[1] ].push(item.value) \r\n                            : blocks[ path[0] ][ path[1] ] = item.value; \r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n\r\n        // Add to object if it exists or if only 1 block\r\n        for (let block in blocks) {\r\n            if (blocks[block].label || !blocks[1])\r\n                object.criticalActions.push(blocks[block]);\r\n        }\r\n\r\n        //Validate & upload object\r\n        if (object.scenarioName.trim() === \"\" || \r\n            (!isEdit && \r\n            await verifyDocument(COLLECTION_ID, object.scenarioName.trim())\r\n        )) {\r\n            alert(\"You need a new name for the scenario!\");\r\n            return;\r\n        } else {\r\n            publishDocument(COLLECTION_ID, object.scenarioName, object);\r\n            alert(`Debriefer info for ${object.scenarioName} uploaded.`);\r\n            history.push(`/associations/${object.scenarioName}`);\r\n        }\r\n    }\r\n\r\n    function scan(obj, arr) {\r\n        for (let node of obj) \r\n            if (node.nodeName === 'INPUT' || node.nodeName === 'TEXTAREA')\r\n                arr.push(node);\r\n\r\n        return arr;\r\n    }\r\n\r\n    function deepCopy(obj) { return JSON.parse(JSON.stringify(obj)); }\r\n}\r\n\r\nexport default FormRoot;","import { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { getCollection } from '../../scripts/connect-firebase.js';\r\nimport Header from '../Header.js';\r\n\r\nconst COLLECTION_ID = 'scenario-required-actions';\r\nconst MDBFormList = () => {\r\n    const [formsList, setFormsList] = useState(null);\r\n\r\n    useEffect(() => {\r\n        getCollection(COLLECTION_ID)\r\n            .then(res => setFormsList(res))\r\n            .catch(err => console.error(err));\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n        <Header />\r\n        <div id=\"mdb-form-list-wrapper\">\r\n            <h1>MDB Debriefer Forms</h1>\r\n            <Link to={`/debriefer-entry/`} className=\"mdb-form-list-item\" id=\"new-mdb-form\" >Create new</Link>\r\n            {\r\n                formsList ?\r\n                formsList.map((ele, i) => (\r\n                    <MDBFormListItem item={ele} key={i} />\r\n                ))\r\n                : <p>Loading...</p>\r\n            }\r\n        </div>\r\n        </>\r\n    );\r\n};\r\n\r\nconst MDBFormListItem = ({item}) => {\r\n    return (\r\n        <div className=\"mdb-form-list-item\">\r\n            <>\r\n            <h3>{item.scenarioName}</h3>\r\n            <Link to={`/debriefer-entry/${item.scenarioName}`} className=\"action-bttn\" >Edit</Link> \r\n            </>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MDBFormList;","import { useState, useEffect, useRef } from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport { getDocument, publishDocument } from '../../scripts/connect-firebase.js';\r\nimport { INTV_META_DATA } from '@meddbriefer/scenario-data/traumaScenarioV2MetaData';\r\n\r\nconst COLLECTION_ID = 'scenario-required-actions';\r\n\r\nconst ActionAssociations = (props) => {\r\n    const { formId } = props.match.params;\r\n    const [mdbForm, setMDBForm] = useState(null);\r\n    const [prompts, setPrompts] = useState();\r\n    const associationsRef = useRef();\r\n    let history = useHistory();\r\n\r\n    let actions = mdbForm?.criticalActions;\r\n\r\n    // Load in form data\r\n    useEffect(() => {\r\n        if (formId) {\r\n            getDocument(COLLECTION_ID, formId)\r\n                .then(res => setMDBForm(res))\r\n                .catch(err => console.error(err))\r\n        } else throw Error ('Unable to fetch debriefer info');\r\n    }, [formId]);\r\n\r\n    // Set list of prompts\r\n    useEffect(() => {\r\n        // Expensive. useEffect ensures no re-searching prompts.\r\n        actions &&\r\n        setPrompts( getMatchingPrompts(actions) );\r\n    }, [actions]);\r\n\r\n    const handleSubmit = () => {\r\n        let obj = {};\r\n        for (let item of associationsRef.current)\r\n        {\r\n            if (item.tagName === 'SELECT')\r\n            {\r\n                obj[item.name] = item.value;\r\n            }\r\n            else\r\n            {\r\n                if (!obj[item.name]) obj[item.name] = [];\r\n                if (item.checked)\r\n                    obj[item.name].push(item.value);\r\n            }\r\n        }\r\n        \r\n        mdbForm.associations = obj;\r\n        \r\n        publishDocument(COLLECTION_ID, mdbForm.scenarioName, mdbForm);\r\n        history.push('/debriefer-entry-list/');\r\n        alert('Prompt assocations uploaded.');\r\n    }\r\n\r\n    const getSelected = (parent) => {\r\n        return mdbForm.associations \r\n            ? mdbForm.associations[parent]\r\n            : null;\r\n    }\r\n    const isChecked = (parent, item) => {\r\n        return mdbForm.associations \r\n            ? mdbForm.associations[parent]?.includes(item) \r\n            : false;\r\n    }\r\n\r\n    return (\r\n        <div id=\"associations-wrapper\">\r\n            <h1 id=\"title\">Debriefer Prompt Associations</h1>\r\n            <p className=\"hint-text\">To be used to associate the correct action(s) with their prompts.</p>\r\n            {\r\n                mdbForm\r\n                ? <form id=\"associations-list\" ref={associationsRef} >\r\n                    {prompts && prompts.map(e => (\r\n                        e.selectionType === \"one\" \r\n                        ? // OR\r\n                        <label key={e.id} className=\"associations-or\">\r\n                            {e.label}\r\n                            {\r\n                            <select name={e.id} defaultValue={getSelected(e.id)}>\r\n                                {\r\n                                e.children.map(child => (\r\n                                    <option key={child.id} value={child.id}>{child.label}</option>\r\n                                ))\r\n                                }\r\n                            </select>\r\n                            }\r\n                        </label>\r\n                        : // AND\r\n                        <div key={e.id} className=\"associations-and\">\r\n                            {e.label}\r\n                            {\r\n                            e.children.map(child => (\r\n                                <label key={child.id}>\r\n                                    {child.label}\r\n                                    <input type=\"checkbox\" value={child.id} name={e.id} defaultChecked={isChecked(e.id, child.id)}/>\r\n                                </label>\r\n                            ))\r\n                            }\r\n                        </div>\r\n                    ))}\r\n                </form>\r\n                : <p>Loading...</p>\r\n            }\r\n            {\r\n                prompts && prompts.length === 0 &&\r\n                <p>There are no prompts to associate.</p>\r\n            }\r\n            <button type=\"button\" onClick={handleSubmit} id=\"associations-submit\">Submit</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst getAllPrompts = () => {\r\n    let propsObj = {};\r\n\r\n    for(let item of INTV_META_DATA)\r\n    {\r\n        if (item.type === 'prompt')\r\n        {\r\n            item.children = [];\r\n            propsObj[item.id] = item;\r\n        }\r\n        else if (item.type === 'intervention' || item.type === 'answer')\r\n        {\r\n            if (item.prompt)\r\n                propsObj[item.prompt].children.push(item);\r\n        }\r\n    }\r\n\r\n    return propsObj;\r\n}\r\n\r\nconst getMatchingPrompts = (list) => {\r\n    if (!list) return [];\r\n\r\n    const allPrompts = getAllPrompts();\r\n    let flattenedIds = [];\r\n    let matchingPrompts = [];\r\n    \r\n    // Flatten Ids\r\n    for(const block in list) {\r\n        for (const item in list[block]){\r\n            let curr = list[block][item];\r\n            if (Array.isArray(curr)) {\r\n                for (let id of curr) {\r\n                    if (id !== \"\" && !flattenedIds.includes(id))\r\n                        flattenedIds.push(id);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    // Get prompts\r\n    for (let prompt in allPrompts) {\r\n        for (let child of allPrompts[prompt].children) {\r\n            if (flattenedIds.includes(child.id) && !matchingPrompts.includes(allPrompts[prompt])) {\r\n                matchingPrompts.push(allPrompts[prompt])\r\n            }\r\n        }\r\n    }\r\n\r\n    return matchingPrompts;\r\n}\r\n\r\nexport default ActionAssociations;","import React from \"react\";\r\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\r\n\r\nimport { AuthProvider, StaffRoute } from \"@meddbriefer/mdb-auth\";\r\n\r\nimport \"./styles/form-styles.scss\";\r\nimport \"./styles/home-styles.scss\";\r\nimport \"./styles/assignment-styles.scss\";\r\nimport \"./styles/debriefer-styles.scss\";\r\n\r\nimport UnauthedLayout from \"./components/UnauthedLayout\"\r\n\r\nimport HomePage from \"./components/HomePage\";\r\nimport ScenarioForm from \"./components//ScenarioEditor/ScenarioForm\";\r\nimport ScenariosList from \"./components/ScenarioEditor/ScenariosList\";\r\nimport ClassCode from './components/ClassCodes/ClassCode';\r\nimport ClassCodesList from './components/ClassCodes/ClassCodesList';\r\nimport MDBForm from './components/MDBForm/MDBForm';\r\nimport MDBFormList from './components/MDBForm/MDBFormList';\r\nimport ActionAssociations from './components/MDBForm/ActionAssociations';\r\n\r\n\r\nconst App = () => {\r\n  return (\r\n    <AuthProvider>\r\n      <Router>\r\n        <Switch>\r\n          <Route exact path=\"/\" component={HomePage} />\r\n          <StaffRoute exact path=\"/scenarios\" authFlowLayout={UnauthedLayout} component={ScenariosList} />\r\n          <StaffRoute exact path=\"/scenario/\" authFlowLayout={UnauthedLayout} component={ScenarioForm} />\r\n          <StaffRoute exact path=\"/scenario/:scenarioId\" authFlowLayout={UnauthedLayout} component={ScenarioForm} />\r\n          <StaffRoute exact path=\"/scenario/:scenarioId/:asTemplate\" authFlowLayout={UnauthedLayout} component={ScenarioForm} />\r\n          <StaffRoute exact path=\"/class-codes-list/\" authFlowLayout={UnauthedLayout} component={ClassCodesList} />\r\n          <StaffRoute exact path=\"/class-codes/\" authFlowLayout={UnauthedLayout} component={ClassCode} />\r\n          <StaffRoute exact path=\"/class-codes/:classCode\" authFlowLayout={UnauthedLayout} component={ClassCode} />\r\n          <StaffRoute exact path=\"/debriefer-entry-list/\" authFlowLayout={UnauthedLayout} component={MDBFormList} />\r\n          <StaffRoute exact path=\"/debriefer-entry/:mdbFormId\" authFlowLayout={UnauthedLayout} component={MDBForm} />\r\n          <StaffRoute exact path=\"/debriefer-entry/\" authFlowLayout={UnauthedLayout} component={MDBForm} />\r\n          <StaffRoute exact path=\"/associations/:formId\" authFlowLayout={UnauthedLayout} component={ActionAssociations} />\r\n        </Switch>\r\n      </Router>\r\n    </AuthProvider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from './App.js';\r\n\r\nReactDOM.render(\r\n    <App />,\r\n    document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}