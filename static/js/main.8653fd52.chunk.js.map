{"version":3,"sources":["components/Header.js","components/UnauthedLayout.js","components/HomePage.js","../../../libs/mdb-firebase/index.js","scripts/connect-firebase.js","components/ScenarioEditor/BasicInfo.js","components/ScenarioEditor/ScenarioItem.js","components/ScenarioEditor/Steplist.js","components/ScenarioEditor/Vitals.js","components/ScenarioEditor/Sample.js","components/ScenarioEditor/ScenarioForm.js","components/ScenarioEditor/ScenariosList.js","components/ClassCodes/ClassCode.js","components/ClassCodes/ClassCodesList.js","../../../libs/scenario-data/constants.js","../../../libs/scenario-data/traumaScenarioV2MetaData.js","scripts/id-util.js","components/MDBForm/SearchResults.js","components/MDBForm/FormItem.js","components/MDBForm/FormBlock.js","components/MDBForm/MDBForm.js","components/MDBForm/MDBFormList.js","components/MDBForm/ActionAssociations.js","App.js","index.js"],"names":["Header","useContext","AuthContext","currentUser","signOutUser","history","useHistory","location","useLocation","className","onClick","push","pathname","type","goBack","UnauthedLayout","props","children","HomePage","to","firebaseApp","firebase","apps","length","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","auth","firestore","verifyDocument","collectionId","documentName","a","collection","doc","get","document","data","publishDocument","documentObject","set","console","log","getDocument","deleteDocument","delete","getCollection","docs","map","item","BasicInfo","active","scenario","edit","info","pt","id","classnames","defaultValue","name","instructorInformation","dispatchInfo","sceneAssessment","placeholder","maxTime","patientInformation","moulage","position","actions","ScenarioHeader","label","Assessment","findings","assessmentFindings","ScenarioItem","getSteplistItems","array","step","assessCount","Steplist","scenarioData","steps","VitalsBox","header","Vital","vitalSigns","Vitals","SAMPLE","S","A","M","P","L","E","COLLECTION_ID","ScenarioForm","scenarioId","match","params","asTemplate","useState","setScenario","activeTab","setActiveTab","isActiveTab","isEdit","formEl","useRef","useEffect","then","result","catch","error","blankTrauma","submitForm","ref","form","current","value","alert","trim","window","confirm","processForm","input","path","newScenario","JSON","parse","stringify","split","isNaN","parseInt","ListItem","remove","index","scenarioType","ScenariosList","scenarios","setScenarios","LOADING","listIndex","deleteScenario","newList","slice","splice","ClassCode","classCode","assignment","setAssignment","originalId","assignmentTitle","checklist","orderRequired","err","processAssignment","assignmentObj","i","checked","order","handleSubmit","title","assignmentTasks","assignments","isChecked","forEach","orderNum","num","defaultChecked","ClassCodesList","codes","setCodes","handleDelete","newGroups","indexOf","HEADING","ASSESS","REQURED","CRIT_FAIL","INTV_FORM","PROMPT","ONE","OOM","INTERV","ANSWER","INTV_META_DATA","selectionType","prompt","relatedForm","assessmentIds","tabLabel","filter","idList","intv","sort","one","two","localeCompare","matchesLabel","str","matchArr","toLowerCase","includes","matchesChecklist","SearchResults","list","setVal","e","onMouseOver","v","target","innerText","onMouseLeave","FormItem","query","setQuery","textRef","deleteSelf","parentNode","getChecked","meta","contraReqOrder","pos","contraindicated","required","getPos","block","onChange","autoComplete","FormBlock","MDBFormContext","criticalActions","numGreen","setNumGreen","numYellow","setNumYellow","numRed","setNumRed","numFindings","setNumFindings","numNotes","setNumNotes","lessGreen","lessYellow","lessRed","lessFindings","lessNotes","beforeRef","afterRef","setInput","standard","minimal","notes","protocol","when","before","after","Array","React","createContext","FormRoot","mdbForm","setMDBForm","numBlocks","setNumBlocks","mdbFormId","formRef","res","scenarioName","Provider","scan","object","associations","blocks","deepCopy","isArray","obj","arr","node","nodeName","MDBFormListItem","MDBFormList","formsList","setFormsList","ele","getMatchingPrompts","allInterventions","prompts","getAllInterventions","flattenedIds","matchingPrompts","curr","ActionAssociations","formId","setPrompts","associationsRef","Error","setTimeout","parent","child","tagName","App","exact","component","authFlowLayout","MDBForm","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.8653fd52.chunk.js","sourcesContent":["import { useHistory, useLocation } from 'react-router-dom';\r\nimport { useContext } from \"react\"; \r\nimport { AuthContext } from \"@meddbriefer/mdb-auth\";\r\n\r\nconst Header = () => {\r\n  const { currentUser, signOutUser } = useContext(AuthContext);\r\n  let history = useHistory();\r\n  let location = useLocation();\r\n\r\n  return (\r\n    <div className=\"title-bar\">\r\n      <h1 onClick={() => history.push('/')}>MedDBriefer</h1>\r\n\r\n      {location.pathname !== '/' && \r\n      <button type=\"button\" className=\"back-bttn\" onClick={() => history.goBack()}>Back</button>}\r\n\r\n      {currentUser && \r\n      <button type=\"button\" className=\"sign-out-bttn\" onClick={() => signOutUser()}>Sign out</button>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;","import Header from \"./Header\"\r\n\r\nconst UnauthedLayout = (props) => {\r\n    return (\r\n        <>\r\n        <Header />\r\n        {props.children}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default UnauthedLayout","import React from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\n\r\nimport Header from './Header'\r\n\r\nconst HomePage = () => {\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n\r\n      <div className=\"nav-wrapper\">\r\n        <Link to=\"/scenarios\">\r\n          <div className=\"home-nav-button\">Scenario Forms</div>\r\n        </Link>\r\n        <Link to=\"/class-codes-list/\">\r\n          <div className=\"home-nav-button\">Class Codes</div>\r\n        </Link>\r\n        <Link to=\"/debriefer-entry-list/\">\r\n          <div className=\"home-nav-button\">Debriefer Entry</div>\r\n        </Link>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default HomePage","import firebase from 'firebase/app'\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\"\r\n\r\nexport const firebaseCfg = {\r\n    apiKey: \"AIzaSyBOgWAbXUGckpad2sk0IUo00hZsV4WxG0E\",\r\n    authDomain: \"meddbriefer-68cd4.firebaseapp.com\",\r\n    projectId: \"meddbriefer-68cd4\",\r\n    storageBucket: \"meddbriefer-68cd4.appspot.com\",\r\n    messagingSenderId: \"1087114796018\",\r\n    appId: \"1:1087114796018:web:679fbab38dbf78af0ce96b\",\r\n    measurementId: \"G-Q7QZKC9KHW\"\r\n}\r\n\r\n// don't reinitialize app if it already exists\r\nconst firebaseApp = !firebase.apps.length ? firebase.initializeApp(firebaseCfg) : firebase.app()\r\n\r\nexport const auth = firebaseApp.auth()\r\nexport const db = firebaseApp.firestore()\r\n","import { db } from \"@meddbriefer/mdb-firebase\";\r\n\r\n// Check if a document with the given name already exists\r\nexport const verifyDocument = async (collectionId, documentName) => {\r\n    let document = await db.collection(collectionId).doc(documentName).get();\r\n    return document.data() != null;\r\n};\r\n\r\n// Upload document object to database\r\nexport const publishDocument = async (collectionId, documentName, documentObject) => {\r\n    await db.collection(collectionId).doc(documentName).set(documentObject);\r\n    console.log(`Successfully published '${documentName}'.`);\r\n};\r\n\r\n// Pull document from database as object\r\nexport const getDocument = async (collectionId, documentName) => {\r\n    let document = await db.collection(collectionId).doc(documentName).get();\r\n    return document.data();\r\n};\r\n\r\n// Permanently delete document\r\nexport const deleteDocument = async (collectionId, documentName) => {\r\n    await db.collection(collectionId).doc(documentName).delete();\r\n    console.log(`'${documentName}' permanently deleted.`);\r\n    return true;\r\n};\r\n\r\n// Pull collection from database as array of document objects\r\nexport const getCollection = async (collectionId) => {\r\n    let collection = await db.collection(collectionId).get();\r\n    return collection.docs.map(item => item.data());\r\n};","import classnames from 'classnames';\r\n\r\nconst BasicInfo = ({ active, scenario, edit }) => {\r\n\tconst info = scenario.info;\r\n  const pt = 'patientInformation';\r\n\treturn (\r\n\t\t<div id=\"basic-info\" className={classnames(\"info-wrapper\", {\"scenario-view-hidden\": !active})}>\r\n\t\t\t<h1>Basic Information:</h1>\r\n\t\t\t<label>\r\n\t\t\t\tScenario Title:\r\n\t\t\t\t<input id=\"name\" type=\"text\" defaultValue={edit ? scenario.name : ''} />\r\n\t\t\t</label>\r\n\r\n\t\t\t<label>\r\n\t\t\t\tInstructor Info:\r\n\t\t\t\t<textarea id=\"info-instructorInformation\" defaultValue={info.instructorInformation} />\r\n\t\t\t</label>\r\n\r\n\t\t\t<label>\r\n\t\t\t\tDispatch Info:<textarea id=\"info-dispatchInfo\" defaultValue={info.dispatchInfo} />\r\n\t\t\t</label>\r\n\r\n\t\t\t<label>\r\n\t\t\t\tScene assessment:<textarea id=\"info-sceneAssessment\" defaultValue={info.sceneAssessment} />\r\n\t\t\t</label>\r\n\r\n\t\t\t<label>\r\n\t\t\t\tMaximum time for scenario:<input id=\"info-maxTime\" type=\"number\" placeholder=\"minutes\" defaultValue={info.maxTime} />\r\n\t\t\t</label>\r\n\r\n\t\t\t<h2>Patient Info:</h2>\r\n\t\t\t<div id=\"pt-info\">\r\n\t\t\t\t<label>\r\n\t\t\t\t\tMoulage:<input type=\"text\" id={`info-${pt}-moulage`} defaultValue={info.patientInformation.moulage} />\r\n\t\t\t\t</label>\r\n\t\t\t\t<label>\r\n\t\t\t\t\tPosition:<input type=\"text\" id={`info-${pt}-position`} defaultValue={info.patientInformation.position} />\r\n\t\t\t\t</label>\r\n\t\t\t\t<label>\r\n\t\t\t\t\tActions:<input type=\"text\" id={`info-${pt}-actions`} defaultValue={info.patientInformation.actions} />\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default BasicInfo;\r\n","const ScenarioItem = ({item, scenario}) => {\r\n  return (\r\n    item.type === \"heading\" \r\n    ? <ScenarioHeader item={item} />\r\n    : <div className=\"step-item\"><Assessment item={item} scenario={scenario} /></div>\r\n  );\r\n};\r\n\r\nconst ScenarioHeader = ({item}) => {\r\n  return <div className=\"list-item header-item\">{item.label}</div>;\r\n};\r\n\r\nconst Assessment = ({item, scenario}) => {\r\n\tconst findings = scenario.assessmentFindings\r\n  return (\r\n    <label>\r\n      {`'${item.label}':`}\r\n      <input\r\n        type=\"text\"\r\n        id={`assessmentFindings-${item.id}`}\r\n        placeholder=\"leave blank if N/A or unremarkable\"\r\n        defaultValue={findings[item.id]}\r\n      />\r\n    </label>\r\n  );\r\n};\r\n\r\nexport default ScenarioItem;\r\n","import ScenarioItem from \"./ScenarioItem.js\";\r\nimport scenarioData from \"../../data/trauma-scenario.json\";\r\nimport classnames from 'classnames';\r\n\r\nconst Steplist = ({ active, scenario }) => {\r\n\treturn (\r\n\t\t<div id=\"scenario-steps\" className={classnames({\"scenario-view-hidden\": !active})}>\r\n\t\t\t<h1>Scenario Items</h1>\r\n\t\t\t{getSteplistItems(scenarioData.steps, []).map((item) => (\r\n\t\t\t\t<ScenarioItem key={item.id} item={item} scenario={scenario} />\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\n// Recursively get the nested assessment items\r\nfunction getSteplistItems(item, array) {\r\n\tfor (let step of item) {\r\n\t\tif (step.type === 'heading' && step.children != null) {\r\n\t\t\tlet assessCount = 0;\r\n\t\t\tfor (let item of step.children) \r\n\t\t\t\tif (item.type === 'assess') \r\n\t\t\t\t\tassessCount += 1;\r\n\t\t\t\r\n\t\t\tif (assessCount > 0 )\r\n\t\t\t\tarray.push({ 'id': step.id, 'type': step.type, 'label': step.label });\r\n\r\n\t\t\tgetSteplistItems(step.children, array);\r\n\t\t} else if (step.type === 'assess') {\r\n\t\t\tarray.push({ 'id': step.id, 'type': step.type, 'label': step.label });\r\n\r\n\t\t\tif (step.children != null)\r\n\t\t\t\tgetSteplistItems(step.children, array);\r\n\t\t}\r\n\t}\r\n\r\n\treturn array;\r\n}\r\n\r\nexport default Steplist;\r\n","import classnames from 'classnames';\r\n\r\nconst Vitals = ({ active, scenario }) => {\r\n\treturn (\r\n\t\t<div className={classnames(\"info-box vitals\", {\"scenario-view-hidden\": !active})}>\r\n\t\t\t<VitalsBox type=\"initial\" header=\"Initial\" scenario={scenario} />\r\n\t\t\t<VitalsBox type=\"good\" header=\"Good Reassessment\" scenario={scenario} />\r\n\t\t\t<VitalsBox type=\"bad\" header=\"Bad Reassessment\" scenario={scenario} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst VitalsBox = ({ scenario, header, type }) => {\r\n\treturn (\r\n\t\t<div className=\"vital-wrapper\">\r\n\t\t\t<h1> {`${header} Vitals:`} </h1>\r\n\t\t\t<div className=\"vitals-box\">\r\n\t\t\t\t<Vital label='BP' type={type} scenario={scenario} />\r\n\t\t\t\t<Vital label='P' type={type} scenario={scenario} />\r\n\t\t\t\t<Vital label='R' type={type} scenario={scenario} />\r\n\t\t\t\t<Vital label='Skin' type={type} scenario={scenario} />\r\n\t\t\t\t<Vital label='Spo2' type={type} scenario={scenario} />\r\n\t\t\t\t<Vital label='ETCO2' type={type} scenario={scenario} />\r\n\t\t\t\t<Vital label='GCS' type={type} scenario={scenario} />\r\n\t\t\t\t<Vital label='Glucose' type={type} scenario={scenario} />\r\n\t\t\t\t<Vital label='Pain' type={type} scenario={scenario} />\r\n\t\t\t\t<Vital label='Temp' type={type} scenario={scenario} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nfunction Vital ({scenario, label, type}) {\r\n\treturn (\r\n\t\t<label>\r\n\t\t\t{label}:\r\n\t\t\t<input\r\n\t\t\t\tid={`vitalSigns-${label}-${type}`}\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tdefaultValue={scenario.vitalSigns[label][type]}\r\n\t\t\t/>\r\n\t\t</label>\r\n\t);\r\n}\r\n\r\nexport default Vitals;\r\n","import classnames from 'classnames';\r\n\r\nconst SAMPLE = ({ active, scenario }) => {\r\n\tconst SAMPLE = scenario.SAMPLE;\r\n\treturn (\r\n\t\t<div className={classnames(\"info-box\", {\"scenario-view-hidden\": !active})} id=\"sample\">\r\n\t\t\t<h1>SAMPLE:</h1>\r\n\r\n\t\t\t<div className=\"sample\">\r\n\t\t\t\t<label>\r\n\t\t\t\t\tS:<input type=\"text\" id=\"SAMPLE-S\" defaultValue={SAMPLE.S} />\r\n\t\t\t\t</label>\r\n\t\t\t\t<label>\r\n\t\t\t\t\tA:<input type=\"text\" id=\"SAMPLE-A\" defaultValue={SAMPLE.A} />\r\n\t\t\t\t</label>\r\n\t\t\t\t<label>\r\n\t\t\t\t\tM:<input type=\"text\" id=\"SAMPLE-M\" defaultValue={SAMPLE.M} />\r\n\t\t\t\t</label>\r\n\t\t\t\t<label>\r\n\t\t\t\t\tP:<input type=\"text\" id=\"SAMPLE-P\" defaultValue={SAMPLE.P} />\r\n\t\t\t\t</label>\r\n\t\t\t\t<label>\r\n\t\t\t\t\tL:<input type=\"text\" id=\"SAMPLE-L\" defaultValue={SAMPLE.L} />\r\n\t\t\t\t</label>\r\n\t\t\t\t<label>\r\n\t\t\t\t\tE:<input type=\"text\" id=\"SAMPLE-E\" defaultValue={SAMPLE.E} />\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default SAMPLE;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport classnames from 'classnames';\r\n\r\nimport {\r\n\tpublishDocument,\r\n\tgetDocument,\r\n\tverifyDocument,\r\n\tdeleteDocument\r\n} from \"../../scripts/connect-firebase.js\";\r\nimport blankTrauma from '../../data/blank-trauma.json';\r\nimport BasicInfo from \"./BasicInfo.js\";\r\nimport Steplist from \"./Steplist.js\";\r\nimport Vitals from \"./Vitals\";\r\nimport SAMPLE from \"./Sample.js\";\r\n\r\nconst COLLECTION_ID = 'scenarios';\r\n\r\n/************************ IMPORTANT!! ***************************\r\n   ID's of each HTML input element are very specifically set.\r\n   Do not change or it will break the form's saving and loading.\r\n*****************************************************************/\r\n\r\nconst ScenarioForm = (props) => {\r\n\tconst { scenarioId } = props.match.params;\r\n\tconst { asTemplate } = props.match.params;\r\n\tconst [scenario, setScenario] = useState(); // current state of scenario form\r\n\tconst [activeTab, setActiveTab] = useState('basic-info'); // current view\r\n\tconst isActiveTab = (name) => name === activeTab;\r\n\tconst isEdit = !!scenarioId;\r\n\tconst formEl = useRef(null);\r\n\tlet history = useHistory();\r\n\r\n\t// Load and apply selected scenario\r\n\tuseEffect(() => {\r\n\t\tisEdit ? getDocument(COLLECTION_ID, scenarioId)\r\n\t\t\t.then((result) => { setScenario(result) })\r\n\t\t\t.catch((error) => {\tconsole.log(error) })\r\n\t\t: setScenario(blankTrauma);\r\n\t}, [scenarioId, isEdit]);\r\n\r\n\treturn (\r\n\t\t<div className=\"scenario-form-wrapper\">\r\n\t\t\t<nav id=\"tab-selector\">\r\n\t\t\t\t<div className={classnames(\"tab-button\", {\"active-tab\": isActiveTab(\"basic-info\")})} \r\n\t\t\t\t\t onClick={() => setActiveTab('basic-info')}>Info</div>\r\n\r\n\t\t\t\t<div className={classnames(\"tab-button\", {\"active-tab\": isActiveTab(\"sample\")})} \r\n\t\t\t\t\t onClick={() => setActiveTab('sample')}>Sample</div>\r\n\r\n\t\t\t\t<div className={classnames(\"tab-button\", {\"active-tab\": isActiveTab(\"vitals\")})}\r\n\t\t\t\t\t onClick={() => setActiveTab('vitals')}>Vitals</div>\r\n\r\n\t\t\t\t<div className={classnames(\"tab-button\", {\"active-tab\": isActiveTab(\"steplist\")})} \r\n\t\t\t\t\t onClick={() => setActiveTab('steplist')}>Steplist</div>\r\n\r\n\t\t\t\t<button type=\"submit\" id=\"submit-next\" onClick={() => submitForm()}>Submit </button>\r\n\t\t\t</nav>\r\n\r\n\t\t\t<form id=\"scenario-form\" className=\"scenario-form\" ref={formEl}>\r\n\t\t\t\t{\r\n\t\t\t\tscenario ?\r\n\t\t\t\t<>\r\n\t\t\t\t\t<BasicInfo \tactive={isActiveTab('basic-info')} \tscenario={scenario} edit={isEdit} />\r\n\t\t\t\t\t<SAMPLE \tactive={isActiveTab('sample')} \t\tscenario={scenario} />\r\n\t\t\t\t\t<Vitals \tactive={isActiveTab('vitals')} \t\tscenario={scenario} />\r\n\t\t\t\t\t<Steplist \tactive={isActiveTab('steplist')}\tscenario={scenario} />\r\n\t\t\t\t</>\r\n\t\t\t\t: <p>Loading...</p> // While scenario is loading in\r\n\t\t\t\t}\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n\r\n\tasync function submitForm() {\r\n\t\tlet form = formEl.current;\r\n\r\n\t\tif (asTemplate === 'template' && form.name.value === scenario.name)\r\n\t\t{\r\n\t\t\talert('You can\\'t use the same name as the template!');\r\n\t\t}\r\n\t\telse if ( form.name.value == null || form.name.value.trim() === \"\" || ( await verifyDocument(COLLECTION_ID, form.name.value) && !isEdit ) ) \r\n\t\t{\r\n\t\t\t// If scenario exists and not in edit mode\r\n\t\t\talert('Scenario needs a new name!');\r\n\t\t}\r\n\t\telse if (window.confirm(\"Any empty items will be filled with default information. Submit?\"))\r\n\t\t{\r\n\t\t\tform = processForm(form);\r\n\t\t\t\r\n\t\t\t// If there's a name change\r\n\t\t\t(isEdit && form.name.value !== scenario.name && !asTemplate) && deleteDocument(COLLECTION_ID, scenario.name); \r\n\r\n\t\t\t// console.log(form);\r\n\t\t\tpublishDocument(COLLECTION_ID, form.name, form); // Create new\r\n\t\t\thistory.goBack(); // Send back once submitted\r\n\t\t} \r\n\t\telse \r\n\t\t{\r\n\t\t\tconsole.log(\"Submit cancelled.\");\r\n\t\t}\r\n\t}\r\n\r\n\tfunction processForm(data) {\r\n\t\tlet input, id, path, \r\n\t\tnewScenario = JSON.parse(JSON.stringify(scenario)); // deep copy of original format (for edits)\r\n\r\n\t\tfor(let item of data) {\r\n\t\t\tid = item.id;\r\n\t\t\tpath = id.split('-');\r\n\t\t\tinput = item.value;\r\n\r\n\t\t\t// Default assess case\r\n\t\t\tif (path[0] === 'assessmentFindings' && !input) \r\n\t\t\t\tinput = \"Unremarkable\";\r\n\r\n\t\t\tif (input) { // Don't process empty fields\r\n\t\t\t\t// Reconstruct assessmentFindings path after split\r\n\t\t\t\tif (path[0] === 'assessmentFindings') path = [path[0], id.split('assessmentFindings-')[1]];\r\n\r\n\t\t\t\t// Read numbers as numbers\r\n\t\t\t\tinput = isNaN(input) ? input : parseInt(input);\r\n\r\n\t\t\t\t// Handle different object depths\r\n\t\t\t\tswitch (path.length) {\r\n\t\t\t\t\tcase 1: newScenario[path[0]] = input; break;\r\n\t\t\t\t\tcase 2: newScenario[path[0]][path[1]] = input; break;\r\n\t\t\t\t\tcase 3: newScenario[path[0]][path[1]][path[2]] = input; break;\r\n\r\n\t\t\t\t\tdefault: console.log('Path length error:', path.length); break; // Log error\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn newScenario;\r\n\t}\r\n};\r\n\r\nexport default ScenarioForm;\r\n","import { React, useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getCollection, deleteDocument } from '../../scripts/connect-firebase';\r\nimport Header from '../Header';\r\n\r\nconst COLLECTION_ID = 'scenarios';\r\n\r\nconst ScenariosList = () => {\r\n\tconst [scenarios, setScenarios] = useState();\r\n\tconst LOADING = <p>Loading...</p>;\r\n\tlet listIndex = 0;\r\n\r\n\tuseEffect(() => {\r\n\t\tgetCollection(COLLECTION_ID)\r\n\t\t\t.then((result) => { setScenarios(result) })\r\n\t\t\t.catch((error) => { console.log(error) })\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Header />\r\n\r\n\t\t\t<div className=\"scenario-list\">\r\n\t\t\t\t<h1 id='scenario-list-title'>Scenario List</h1>\r\n\r\n\t\t\t\t<Link to='/scenario/' className=\"new-scenario-bttn list-scenario-item\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<h1>+</h1>\r\n\t\t\t\t\t\t<p>Create a New Scenario</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Link>\r\n\r\n\t\t\t\t{scenarios \r\n\t\t\t\t\t? scenarios.map((item) => (\r\n\t\t\t\t\t\t\titem && <ListItem item={item} key={`${item.name}-list`} remove={deleteScenario} index={listIndex++} />))\r\n\t\t\t\t \t: LOADING }\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n\r\n\tasync function deleteScenario(index) {\r\n\t\tlet id = scenarios[index].name;\r\n\t\tif( window.confirm('Are you sure you want to delete this scenario? This cannot be undone!') ) {\r\n\t\t\tawait deleteDocument(COLLECTION_ID, id);\r\n\t\t\tlet newList = scenarios.slice(); // deep copy\r\n\t\t\tnewList.splice(index, 1);\r\n\t\t\tsetScenarios( newList );\r\n\t\t} else {\r\n\t\t\tconsole.log('Delete of', id, 'cancelled');\r\n\t\t}\r\n\t}\r\n};\r\n\r\nconst ListItem = ({ item, remove, index }) => {\r\n\treturn (\r\n\t\t<div className=\"list-scenario-item\">\r\n\t\t\t<h1 id=\"title\">{item.name}</h1>\r\n\t\t\t<p>{item.scenarioType}</p>\r\n\t\t\t<p>Info: {item.info.instructorInformation ?? \"Not given.\"}</p>\r\n\r\n\t\t\t<Link to={`/scenario/${item.name}`} className=\"action-bttn\">Edit</Link>\r\n\t\t\t<Link to={`/scenario/${item.name}/template`} className=\"action-bttn\">Use as Template</Link>\r\n\t\t\t<button type=\"button\" className=\"action-bttn\" onClick={() => remove(index) }>Delete</button>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ScenariosList;\r\n","import { getCollection, \r\n        getDocument, \r\n        publishDocument,\r\n        verifyDocument,\r\n        deleteDocument } \r\nfrom '../../scripts/connect-firebase.js';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport Header from '../Header';\r\n\r\nconst COLLECTION_ID = 'class-codes';\r\n\r\nconst ClassCode = (props) => {\r\n    const { classCode } = props.match.params;\r\n    const [ scenarios, setScenarios ] = useState(null);\r\n    const [ assignment, setAssignment ] = useState(null);\r\n    const [ originalId, isEdit ] = [ classCode, !!classCode ];\r\n    const assignmentTitle = useRef(null);\r\n    const checklist = useRef(null);\r\n    const orderRequired = useRef(null);\r\n\tlet history = useHistory();\r\n    \r\n    useEffect(() => {\r\n        getCollection('scenarios')\r\n            .then((result) => { \r\n                setScenarios(result); // Load scenarios from db\r\n\r\n                classCode ? // Load assignment if an edit\r\n                getDocument(COLLECTION_ID, classCode)\r\n                    .then((result) => { \r\n                        setAssignment(result);\r\n                    })\r\n                    .catch((err) => console.log(err)) \r\n                : setAssignment([]);\r\n\r\n            })\r\n            .catch(() => console.log('Scenario loaded error') )\r\n    }, [classCode]);\r\n\r\n    const processAssignment = () => {\r\n        let form = checklist.current.children;\r\n        let assignmentObj = [];\r\n\r\n        // Get assignments and place in object\r\n        for(let i=0; i < form.length; i++){\r\n            if(form[i].children[0].checked)\r\n                assignmentObj.push({ // New objects\r\n                    id: form[i].children[0].value,\r\n                    order: parseInt(form[i].children[1].children[0].value) || (orderRequired.current.checked ? 1: -1)\r\n                });\r\n        }\r\n        \r\n        return assignmentObj;\r\n    }\r\n\r\n    const handleSubmit = async () => {\r\n        let title = assignmentTitle.current.value;\r\n        \r\n        let assignmentTasks = processAssignment();\r\n\r\n        console.log(assignmentTasks);\r\n        \r\n        // Verify name isn't empty and doesn't already exists (prevent overwriting)\r\n        if ( title.trim() === '' || (await verifyDocument(COLLECTION_ID, title) && !isEdit) ) {\r\n            alert('Assignment needs a title!');\r\n            return;\r\n        }\r\n\r\n        (isEdit && originalId !== title) && deleteDocument(COLLECTION_ID, originalId);\r\n\r\n        await publishDocument( COLLECTION_ID, title, \r\n            { title: title, orderRequired: orderRequired.current.checked, assignments: assignmentTasks });\r\n\r\n        alert(`Published ${assignmentTitle.current.value}`);\r\n        history.push('/class-codes-list/');\r\n    };\r\n\r\n    const isChecked = (id) => {\r\n        let checked = false;\r\n        assignment?.assignments?.forEach(item => {\r\n            if(item.id === id) checked = true;\r\n        });\r\n        return checked;\r\n    };\r\n\r\n    const orderNum = (id) => {\r\n        let num = null;\r\n        assignment?.assignments?.forEach(item => {\r\n            if(item.id === id) num = item.order;\r\n        });\r\n        return num;\r\n    };\r\n\r\n    return (\r\n        <>\r\n        <Header />\r\n        <div className=\"scenario-assignment\">\r\n            <h1>Class Code</h1>\r\n            {\r\n                assignment ? // Check if assignment loaded in\r\n                <>\r\n                <label className=\"assignment-title\">\r\n                    Title: <input type=\"text\" ref={assignmentTitle} defaultValue={classCode} /> \r\n                </label>\r\n\r\n                <div className=\"assignment-list\" ref={checklist}>\r\n                    {\r\n                        scenarios.map( (item) => (\r\n                            <label key={item.name} className=\"assignment-check-item\">\r\n                                <input type=\"checkbox\" value={item.name} defaultChecked={isChecked(item.name)}/>\r\n                                {item.name}\r\n\r\n                                <span>\r\n                                    # <input type=\"number\" defaultValue={orderNum(item.name)}/>\r\n                                </span>\r\n                            </label>\r\n                        ))\r\n                    }\r\n                </div>\r\n\r\n                <label className=\"required-bttn\">\r\n                    Order required: <input type=\"checkbox\" ref={orderRequired} defaultChecked={assignment.orderRequired} />\r\n                </label>\r\n                </>\r\n                : <p>Loading...</p>\r\n            }\r\n            <button type=\"button\" onClick={() => handleSubmit()}>Submit</button>\r\n        </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ClassCode;","import { useState, useEffect } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport { getCollection, deleteDocument } from '../../scripts/connect-firebase.js';\r\nimport Header from '../Header';\r\n\r\nconst COLLECTION_ID = 'class-codes';\r\n\r\nconst ClassCodesList = () => {\r\n    const [ codes, setCodes ] = useState(null);\r\n    \r\n    useEffect(() => {\r\n        getCollection(COLLECTION_ID)\r\n            .then((result) => { setCodes(result); })\r\n            .catch((err) => { console.log(err); })\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n        <Header />\r\n        <div className=\"scenario-assignment-list\">\r\n            <h1>Class Codes</h1>\r\n            <Link to={`/class-codes/`} className=\"new-assignment-bttn scenario-assignment-list-item\">\r\n                <p>Create new class code +</p>\r\n            </Link>\r\n            {\r\n                codes &&\r\n                codes.map( item => (\r\n                    <ListItem item={item} key={item.title} remove={handleDelete} />\r\n                ))\r\n            }\r\n        </div>\r\n        </>\r\n    );\r\n\r\n    async function handleDelete(item) {\r\n        let id = item.title;    \r\n        if( window.confirm('Are you sure you want to permanetly delete this group? This cannot be undone!') ){\r\n            deleteDocument(COLLECTION_ID, id);\r\n            let newGroups = codes.slice();\r\n            newGroups.splice( newGroups.indexOf(item), 1);\r\n\r\n            setCodes(newGroups);\r\n        } else\r\n            console.log(`Delete of ${id} cancelled.`);\r\n    }\r\n};\r\n\r\nconst ListItem = ({ item, remove }) => {\r\n    return (\r\n        <div className=\"scenario-assignment-list-item\">\r\n            <p>{item.title}</p>\r\n\r\n            <Link to={`/class-codes/${item.title}`} className=\"action-bttn\" >Edit</Link>\r\n            <button type=\"button\" className=\"action-bttn\" onClick={() => remove(item)}>Delete</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ClassCodesList;","// some constants for types so we can prevent typos\r\nexport const HEADING = \"heading\" //not a leaf node, simply a step which has child steps\r\n// leaf node types\r\nexport const ASSESS = \"assessment\"\r\nexport const REQURED = \"required-action\"   // an action the EMT performs, but not on the patient\r\nexport const CL_PROMPT = \"checklist-prompt\"\r\nexport const CRIT_FAIL = \"critical-criteria\"\r\nexport const INTV_FORM = \"intervention-form\"\r\nexport const PROMPT = \"prompt\"\r\nexport const ONE = \"one\"\r\nexport const OOM = \"one-or-more\"\r\nexport const NONE = \"none\"\r\nexport const INTERV = \"intervention\" // an action performed on the patient\r\nexport const ANSWER = \"answer\"\r\nexport const OPTION = \"option\"\r\nexport const CB = \"checkbox\"\r\n\r\n","\r\nimport {\r\n    HEADING,\r\n    ASSESS,\r\n    REQURED,\r\n    CL_PROMPT,\r\n    CRIT_FAIL,\r\n    INTV_FORM,\r\n    PROMPT,\r\n    ONE,\r\n    OOM,\r\n    NONE,\r\n    INTERV,\r\n    ANSWER,\r\n} from \"./constants.js\"\r\n\r\nexport const CHECKLIST_META_DATA = [\r\n    { id: \"heading-bsi\", type: HEADING, label: \"BSI\" },\r\n    { id: \"required-action-apply-ppe\", type: REQURED, label: \"Takes or verbalizes appropriate PPE precautions.\" },\r\n    { id: \"heading-scene-size-up\", type: HEADING, label: \"Scene Size-Up\" },\r\n    { id: \"assess-scene-safety\", type: ASSESS, label: \"Determines the scene/situation is safe\", tabLabel: \"Scene Safety\" },\r\n    { id: \"assess-injury-mechanism\", type: ASSESS, label: \"Determines the mechanism of injury/nature of illness\", tabLabel: \"Mechanism of Injury\" },\r\n    { id: \"assess-num-patients\", type: ASSESS, label: \"Determines the number of patients\", tabLabel: \"Num Patients\" },\r\n    { id: \"assess-need-additional-help\", type: ASSESS, label: \"Requests additional help if necessary\", tabLabel: \"Additional Help\" },\r\n    { id: \"required-action-considers-stabilize-spine\", type: REQURED, label: \"Considers stabilization of spine\" },\r\n    { id: \"heading-primary-survey\", type: HEADING, label: \"Primary Survey/Resuscitation\" },\r\n    { id: \"assess-patient-condition\", type: ASSESS, label: \"States or requests general impression\", tabLabel: \"General Impression\" },\r\n    { id: \"assess-loc\", type: ASSESS, label: \"Determines responsiveness/level of consciousness\", tabLabel: \"LOC\" },\r\n    { id: \"assess-life-threats\", type: ASSESS, label: \"Determines chief complaint/apparent life-threats\", tabLabel: \"Life Threats\" },\r\n    { id: \"heading-airway\", type: HEADING, label: \"Airway\" },\r\n    { id: \"assess-airway\", type: ASSESS, label: \"Assesses airway\", tabLabel: \"Airway\" },\r\n    { id: \"heading-manages-airway\", type: HEADING, label: \"Manages Airway\" },\r\n    { id: \"assess-response-airway-mgmt\", type: ASSESS, label: \"Assesses patient response to airway management\", tabLabel: \"Airway Mgmt Response\" },\r\n    { id: \"heading-breathing\", type: HEADING, label: \"Breathing\" },\r\n    { id: \"assess-breathing\", type: ASSESS, label: \"Assesses breathing\", tabLabel: \"Breathing\" },\r\n    { id: \"heading-manages-breathing\", type: HEADING, label: \"Manages Breathing\" },\r\n    { id: \"assess-response-breathing-mgmt\", type: ASSESS, label: \"Assesses patients response to breathing management\", tabLabel: \"Breathing Mgmt Response\" },\r\n    { id: \"heading-circulation\", type: HEADING, label: \"Circulation\" },\r\n    // { id: \"heading-assesses-circulation\", type: HEADING, label: \"Assesses Circulation\" },\r\n    { id: \"assess-pulse\", type: ASSESS, label: \"Checks pulse\", tabLabel: \"Pulse\" },\r\n    { id: \"assess-skin\", type: ASSESS, label: \"Assesses skin (color, temperature, condition)\", tabLabel: \"Skin\" },\r\n    { id: \"assess-major-bleeding\", type: ASSESS, label: \"Checks for major bleeding\", tabLabel: \"Major Bleeding\" },\r\n    { id: \"heading-manages-circulation\", type: HEADING, label: \"Manages circulation\" },\r\n    { id: \"assess-response-bleeding-mgmt\", type: ASSESS, label: \"Assesses patients response to managing severe bleeding\", tabLabel: \"Major Bleeding Mgmt Response\" },\r\n    // { id: \"transport-decision\", type: HEADING, label: \"Transport Decision\" },\r\n    { id: \"heading-history-taking\", type: HEADING, label: \"History Taking\" },\r\n    { id: \"required-action-obtains-vitals\", type: REQURED, label: \"Obtains (or directs assistant to obtain) baseline vital signs\" },\r\n    { id: \"required-action-attempt-obtain-sample\", type: REQURED, label: \"Attempts to obtain SAMPLE history\" },\r\n    { id: \"assess-opqrst-info\", type: ASSESS, label: \"Attempts to obtain OPQRST information\", tabLabel: \"OPQRST\" },\r\n    { id: \"heading-secondary-assessment\", type: HEADING, label: \"Secondary Assessment\" },\r\n    { id: \"cl-prompt-general-state-looking-listening-feeling\", type: CL_PROMPT, label: \"Prompt students to state what they are looking/listening/feeling for throughout.\" },\r\n    { id: \"required-action-remove-patient-clothing-as-needed\", type: REQURED, label: \"Removes clothing as needed\" },\r\n    { id: \"heading-head\", type: HEADING, label: \"Head\" },\r\n    { id: \"assess-inspects-head\", type: ASSESS, label: \"Inspects the head\", tabLabel: \"Inspect Head\" },\r\n    { id: \"assess-palpate-skull\", type: ASSESS, label: \"Palpates the skull\", tabLabel: \"Palpate Skull\" },\r\n    { id: \"assess-eyes-reactiveness\", type: ASSESS, label: \"Assesses eyes for reactiveness\", tabLabel: \"PERRL\" },\r\n    { id: \"assess-eyes-ears-nose-mouth\", type: ASSESS, label: \"Assesses eyes, ears, nose, mouth\", tabLabel: \"Head Fluids\" },\r\n    { id: \"heading-neck\", type: HEADING, label: \"Neck\" },\r\n    { id: \"assess-trachea\", type: ASSESS, label: \"Inspects position of trachea\", tabLabel: \"Trachea\" },\r\n    { id: \"assess-jugular\", type: ASSESS, label: \"Inspects jugular veins\", tabLabel: \"Jugular\" },\r\n    { id: \"assess-palpate-cervical-spine\", type: ASSESS, label: \"Palpates cervical spine\", tabLabel: \"Assess C-Spine\" },\r\n    { id: \"heading-shoulders\", type: HEADING, label: \"Shoulders\" },\r\n    { id: \"assess-check-shoulders\", type: ASSESS, label: \"Checks if stable and intact\", tabLabel: \"Check Shoulders\" },\r\n    { id: \"heading-clavicle\", type: HEADING, label: \"Clavicle\" },\r\n    { id: \"assess-inspect-clavicle\", type: ASSESS, label: \"Checks if stable and intact\", tabLabel: \"Checks Clavicle\" },\r\n    { id: \"heading-chest\", type: HEADING, label: \"Chest\" },\r\n    { id: \"assess-inspect-chest\", type: ASSESS, label: \"Inspects Chest\", tabLabel: \"Inspects Chest\" },\r\n    { id: \"assess-palpate-chest\", type: ASSESS, label: \"Palpates chest\", tabLabel: \"Palpate Chest\" },\r\n    { id: \"assess-auscultate-chest\", type: ASSESS, label: \"Auscultates chest\", tabLabel: \"Auscultate Chest\" },\r\n    { id: \"heading-abdomen-pelvis\", type: HEADING, label: \"Abdomen/pelvis\" },\r\n    { id: \"assess-inspects-abdomen\", type: ASSESS, label: \"Inspects Abdomen\", tabLabel: \"Inspects Abdomen\" },\r\n    { id: \"assess-palpate-abdomen\", type: ASSESS, label: \"Palpates abdomen\", tabLabel: \"Palpate Abdomen\" },\r\n    { id: \"assess-pelvis\", type: ASSESS, label: \"Assess pelvis\", tabLabel: \"Pelvis\" },\r\n    { id: \"assess-genitalia-perineum\", type: ASSESS, label: \"Assesses genitalia/perineum as needed\", tabLabel: \"Genitalia/Perineum\" },\r\n    { id: \"heading-lower-extremities\", type: HEADING, label: \"Lower extremities\" },\r\n    { id: \"assess-legs-inspects\", type: ASSESS, label: \"Inspects lower extremities bilaterally\", tabLabel: \"Inspect Legs\" },\r\n    { id: \"assess-legs-motor-function\", type: ASSESS, label: \"Assesses motor function bilaterally\", tabLabel: \"Legs Motor Func.\" },\r\n    { id: \"assess-legs-sensory-function\", type: ASSESS, label: \"Assesses sensory function bilaterally\", tabLabel: \"Legs Sensory Func.\" },\r\n    { id: \"assess-legs-pulse\", type: ASSESS, label: \"Checks pulse bilaterally\", tabLabel: \"Legs Pulse\" },\r\n    { id: \"heading-upper-extremities\", type: HEADING, label: \"Upper extremities\" },\r\n    { id: \"assess-arms-inspects\", type: ASSESS, label: \"Inspects upper extremeties bilaterally\", tabLabel: \"Inspects Arms\" },\r\n    { id: \"assess-arms-motor-function\", type: ASSESS, label: \"Assesses motor function bilaterally\", tabLabel: \"Arms Motor Func.\" },\r\n    { id: \"assess-arms-sensory-function\", type: ASSESS, label: \"Assesses sensory function bilaterally\", tabLabel: \"Arms Sensory Func.\" },\r\n    { id: \"assess-arms-pulse\", type: ASSESS, label: \"Checks pulse bilaterally\", tabLabel: \"Arms Pulse\" },\r\n    { id: \"heading-posterior-thorax-lumbar-buttocks\", type: HEADING, label: \"Posterior thorax, lumbar, and buttocks\" },\r\n    { id: \"assess-posterior-inspects\", type: ASSESS, label: \"Inspects posterior thorax, lumbar, buttocks\", tabLabel: \"Inspects Posterior\" },\r\n    { id: \"assess-palpate-posterior-thorax\", type: ASSESS, label: \"Palpates posterior thorax/lumbar/buttocks\", tabLabel: \"Palpate Posterior/Thorax\" },\r\n    { id: \"heading-reassessment\", type: HEADING, label: \"Reassessment\" },\r\n    { id: \"required-action-repeats-primary-assesment\", type: REQURED, label: \"Repeats primary assessment\" },\r\n    { id: \"required-action-repeats-secondary-assesment\", type: REQURED, label: \"Repeats secondary assessment\" },\r\n    { id: \"assess-cardiac-monitoring\", type: ASSESS, label: \"Performs cardiac monitoring\", tabLabel: \"Cardiac Monitoring\" },\r\n    { id: \"heading-critical-criteria\", type: HEADING, label: \"Critical Criteria\" },\r\n    { id: \"critical-failure-inapproriate-intervention\", type: CRIT_FAIL, label: \"Uses or orders a dangerous or inappropriate intervention\" },\r\n    { id: \"critical-failure-inapproriate-behavior\", type: CRIT_FAIL, label: \"Exhibits unprofessional behavior\" },\r\n]\r\n\r\n\r\nexport const INTV_META_DATA = [\r\n\r\n    { id: \"intv-form-establish-ivs\", type: INTV_FORM, label: \"Establish IVs\"},\r\n        { id: \"prompt-num-ivs\", type: PROMPT, selectionType: ONE, label: \"How many IVs would you establish?\", form: \"intv-form-establish-ivs\"},\r\n            { id: \"answer-num-ivs-one\", type: ANSWER, label: \"one\", prompt: \"prompt-num-ivs\"},\r\n            { id: \"answer-num-ivs-two\", type: ANSWER, label: \"two\", prompt: \"prompt-num-ivs\" },\r\n            { id: \"answer-num-ivs-other\", type: ANSWER, label: \"Other\", prompt: \"prompt-num-ivs\" },\r\n        { id: \"prompt-iv-size\", type: PROMPT, selectionType: ONE, label: \"What size IV?\", form: \"intv-form-establish-ivs\" },\r\n            { id: \"answer-iv-size-large-as-possible\", type: ANSWER, label: \"As large as possible\", prompt: \"prompt-iv-size\" },\r\n            { id: \"answer-iv-size-other\", type: ANSWER, label: \"Other\", prompt: \"prompt-iv-size\" },\r\n\r\n    { id: \"intv-form-intubation\", type: INTV_FORM, label: \"\" },\r\n        { id: \"prompt-intubation-tube-size\", type: PROMPT, selectionType: ONE, label: \"What size tube would you use?\", form: \"intv-form-intubation\" },\r\n            { id: \"answer-intubation-tube-size-option-1\", type: ANSWER, label: \"scenario-specific-option\", prompt: \"prompt-intubation-tube-size\" },\r\n            { id: \"answer-intubation-tube-size-other\", type: ANSWER, label: \"Other\", prompt: \"prompt-intubation-tube-size\" },\r\n        { id: \"prompt-intubation-confirm-correct-tube-placement\", type: PROMPT, selectionType: OOM, label: \"What techniques will you use to confirm correct tube placement?\", form: \"intv-form-intubation\" },\r\n            { id: \"answer-inspect-tube-location\", type: ANSWER, label: \"Inspect tube location\", prompt: \"prompt-intubation-confirm-correct-tube-placement\" },\r\n            { id: \"answer-co2-capnography\", type: ANSWER, label: \"CO2 capnography\", prompt: \"prompt-intubation-confirm-correct-tube-placement\" },\r\n            { id: \"answer-auscultate-epigastrium\", type: ANSWER, label: \"Auscultate bilaterally and over epigastrium\", prompt: \"prompt-intubation-confirm-correct-tube-placement\" },\r\n            { id: \"answer-check-oxygen-saturation\", type: ANSWER, label: \"Check oxygen saturation\", prompt: \"prompt-intubation-confirm-correct-tube-placement\" },\r\n\r\n\r\n    { id: \"intv-form-open-airway\", type: INTV_FORM, label: \"Open airway\" },\r\n        { id: \"prompt-open-airway-method\", type: PROMPT, selectionType: ONE, label: \"What method would you use to open the airway?\", form: \"intv-form-open-airway\" },\r\n            { id: \"intv-open-airway-method-head-tilt\", type: INTERV, label: \"Head tilt\", prompt: \"prompt-open-airway-method\" },\r\n            { id: \"intv-open-airway-method-jaw-thrust\", type: INTERV, label: \"Jaw thrust\", prompt: \"prompt-open-airway-method\"},\r\n            { id: \"intv-open-airway-method-modified-jaw-thrust\", type: INTERV, label: \"Modified jaw thrust\", prompt: \"prompt-open-airway-method\" },\r\n            { id: \"intv-open-airway-method-other\", type: INTERV, label: \"Other\", prompt: \"prompt-open-airway-method\" },\r\n\r\n    { id: \"intv-form-bls-airway-management\", type: INTV_FORM, label: \"BLS airway management\" },\r\n    { id: \"prompt-basic-airway-type\", type: PROMPT, selectionType: ONE, label: \"Which type of airway would you try to apply?\", form: \"intv-form-bls-airway-management\"},\r\n            { id: \"intv-nasopharyngeal\", type: INTERV, label: \"Nasopharyngeal\", relatedForm: \"intv-form-basic-airway-reasoning\", prompt: \"prompt-basic-airway-type\"},\r\n            { id: \"intv-oropharyngeal\", type: INTERV, label: \"Oropharyngeal\",  relatedForm: \"intv-form-basic-airway-reasoning\", prompt: \"prompt-basic-airway-type\"},\r\n\r\n    { id: \"intv-form-basic-airway-type-nasopharyngeal\", type: INTV_FORM, label: \"\"},\r\n    { id: \"intv-form-basic-airway-type-oropharyngeal\", type: INTV_FORM, label: \"\" },\r\n\r\n    { id: \"intv-form-basic-airway-reasoning\", type: INTV_FORM, label: \"\"},\r\n        { id: \"prompt-basic-airway-reasoning\", type: PROMPT, selectionType: OOM, label: \"When would you use a nasopharyngeal airway instead of an oropharyngeal airway?\", form: \"intv-form-basic-airway-reasoning\" },\r\n            { id: \"answer-basic-airway-reasoning-gag-reflex\", type: ANSWER, label: \"When patient has a gag reflex\", prompt: \"prompt-basic-airway-reasoning\" },\r\n            { id: \"answer-basic-airway-reasoning-other\", type: ANSWER, label: \"Other\", prompt: \"prompt-basic-airway-reasoning\" },\r\n\r\n    { id: \"intv-form-als-airway-management\", type: INTV_FORM, label: \"ALS airway management\" },\r\n        { id: \"prompt-als-airway-management-technique\", type: PROMPT, selectionType: ONE, label: \"Which interventions would you perform, and in what order?\", form: \"intv-form-als-airway-management\" },\r\n            { id: \"intv-supraglottic\", type: INTERV, label: \"Supraglottic\", prompt: \"prompt-als-airway-management-technique\" },\r\n            { id: \"intv-orotracheal-intubation\", type: INTERV, label: \"Orotracheal intubation\", relatedForm: \"intv-form-orotracheal-intubation\", prompt: \"prompt-als-airway-management-technique\" },\r\n\r\n    { id: \"intv-form-orotracheal-intubation\", type: INTV_FORM, label: \"\" },\r\n        { id: \"prompt-orotracheal-intubation-type\", type: PROMPT, selectionType: ONE, label: \"Which type of intubation would you perform?\", form: \"intv-form-orotracheal-intubation\" },\r\n            { id: \"intv-orotracheal-intubation-type-direct\", type: INTERV, label: \"Direct\", relatedForm: \"intv-form-orotracheal-intubation-type-direct\", prompt: \"prompt-orotracheal-intubation-type\" },\r\n            { id: \"intv-orotracheal-intubation-type-gum-elastic-bougie-assisted\", type: INTERV, label: \"Gum elastic bougie-assisted\", relatedForm: \"intv-form-orotracheal-intubation-type-gum-elastic-bougie-assisted\", prompt: \"prompt-orotracheal-intubation-type\" },\r\n            { id: \"intv-orotracheal-intubation-type-video-laryngoscopy\", type: INTERV, label: \"Video laryngoscopy\", relatedForm: \"intv-form-orotracheal-intubation-type-video-laryngoscopy\", prompt: \"prompt-orotracheal-intubation-type\" },\r\n            { id: \"intv-orotracheal-intubation-type-medication-facilitated\", type: INTERV, label: \"Medication Facilitated\", relatedForm: \"intv-form-orotracheal-intubation-type-medication-facilitated\", prompt: \"prompt-orotracheal-intubation-type\" },\r\n\r\n    { id: \"intv-form-orotracheal-intubation-type-direct\", type: INTV_FORM, label: \"\" },\r\n    { id: \"intv-form-orotracheal-intubation-type-gum-elastic-bougie-assisted\", type: INTV_FORM, label: \"\" },\r\n    { id: \"intv-form-orotracheal-intubation-type-video-laryngoscopy\", type: INTV_FORM, label: \"\" },\r\n    { id: \"intv-form-orotracheal-intubation-type-medication-facilitated\", type: INTV_FORM, label: \"Medication facilitated\" },\r\n        { id: \"prompt-sedated-intubation-medication\", type: PROMPT, selectionType: ONE, label: \"What medication would you administer?\", form: \"intv-form-orotracheal-intubation-type-medication-facilitated\" },\r\n            { id: \"answer-sedated-intubation-medication-etomidate\", type: ANSWER, label: \"Etomidate\", prompt: \"prompt-sedated-intubation-medication\" },\r\n            { id: \"answer-sedated-intubation-medication-other\", type: ANSWER, label: \"Other\", prompt: \"prompt-sedated-intubation-medication\" },\r\n        { id: \"prompt-sedated-intubation-dosage\", type: PROMPT, selectionType: ONE, label: \"What dose?\", form: \"intv-form-orotracheal-intubation-type-medication-facilitated\" },\r\n            { id: \"answer-sedated-intubation-dosage-less\", type: ANSWER, label: \"less\", prompt: \"prompt-sedated-intubation-dosage\" },\r\n            { id: \"answer-sedated-intubation-dosage-correct\", type: ANSWER, label: \"correct dosage\", prompt: \"prompt-sedated-intubation-dosage\" },\r\n            { id: \"answer-sedated-intubation-dosage-more\", type: ANSWER, label: \"more\", prompt: \"prompt-sedated-intubation-dosage\" },\r\n\r\n    { id: \"intv-form-establishes-patency\", type: INTV_FORM, label: \"Establishes patency\" },\r\n        { id: \"prompt-airway-patency-techniques\", type: PROMPT, selectionType: OOM, label: \"What technique(s) would you try, and in what order?\", form: \"intv-form-establishes-patency\"},\r\n            { id: \"intv-airway-patency-technique-suction-airway\", type: INTERV, label: \"Suction airway\", relatedForm: \"intv-form-airway-patency-suction\", prompt: \"prompt-airway-patency-techniques\" },\r\n            { id: \"intv-airway-patency-technique-remove-foreign-body-obstructions\", type: INTERV, label: \"Remove foreign body obstructions\", relatedForm: \"intv-form-airway-patency-remove-foreign-body-obstructions\", prompt: \"prompt-airway-patency-techniques\" },\r\n            { id: \"intv-airway-patency-technique-cricothyrotomy\", type: INTERV, label: \"Perform cricothyrotomy\", relatedForm: \"intv-form-airway-patency-cricothyrotomy\", prompt: \"prompt-airway-patency-techniques\" },\r\n\r\n    { id: \"intv-form-airway-patency-suction\", type: INTV_FORM, label: \"Suction Airway\" },\r\n        { id: \"prompt-airway-patency-suction-device\", type: PROMPT, selectionType: ONE, label: \"What kind of suction catheter will you use?\", form: \"intv-form-airway-patency-suction\" },\r\n            { id: \"answer-airway-patency-suction-tip-catheter\", type: ANSWER, label: \"Tip Catheter\", prompt: \"prompt-airway-patency-suction-device\" },\r\n            { id: \"answer-airway-patency-suction-little-sucker\", type: ANSWER, label: \"Little Sucker\", prompt: \"prompt-airway-patency-suction-device\" },\r\n            { id: \"answer-airway-patency-suction-yankauer\", type: ANSWER, label: \"Yankauer\", prompt: \"prompt-airway-patency-suction-device\" },\r\n            { id: \"answer-airway-patency-suction-long-multiuse\", type: ANSWER, label: \"Long, multiuse\", prompt: \"prompt-airway-patency-suction-device\" },\r\n\r\n    { id: \"intv-form-airway-patency-remove-foreign-body-obstructions\", type: INTV_FORM, label: \"Remove foreign body obstructions\" },\r\n        { id: \"prompt-airway-patency-remove-foreign-body-obstructions-technique\", type: PROMPT, selectionType: OOM, label: \"What technique(s) will you try, and in what order?\", form: \"intv-form-airway-patency-remove-foreign-body-obstructions\" },\r\n            { id: \"answer-airway-patency-remove-foreign-body-obstructions-technique-manual\", type: ANSWER, label: \"Manual removal\", prompt: \"prompt-airway-patency-remove-foreign-body-obstructions-technique\" },\r\n            { id: \"answer-airway-patency-remove-foreign-body-obstructions-technique-magill-forceps\", type: ANSWER, label: \"Magill forceps assisted removal\", prompt: \"prompt-airway-patency-remove-foreign-body-obstructions-technique\" },\r\n\r\n    { id: \"intv-form-airway-patency-cricothyrotomy\", type: INTV_FORM, label: \"Cricothyrotomy\" },\r\n        { id: \"prompt-cricothyrotomy-type\", type: PROMPT, selectionType: ONE, label: \"Which type?\", form: \"intv-form-airway-patency-cricothyrotomy\" },\r\n            { id: \"answer-cricothyrotomy-type-percutaneous\", type: ANSWER, label: \"Percutaneous\", prompt: \"prompt-cricothyrotomy-type\" },\r\n            { id: \"answer-cricothyrotomy-type-surgical\", type: ANSWER, label: \"Surgical\", prompt: \"prompt-cricothyrotomy-type\" },\r\n\r\n    { id: \"intv-form-ventilation\", type: INTV_FORM, label: \"Ventilation\" },\r\n        { id: \"prompt-ventilation-technique\", type: PROMPT, selectionType: ONE, label: \"What ventilation technique will you use?\", form: \"intv-form-ventilation\" },\r\n            { id: \"intv-ventilation-technique-bag-valve-mask\", type: INTERV, label: \"Bag-valve mask\", relatedForm: \"intv-form-ventilation-technique-bag-valve-mask\", prompt: \"prompt-ventilation-technique\" },\r\n            { id: \"intv-ventilation-technique-automatic-transport-ventilator\", type: INTERV, label: \"Automatic transport ventilator\", relatedForm: \"intv-ventilation-technique-automatic-transport-ventilator\", prompt: \"prompt-ventilation-technique\" },\r\n\r\n    { id: \"intv-form-ventilation-technique-bag-valve-mask\", type: INTV_FORM, label: \"\"},\r\n    { id: \"intv-form-ventilation-technique-automatic-transport-ventilator\", type: INTV_FORM, label: \"\"},\r\n    { id: \"intv-form-ventilation-rate\", type: INTV_FORM, label: \"\"},\r\n        { id: \"prompt-ventilation-rate\", type: PROMPT, selectionType: ONE, label: \"At what rate will you ventilate the patient?\", form: \"intv-form-ventilation-rate\" },\r\n            { id: \"answer-ventilation-rate-10-12-bpm\", type: ANSWER, label: \"10-12 breaths/minute\", prompt: \"prompt-ventilation-rate\" },\r\n            { id: \"answer-ventilation-rate-other\", type: ANSWER, label: \"Other\", prompt: \"prompt-ventilation-rate\" },\r\n\r\n    { id: \"intv-form-supplemental-oxygen\", type: INTV_FORM, label: \"Supplemental Oxygen\" },\r\n    { id: \"prompt-oxygen-therapy-device\", type: PROMPT, selectionType: ONE, label: \"What device will you use to deliver supplemental oxygen?\", form: \"intv-form-supplemental-oxygen\" },\r\n            { id: \"intv-oxygen-therapy-device-non-rebreather-mask\", type: INTERV, label: \"Non-rebreather mask\", relatedForm: \"intv-form-oxygen-therapy-device-non-rebreather-mask\", prompt: \"prompt-oxygen-therapy-device\" },\r\n            { id: \"intv-oxygen-therapy-device-nasal-cannula\", type: INTERV, label: \"Nasal cannula\", relatedForm: \"intv-form-oxygen-therapy-device-nasal-cannula\", prompt: \"prompt-oxygen-therapy-device\" },\r\n\r\n    { id: \"intv-form-oxygen-therapy-device-non-rebreather-mask\", type: INTV_FORM, label: \"\"},\r\n    { id: \"intv-form-oxygen-therapy-device-nasal-cannula\", type: INTV_FORM, label: \"\"},\r\n\r\n    { id: \"intv-form-oxygen-therapy-details\", type: INTV_FORM, label: \"\"},\r\n        { id: \"prompt-oxygen-therapy-flow-rate\", type: PROMPT, selectionType: ONE, label: \"Oxygen flow rate?\", form: \"intv-form-oxygen-therapy-details\" },\r\n            { id: \"answer-oxygen-therapy-flow-rate-2-6-lpm\", type: ANSWER, label: \"2-6 liters/min\", prompt: \"prompt-oxygen-therapy-flow-rate\" },\r\n            { id: \"answer-oxygen-therapy-flow-rate-15-lpm\", type: ANSWER, label: \"15 liters/min\", prompt: \"prompt-oxygen-therapy-flow-rate\" },\r\n            { id: \"answer-oxygen-therapy-flow-rate-other\", type: ANSWER, label: \"Other\", prompt: \"prompt-oxygen-therapy-flow-rate\" },\r\n        { id: \"prompt-oxygen-therapy-target-saturation\", type: PROMPT, selectionType: ONE, label: \"What is your target oxygen saturation range?\", form: \"intv-form-oxygen-therapy-details\" },\r\n            { id: \"answer-oxygen-therapy-target-saturation-94-or-greater\", type: ANSWER, label: \"94 or greater\", prompt: \"prompt-oxygen-therapy-target-saturation\" },\r\n            { id: \"answer-oxygen-therapy-target-saturation-other\", type: ANSWER, label: \"Other\", prompt: \"prompt-oxygen-therapy-target-saturation\" },\r\n\r\n\r\n    { id: \"intv-form-manage-breathing-injuries\", type: INTV_FORM, label: \"Manages any injuries which may compromise breathing/ventilation\" },\r\n        { id: \"prompt-manage-breathing-injuries-technique\", type: PROMPT, selectionType: OOM, label: \"What technique(s) would you use?\", form: \"intv-form-manage-breathing-injuries\" },\r\n            { id: \"intv-occlusive-dressing\", type: INTERV, label: \"Apply occlusive dressing to breathing-compromising wounds\", relatedForm: \"intv-form-occlusive-dressing\", prompt: \"prompt-manage-breathing-injuries-technique\" },\r\n            { id: \"intv-pleural-decompression\", type: INTERV, label: \"Perform pleural decompression\", relatedForm:  \"intv-form-pleural-decompression\", prompt: \"prompt-manage-breathing-injuries-technique\" },\r\n\r\n    { id: \"intv-form-occlusive-dressing\", type: INTV_FORM, label: \"Occlusive dressing\" },\r\n    { id: \"prompt-occlusive-dressing-method\", type: PROMPT, selectionType: ONE, label: \"How would you create a release valve on an occlusive dressing?\", form: \"intv-form-occlusive-dressing\" },\r\n            { id: \"answer-occulative-dressing-method-leave-one-side-untaped\", type: ANSWER, label: \"Leave one side untaped\", prompt: \"prompt-occlusive-dressing-method\" },\r\n            { id: \"answer-occulative-dressing-method-other\", type: ANSWER, label: \"Other\", prompt: \"prompt-occlusive-dressing-method\" },\r\n\r\n    { id: \"intv-form-pleural-decompression\", type: INTV_FORM, label: \"Pleural decompression\" },\r\n        { id: \"prompt-pleural-decompression-needle-placement-side-of-the-body\", type: PROMPT, selectionType: ONE, label: \"On which side of the body would you place the needle?\", form: \"intv-form-pleural-decompression\" },\r\n            { id: \"answer-pleural-decompression-needle-placement-side-of-the-body-right\", type: ANSWER, label: \"Right\", prompt: \"prompt-pleural-decompression-needle-placement-side-of-the-body\" },\r\n            { id: \"answer-pleural-decompression-needle-placement-side-of-the-body-left\", type: ANSWER, label: \"Left\", prompt: \"prompt-pleural-decompression-needle-placement-side-of-the-body\" },\r\n        { id: \"prompt-pleural-decompression-needle-placement-anatomical-landmark\", type: PROMPT, selectionType: OOM, label: \"At what anatomical landmark?\", form: \"intv-form-pleural-decompression\" },\r\n            { id: \"answer-pleural-decompression-needle-placement-anatomical-landmark-2nd-intercostal-space-mid-clavicular\", type: ANSWER, label: \"Second intercostal space mid-clavicular\", prompt: \"prompt-pleural-decompression-needle-placement-anatomical-landmark\" },\r\n            { id: \"answer-pleural-decompression-needle-placement-anatomical-landmark-4th-5th-intercostal-space\", type: ANSWER, label: \"Fourth/fifth intercostal space\", prompt: \"prompt-pleural-decompression-needle-placement-anatomical-landmark\" },\r\n            { id: \"answer-pleural-decompression-needle-placement-anatomical-landmark-other\", type: ANSWER, label: \"Other\", prompt: \"prompt-pleural-decompression-needle-placement-anatomical-landmark\" },\r\n        { id: \"prompt-pleural-decompression-needle-size\", type: PROMPT, selectionType: ONE, label: \"What size needle do you want to use?\", form: \"intv-form-pleural-decompression\" },\r\n            { id: \"answer-pleural-decompression-needle-size-correct\", type: ANSWER, label: \"Correct answer\", prompt: \"prompt-pleural-decompression-needle-size\" },\r\n            { id: \"answer-pleural-decompression-needle-size-other\", type: ANSWER, label: \"Other\", prompt: \"prompt-pleural-decompression-needle-size\" },\r\n\r\n\r\n    { id: \"intv-form-control-severe-bleeding\", type: INTV_FORM, label: \"Control Severe Bleeding\" },\r\n        { id: \"prompt-control-severe-bleeding-techniques\", type: PROMPT, selectionType: OOM, label: \"What methods of bleeding control are you using, and in what order?\", form: \"intv-form-control-severe-bleeding\" },\r\n            { id: \"intv-control-severe-bleeding-technique-direct-pressure\", type: INTERV, label: \"Apply direct pressure\", prompt: \"prompt-control-severe-bleeding-techniques\" },\r\n            { id: \"intv-control-severe-bleeding-technique-tourniquet\", type: INTERV, label: \"Apply tourniquet\", relatedForm: \"intv-form-control-severe-bleeding-technique-tourniquet\", prompt: \"prompt-control-severe-bleeding-techniques\" },\r\n            { id: \"intv-control-severe-bleeding-technique-2nd-tourniquet\", type: INTERV, label: \"Apply second tourniquet\", relatedForm: \"intv-form-control-severe-bleeding-technique-2nd-tourniquet\", prompt: \"prompt-control-severe-bleeding-techniques\" },\r\n            { id: \"intv-control-severe-bleeding-technique-pressure-bandage\", type: INTERV, label: \"Apply pressure bandage\", prompt: \"prompt-control-severe-bleeding-techniques\" },\r\n            { id: \"intv-control-severe-bleeding-technique-hemostatic-gauze\", type: INTERV, label: \"Apply hemostatic gauze\", prompt: \"prompt-control-severe-bleeding-techniques\" },\r\n            { id: \"intv-control-severe-bleeding-technique-pack-wound-with-gauze\", type: INTERV, label: \"Pack wound with gauze\", prompt: \"prompt-control-severe-bleeding-techniques\" },\r\n            { id: \"intv-control-severe-bleeding-technique-load-and-go\", type: INTERV, label: \"Load and go (if uncontrolled)\", prompt: \"prompt-control-severe-bleeding-techniques\" },\r\n\r\n    { id: \"intv-form-control-severe-bleeding-technique-tourniquet\", type: INTV_FORM, label: \"Apply tourniquet\" },\r\n        { id: \"prompt-tourniquet-placement\", type: PROMPT, selectionType: ONE, label: \"Where would you place the tourniquet?\", form: \"intv-form-control-severe-bleeding-technique-tourniquet\" },\r\n            { id: \"answer-tourniquet-placement-close-to-core-far-from-wound\", type: ANSWER, label: \"As far from wound and close to the core as possible\", prompt: \"prompt-tourniquet-placement\" },\r\n            { id: \"answer-tourniquet-placement-other\", type: ANSWER, label: \"Other\", prompt: \"prompt-tourniquet-placement\" },\r\n    { id: \"prompt-tourniquet-stop-tightening-when\", type: PROMPT, selectionType: OOM, label: \"When do you know when to stop tightening the tourniquet?\", form: \"intv-form-control-severe-bleeding-technique-tourniquet\" },\r\n            { id: \"answer-tourniquet-stop-tightening-when-bleeding-has-stopped\", type: ANSWER, label: \"When bleeding has stopped\", prompt: \"prompt-tourniquet-stop-tightening-when\" },\r\n            { id: \"answer-tourniquet-stop-tightening-when-distal-pulse-is-absent\", type: ANSWER, label: \"When distal pulse is absent\", prompt: \"prompt-tourniquet-stop-tightening-when\" },\r\n            { id: \"answer-tourniquet-stop-tightening-when-other\", type: ANSWER, label: \"Other\", prompt: \"prompt-tourniquet-stop-tightening-when\" },\r\n\r\n    { id: \"intv-form-control-severe-bleeding-technique-2nd-tourniquet\", type: INTV_FORM, label: \"Apply second tourniquet\" },\r\n        { id: \"prompt-2nd-tourniquet-placement\", type: PROMPT, selectionType: ONE, label: \"Where would you place the 2nd tourniquet?\", form: \"intv-form-control-severe-bleeding-technique-2nd-tourniquet\" },\r\n            { id: \"answer-2nd-tourniquet-placement-adjacent-to-initial-tourniquet\", type: ANSWER, label: \"Adjacent to initial tourniquet\", prompt: \"prompt-2nd-tourniquet-placement\" },\r\n            { id: \"answer-2nd-tourniquet-placement-other\", type: ANSWER, label: \"Other\", prompt: \"prompt-2nd-tourniquet-placement\" },\r\n\r\n    { id: \"intv-form-control-shock\", type: INTV_FORM, label: \"Shock management\" },\r\n        { id: \"prompt-control-shock-techniques\", type: PROMPT, selectionType: OOM, label: \"What techniques will you use to manage shock?\", form: \"intv-form-control-shock\" },\r\n            { id: \"intv-control-shock-technique-keep-patient-warm\", type: INTERV, label: \"Keep patient warm (e.g., apply blankets)\", prompt: \"prompt-control-shock-techniques\" },\r\n            { id: \"intv-control-shock-technique-administer-high-concentration-o2\", type: INTERV, label: \"Administer high concentration of oxygen\", prompt: \"prompt-control-shock-techniques\" },\r\n            { id: \"intv-control-shock-technique-place-patient-supine-position\", type: INTERV, label: \"Place or maintain patient in supine position\", prompt: \"prompt-control-shock-techniques\" },\r\n            { id: \"intv-control-shock-technique-administer-iv-boluses\", type: INTERV, label: \"Administer IV fluid resuscitation\", relatedForm: \"intv-form-control-shock-technique-administer-iv-boluses\", prompt: \"prompt-control-shock-techniques\"},\r\n\r\n    { id: \"intv-form-control-shock-technique-administer-iv-boluses\", type: INTV_FORM, label: \"Administer IV fluid resuscitation\" },\r\n        { id: \"prompt-control-shock-iv-fluid\", type: PROMPT, selectionType: ONE, label: \"What type of fluid?\", form: \"intv-form-control-shock-technique-administer-iv-boluses\" },\r\n            { id: \"answer-control-shock-iv-fluid-saline\", type: ANSWER, label: \"Normal saline\", prompt: \"prompt-control-shock-iv-fluid\" },\r\n            { id: \"answer-control-shock-iv-fluid-other\", type: ANSWER, label: \"Other\", prompt: \"prompt-control-shock-iv-fluid\" },\r\n        { id: \"prompt-control-shock-iv-volume\", type: PROMPT, selectionType: ONE, label: \"At what volume?\", form: \"intv-form-control-shock-technique-administer-iv-boluses\" },\r\n            { id: \"answer-control-shock-iv-volume-20-cc-per-kilo\", type: ANSWER, label: \"20 cc/kilo\", prompt: \"prompt-control-shock-iv-volume\" },\r\n            { id: \"answer-control-shock-iv-volume-other\", type: ANSWER, label: \"Other\", prompt: \"prompt-control-shock-iv-volume\" },\r\n        { id: \"prompt-control-shock-iv-target-bp\", type: PROMPT, selectionType: ONE, label: \"What is your target BP?\", form: \"intv-form-control-shock-technique-administer-iv-boluses\" },\r\n            { id: \"answer-control-shock-iv-target-bp-80-90\", type: ANSWER, label: \"SBP 80-90, if bleeding is controlled\", prompt: \"prompt-control-shock-iv-target-bp\" },\r\n            { id: \"answer-control-shock-iv-target-bp-other\", type: ANSWER, label: \"Other\", prompt: \"prompt-control-shock-iv-target-bp\" },\r\n\r\n\r\n    { id: \"intv-form-transport-decisions\", type: INTV_FORM, label: \"Transport\" },\r\n        { id: \"prompt-transport-is-load-and-go\", type: PROMPT, selectionType: ONE, label: \"Is this a load and go patient?\" },\r\n            { id: \"answer-transport-is-load-and-go-yes\", type: ANSWER, label: \"Yes\" },\r\n            { id: \"answer-transport-is-load-and-go-no\", type: ANSWER, label: \"No\" },\r\n\r\n\r\n        { id: \"prompt-transport-facility-choice\", type: PROMPT, selectionType: ONE, label: \"What care facility will you transport the patient to?\" },\r\n            { id: \"answer-transport-facility-choice-trauma-center\", type: ANSWER, label: \"Trauma center\" },\r\n            { id: \"answer-transport-facility-choice-closest\", type: ANSWER, label: \"Closest receiving facility\" },\r\n            { id: \"answer-transport-facility-choice-other\", type: ANSWER, label: \"Other\" },\r\n\r\n\r\n        { id: \"prompt-transport-method\", type: PROMPT, selectionType: ONE, label: \"Would you transport this patient by air or ground?\" },\r\n            { id: \"answer-transport-method-ambulance\", type: ANSWER, label: \"Ambulance\" },\r\n            { id: \"answer-transport-method-helicopter\", type: ANSWER, label: \"Helicopter\" },\r\n\r\n\r\n        { id: \"prompt-transport-lights-siren-decision\", type: PROMPT, selectionType: ONE, label: \"Would you use lights and sirens with this patient?\" },\r\n            { id: \"answer-transport-lights-sirens-yes\", type: ANSWER, label: \"Yes\" },\r\n            { id: \"answer-transport-lights-sirens-no\", type: ANSWER, label: \"No\" },\r\n\r\n    { id: \"intv-form-spinal-motion-restriction\", type: INTV_FORM, label: \"Spinal Motion Restriction\" },\r\n        { id: \"prompt-spinal-immobilization-technique\", type: PROMPT, selectionType: OOM, label: \"What spinal immobilization techniques will you apply, and in which order?\", form: \"intv-form-spinal-motion-restriction\" },\r\n            { id: \"intv-spinal-immobilization-technique-manual-c-spine\", type: INTERV, label: \"Manual c-spine stabilization\", prompt: \"prompt-spinal-immobilization-technique\" },\r\n            { id: \"intv-spinal-immobilization-technique-ked\", type: INTERV, label: \"Seated spinal motion restriction (KED)\", prompt: \"prompt-spinal-immobilization-technique\" },\r\n            { id: \"intv-spinal-immobilization-technique-lbb\", type: INTERV, label: \"Supine long back board (LBB)\", prompt: \"prompt-spinal-immobilization-technique\" },\r\n            { id: \"intv-spinal-immobilization-technique-cervical-collar\", type: INTERV, label: \"Cervical collar\", prompt: \"prompt-spinal-immobilization-technique\" },\r\n            { id: \"intv-spinal-immobilization-technique-blocks\", type: INTERV, label: \"Cervical immobilization device (blocks)\", prompt: \"prompt-spinal-immobilization-technique\" },\r\n\r\n    { id: \"intv-form-manage-secondary-injuries\", type: INTV_FORM, label: \"Secondary Wounds\" },\r\n        { id: \"prompt-manage-secondary-injuries-techniques\", type: PROMPT, selectionType: OOM, label: \"What technique(s) will you use to manage secondary wounds/injuries?\", form: \"intv-form-manage-secondary-injuries\" },\r\n            { id: \"intv-manage-secondary-injuries-technique-apply-dressings\", type: INTERV, label: \"Apply dressings\", prompt: \"prompt-manage-secondary-injuries-techniques\" },\r\n            { id: \"intv-manage-secondary-injuries-technique-splint-fractures\", type: INTERV, label: \"Splint fractures\", prompt: \"prompt-manage-secondary-injuries-techniques\" },\r\n            { id: \"intv-manage-secondary-injuries-technique-other\", type: INTERV, label: \"Other\", prompt: \"prompt-manage-secondary-injuries-techniques\" },\r\n\r\n    { id: \"intv-form-transfers-patient\", type: INTV_FORM, label: \"Transfers Patient\" },\r\n        { id: \"prompt-transfers-patient-method\", type: PROMPT, selectionType: ONE, label: \"What method will you use to transfer the patient to the ambulance?\", form: \"intv-form-transfers-patient\" },\r\n            { id: \"intv-transfers-patient-method-walk-patient\", type: INTERV, label: \"Walk patient to ambulance\", prompt: \"prompt-transfers-patient-method\" },\r\n            { id: \"intv-transfers-patient-method-scoop-stretcher\", type: INTERV, label: \"Use scoop stretcher\", prompt: \"prompt-transfers-patient-method\" },\r\n            { id: \"intv-transfers-patient-method-transfer-to-stretcher-on-long-backboard\", type: INTERV, label: \"Transfer to stretcher on long backboard\", prompt: \"prompt-transfers-patient-method\" },\r\n            { id: \"intv-transfers-patient-method-other\", type: INTERV, label: \"Other\", prompt: \"prompt-transfers-patient-method\" },\r\n\r\n    { id: \"intv-form-reassess-vital-signs\", type: INTV_FORM, label: \"Reassess vital signs\" },\r\n        { id: \"prompt-reassess-vital-signs-frequency\", type: PROMPT, selectionType: ONE, label: \"How often will you reassess vitals?\", form: \"intv-form-reassess-vital-signs\" },\r\n            { id: \"intv-reassess-vital-signs-frequency-5-min\", type: INTERV, label: \"Every 5 minutes\", prompt: \"prompt-reassess-vital-signs-frequency\" },\r\n            { id: \"intv-reassess-vital-signs-frequency-15-min\", type: INTERV, label: \"Every 15 minutes\", prompt: \"prompt-reassess-vital-signs-frequency\" },\r\n            { id: \"intv-reassess-vital-signs-frequency-other\", type: INTERV, label: \"Other\", prompt: \"prompt-reassess-vital-signs-frequency\" },\r\n        { id: \"prompt-reassess-vital-signs-which-vitals\", type: PROMPT, selectionType: NONE, label: \"Which vitals would you like to reassess?\", form: \"intv-form-reassess-vital-signs\" },\r\n\r\n    { id: \"intv-form-reassess-modify-interventions\", type: INTV_FORM, label: \"Reassess or modify interventions\" },\r\n        { id: \"prompt-reassess-modify-interventions\", type: PROMPT, selectionType: OOM, label: \"What interventions will you reassess or modify, and in what order?\", form: \"intv-form-reassess-modify-interventions\" },\r\n            { id: \"intv-reassess-modify-interventions-replace-basic-airway-with-advanced-or-intubate\", type: INTERV, label: \"Replace basic airway with advanced airway, or intubate\", prompt: \"prompt-reassess-modify-interventions\" },\r\n            { id: \"intv-reassess-modify-interventions-replace-bandages\", type: INTERV, label: \"Replace bandages\", prompt: \"prompt-reassess-modify-interventions\" },\r\n            { id: \"intv-reassess-modify-interventions-replace-oxygen-tank\", type: INTERV, label: \"Replace oxygen tank\", prompt: \"prompt-reassess-modify-interventions\" },\r\n            { id: \"intv-reassess-modify-interventions-adjust-iv-replace-bolus\", type: INTERV, label: \"Adjust IV, hang second bag\", prompt: \"prompt-reassess-modify-interventions\" },\r\n            { id: \"intv-reassess-modify-interventions-turn-on-heat-in-ambulance\", type: INTERV, label: \"Turn on heat in ambulance\", prompt: \"prompt-reassess-modify-interventions\" },\r\n            { id: \"intv-reassess-modify-interventions-other-options\", type: INTERV, label: \"other-options\", prompt: \"prompt-reassess-modify-interventions\" },\r\n\r\n\r\n    { id: \"intv-form-administer-additional-interventions\", type: INTV_FORM, label: \"Administer additional interventions\" },\r\n        { id: \"prompt-what-additional-interventions\", type: PROMPT, selectionType: OOM, label: \"What additional interventions will you perform?\", form: \"intv-form-administer-additional-interventions\" },\r\n            { id: \"intv-additional-interventions-estabilish-2-large-bore-ivs\", type: INTERV, label: \"Establish two large bore IVs\", relatedForm: \"intv-form-establish-ivs\", prompt: \"prompt-what-additional-interventions\" },\r\n            { id: \"intv-additional-interventions-apply-bandages\", type: INTERV, label: \"Apply bandages\", prompt: \"prompt-what-additional-interventions\" },\r\n            { id: \"intv-additional-interventions-administer-iv\", type: INTERV, label: \"Administer IV\", prompt: \"prompt-what-additional-interventions\" },\r\n            { id: \"intv-additional-interventions-manage-pain\", type: INTERV, label: \"Manage pain/nausea\", relatedForm: \"intv-form-additional-interventions-manage-pain\", prompt: \"prompt-what-additional-interventions\"},\r\n            { id: \"intv-additional-interventions-other\", type: INTERV, label: \"Other\", prompt: \"prompt-what-additional-interventions\" },\r\n\r\n\r\n\r\n    { id: \"intv-form-additional-interventions-manage-pain\", type: INTV_FORM, label: \"Manage pain/nausea\" },\r\n        { id: \"prompt-pain-management-medication-administration-route\", type: PROMPT, selectionType: OOM, label: \"How would you administer this medication--through what route?\", form: \"intv-form-additional-interventions-manage-pain\" },\r\n            { id: \"intv-pain-management-medication-administration-route-oral\", type: INTERV, label: \"Oral\", relatedForm: \"intv-form-pain-management-medication-administration-route-oral\", prompt: \"prompt-pain-management-medication-administration-route\"},\r\n            { id: \"intv-pain-management-medication-administration-route-intranasal\", type: INTERV, label: \"Intranasal\", relatedForm: \"intv-form-pain-management-medication-administration-route-intranasal\", prompt: \"prompt-pain-management-medication-administration-route\" },\r\n            { id: \"intv-pain-management-medication-administration-route-intraosseous\", type: INTERV, label: \"Intraosseous\", relatedForm: \"intv-form-pain-management-medication-administration-route-intraosseous\", prompt: \"prompt-pain-management-medication-administration-route\" },\r\n            { id: \"intv-pain-management-medication-administration-route-intramuscular\", type: INTERV, label: \"Intramuscular\", relatedForm: \"intv-form-pain-management-medication-administration-route-intramuscular\", prompt: \"prompt-pain-management-medication-administration-route\" },\r\n            { id: \"intv-pain-management-medication-administration-route-intravenous\", type: INTERV, label: \"Intravenous\", relatedForm: \"intv-form-pain-management-medication-administration-route-intravenous\", prompt: \"prompt-pain-management-medication-administration-route\" },\r\n\r\n    { id: \"intv-form-additional-interventions-manage-pain-details\", type: INTV_FORM, label: \"\"},\r\n        { id: \"prompt-pain-management-medication\", type: PROMPT, selectionType: ONE, label: \"What medication would you administer?\", form: \"intv-form-additional-interventions-manage-pain-details\" },\r\n            { id: \"answer-pain-management-medication-option-1\", type: ANSWER, label: \"option-1\", prompt: \"prompt-pain-management-medication\" },\r\n            { id: \"answer-pain-management-medication-option-2\", type: ANSWER, label: \"option-2\", prompt: \"prompt-pain-management-medication\" },\r\n            { id: \"answer-pain-management-medication-option-3\", type: ANSWER, label: \"option-3\", prompt: \"prompt-pain-management-medication\" },\r\n            { id: \"answer-pain-management-medication-option-other\", type: ANSWER, label: \"Other\", prompt: \"prompt-pain-management-medication\" },\r\n        { id: \"prompt-pain-management-medication-dosage\", type: PROMPT, selectionType: ONE, label: \"What dosage?\", form: \"intv-form-additional-interventions-manage-pain-details\" },\r\n            { id: \"answer-pain-management-medication-dosage-scenario-specific\", type: ANSWER, label: \"scenario-specific-option\", prompt: \"prompt-pain-management-medication-dosage\" },\r\n            { id: \"answer-pain-management-medication-dosage-other\", type: ANSWER, label: \"other\", prompt: \"prompt-pain-management-medication-dosage\" },\r\n        { id: \"prompt-pain-management-medication-min-bp\", type: PROMPT, selectionType: ONE, label: \"What is the minimum BP to administer pain medications?\", form: \"intv-form-additional-interventions-manage-pain-details\" },\r\n            { id: \"answer-pain-management-medication-min-bp-correct\", type: ANSWER, label: \"correct-answer\", prompt: \"prompt-pain-management-medication-min-bp\" },\r\n            { id: \"answer-pain-management-medication-min-bp-other\", type: ANSWER, label: \"Other\", prompt: \"prompt-pain-management-medication-min-bp\" },\r\n\r\n    { id: \"intv-form-pain-management-medication-administration-route-oral\", type: INTV_FORM, label: \"\" },\r\n    { id: \"intv-form-pain-management-medication-administration-route-intranasal\", type: INTV_FORM, label: \"\" },\r\n    { id: \"intv-form-pain-management-medication-administration-route-intraosseous\", type: INTV_FORM, label: \"\" },\r\n    { id: \"intv-form-pain-management-medication-administration-route-intramuscular\", type: INTV_FORM, label: \"\" },\r\n    { id: \"intv-form-pain-management-medication-administration-route-intravenous\", type: INTV_FORM, label: \"Intravenous\" },\r\n            { id: \"prompt-pain-management-iv-volume\", type: PROMPT, selectionType: ONE, label: \"At what volume?\", form: \"intv-form-pain-management-medication-administration-route-intravenous\" },\r\n                { id: \"answer-pain-management-iv-volume-scenario-specific\", type: ANSWER, label: \"scenario-specific option\", prompt: \"prompt-pain-management-iv-volume\" },\r\n                { id: \"answer-pain-management-iv-volume-other\", type: ANSWER, label: \"Other\", prompt: \"prompt-pain-management-iv-volume\" },\r\n]\r\n","import { INTV_META_DATA, CHECKLIST_META_DATA } from '@meddbriefer/scenario-data/traumaScenarioV2MetaData';\r\nconst assessmentIds = CHECKLIST_META_DATA\r\n                        .filter(item => item.type === 'assessment');\r\nconst idList = INTV_META_DATA\r\n                .filter(intv => intv.type === 'intervention')\r\n                .sort((one, two) => {\r\n                    if(one.label.localeCompare(two.label) < 0) return -1;\r\n                    if(one.label.localeCompare(two.label) > 0) return 1;\r\n                    return 0;\r\n                });\r\n\r\nexport const matchesLabel = (str) => {\r\n    if (!str || str === \"\") return null;\r\n    let matchArr = [];\r\n\r\n    for (let item of idList) \r\n        if (item.label?.toLowerCase().includes(str?.toLowerCase()))\r\n            matchArr.push(item);\r\n\r\n    return matchArr.length > 0 ? matchArr : null;\r\n}\r\n\r\nexport const matchesId = (str) => {\r\n    if (!str || str === \"\") return null;\r\n    let matchArr = [];\r\n\r\n    for (let item of idList) \r\n        if (item.id?.toLowerCase().includes(str?.toLowerCase()))\r\n            matchArr.push(item);\r\n\r\n    return matchArr.length > 0 ? matchArr : null;\r\n}\r\n\r\nexport const matchesAny = (str) => {\r\n    if (!str || str === \"\") return null;\r\n    let matchArr = [];\r\n\r\n    for (let item of idList) \r\n        if (item.label?.toLowerCase().includes(str?.toLowerCase()) || item.id?.toLowerCase().includes(str?.toLowerCase()))\r\n            matchArr.push(item);\r\n\r\n    return matchArr.length > 0 ? matchArr : null;\r\n}\r\n\r\nexport const matchesChecklist = (str) => {\r\n    if (!str || str === \"\") return null;\r\n    let matchArr = [];\r\n\r\n    for (let item of assessmentIds) \r\n        if (item.id?.toLowerCase().includes(str?.toLowerCase()))\r\n            matchArr.push(item);\r\n\r\n    return matchArr.length > 0 ? matchArr : null;\r\n}","const SearchResults = ({ list, setVal }) => {\r\n    const noSelect = { id: \"(No selection)\", label: \"(No selection)\" };\r\n\r\n    return (\r\n      <>\r\n        {list && (\r\n          <div className={`search-results`}  >\r\n            {list &&\r\n              [noSelect, ...list].map((e, i) => (\r\n                <p\r\n                  key={i}\r\n                  id={e.id}\r\n                  onClick={(e) => setVal(e)}\r\n                  onMouseOver={v => v.target.innerText = e.id}\r\n                  onMouseLeave={v => v.target.innerText = e.label}\r\n                >\r\n                  {e.label}\r\n                </p>\r\n              ))}\r\n          </div>\r\n        )}\r\n      </>\r\n    );\r\n}\r\n\r\nexport default SearchResults;","import { useState, useRef } from 'react';\r\nimport { matchesLabel, matchesChecklist } from '../../scripts/id-util.js';\r\nimport SearchResults from './SearchResults.js';\r\n\r\nconst FormItem = (props) => {\r\n    const [query, setQuery] = useState(\"\");\r\n    const textRef = useRef(\"\");\r\n\r\n\tconst deleteSelf = (e) => {\r\n\t\t// Handle wrapper of 'contraindicated' and 'minimal'\r\n\t\tlet item = props.type === 'contraindicated' || props.type === 'minimal'\r\n\t\t\t? e.target.parentNode.parentNode\r\n\t\t \t: e.target.parentNode;\r\n\t\titem.remove();\r\n\t}\r\n\r\n    const setVal = (e) => {\r\n        textRef.current.value = e.target.id;\r\n        setQuery(\"\");\r\n    }\r\n\r\n\tconst getPos = (num) => {\r\n\t\tif (!props.item.meta) return [\"\", 0];\r\n\t\tlet str = props.item.meta.contraReqOrder[num];\r\n\t\tlet pos = props.item.contraindicated.indexOf(str);\r\n\t\tif (pos < 0)\r\n\t\t\tpos = props.item.required.indexOf(str);\r\n\t\treturn [str, pos];\r\n\t}\r\n\r\n\tconst getChecked = (type) => {\r\n\t\tconst [str, num] = getPos(props.num);\r\n\t\treturn props.item[type][num] === str;\r\n\t}\r\n\r\n    switch (props.type) {\r\n\t\tcase 'findings':\r\n\t\t\treturn (\r\n\t\t\t\t<label className=\"mdb-block-item\">\r\n\t\t\t\t\tID:\r\n\t\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tid={`${props.block}-${props.type}-${props.num}`}\r\n\t\t\t\t\tclassName=\"mdb-text\"\r\n\t\t\t\t\tonChange={(e) => setQuery(e.target.value)}\r\n\t\t\t\t\tref={textRef}\r\n\t\t\t\t\tautoComplete={\"off\"}\r\n\t\t\t\t\tdefaultValue={props.item[props.type][props.num]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t<SearchResults list={matchesChecklist(query)} setVal={setVal} />\r\n\t\t\t\t<button type=\"button\" onClick={e => deleteSelf(e)} >-</button>\r\n\t\t\t\t</label>\r\n            );\r\n\r\n\t\tcase 'minimal':\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<label className=\"mdb-block-item\">\r\n\t\t\t\t\t\tID:\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tid={`${props.block}-${props.type}-${props.num}`}\r\n\t\t\t\t\t\tclassName=\"mdb-text\"\r\n\t\t\t\t\t\tonChange={(e) => setQuery(e.target.value)}\r\n\t\t\t\t\t\tref={textRef}\r\n\t\t\t\t\t\tautoComplete={\"off\"}\r\n\t\t\t\t\t\tdefaultValue={props.item[props.type][props.num]}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t<SearchResults list={matchesLabel(query)} setVal={setVal} />\r\n\t\t\t\t\t<button type=\"button\" onClick={e => deleteSelf(e)} >-</button>\r\n\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tclassName=\"mdb-reasoning no-margin\"\r\n\t\t\t\t\t\tid={`${props.block}-${props.type}Why-${props.num}`}\r\n\t\t\t\t\t\tautoComplete={\"off\"}\r\n\t\t\t\t\t\tdefaultValue={props.item[`${props.type}Why`][props.num]}\r\n\t\t\t\t\t\tplaceholder=\"Reasoning\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n            );\r\n\r\n\t    case 'notes':\r\n            return (\r\n\t\t\t\t<label className=\"mdb-block-item\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tclassName=\"mdb-text no-left-margin\"\r\n\t\t\t\t\tid={`${props.block}-${props.type}-${props.num}`}\r\n\t\t\t\t\tautoComplete={\"off\"}\r\n\t\t\t\t\tdefaultValue={props.item[props.type]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<button type=\"button\" onClick={e => deleteSelf(e)} >-</button>\r\n\t\t\t\t</label>\r\n            );\r\n\r\n        case 'contraindicated':\r\n            return (\r\n\t\t\t\t<div className=\"mdb-red-item\">\r\n\t\t\t\t\t<label className=\"mdb-block-item\">\r\n\t\t\t\t\tID:\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tid={`${props.block}-contraindications-${props.num}`}\r\n\t\t\t\t\t\tclassName=\"mdb-text\"\r\n\t\t\t\t\t\tonChange={(e) => setQuery(e.target.value)}\r\n\t\t\t\t\t\tref={textRef}\r\n\t\t\t\t\t\tautoComplete={\"off\"}\r\n\t\t\t\t\t\tdefaultValue={props.item.meta.contraReqOrder[props.num]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<SearchResults list={matchesLabel(query)} setVal={setVal} />\r\n\t\t\t\t\t<button type=\"button\" onClick={e => deleteSelf(e)} >-</button>\t\t\t\t\t\r\n\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\t<div className=\"mdb-red-type\">\r\n\t\t\t\t\t\t<label className=\"red-type\">\r\n\t\t\t\t\t\t\tRequired\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\tid={`${props.block}-required-${props.num}`}\r\n\t\t\t\t\t\t\tname={`${props.block}-red-type-${props.num}`}\r\n\t\t\t\t\t\t\tvalue=\"required\"\r\n\t\t\t\t\t\t\tdefaultChecked={getChecked('required')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\t\t<label name=\"red-type\" className=\"red-type\">\r\n\t\t\t\t\t\t\tContraindicated\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\tid={`${props.block}-contraindicated-${props.num}`}\r\n\t\t\t\t\t\t\tname={`${props.block}-red-type-${props.num}`}\r\n\t\t\t\t\t\t\tvalue=\"contraindicated\"\r\n\t\t\t\t\t\t\tdefaultChecked={getChecked('contraindicated')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tclassName=\"mdb-reasoning  no-margin\"\r\n\t\t\t\t\t\tid={`${props.block}-${props.type}Why-${props.num}`}\r\n\t\t\t\t\t\tautoComplete={\"off\"}\r\n\t\t\t\t\t\tdefaultValue={props.item[`${props.type}Why`][props.num]}\r\n\t\t\t\t\t\tplaceholder=\"Reasoning\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n            );\r\n\r\n        default:\r\n            return (\r\n\t\t\t\t<label className=\"mdb-block-item\">\r\n\t\t\t\t\tID:\r\n\t\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tid={`${props.block}-${props.type}-${props.num}`}\r\n\t\t\t\t\tclassName=\"mdb-text\"\r\n\t\t\t\t\tonChange={(e) => setQuery(e.target.value)}\r\n\t\t\t\t\tref={textRef}\r\n\t\t\t\t\tautoComplete={\"off\"}\r\n\t\t\t\t\tdefaultValue={props.item[props.type][props.num]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t<SearchResults list={matchesLabel(query)} setVal={setVal} />\r\n\t\t\t\t<button type=\"button\" onClick={e => deleteSelf(e)} >-</button>\r\n\t\t\t\t</label>\r\n            );\r\n    }\r\n}\r\n\r\nexport default FormItem;","import FormItem from './FormItem';\r\nimport { useState, useRef, useEffect, useContext } from 'react';\r\nimport { matchesLabel } from '../../scripts/id-util.js';\r\nimport SearchResults from './SearchResults.js';\r\nimport { MDBFormContext } from './MDBForm.js';\r\n\r\nconst FormBlock = (props) => {\r\n    const form = useContext(MDBFormContext);\r\n    const info = form.criticalActions[props.block];\r\n    const [ numGreen, setNumGreen ] = useState(0);\r\n    const [ numYellow, setNumYellow ] = useState(0);\r\n    const [ numRed, setNumRed ] = useState(0);\r\n    const [ numFindings, setNumFindings ] = useState(0);\r\n    const [ numNotes, setNumNotes ] = useState(0);\r\n\r\n    const newGreen = () => setNumGreen(numGreen + 1);\r\n    const newYellow = () => setNumYellow(numYellow + 1);\r\n    const newRed = () => setNumRed(numRed + 1);\r\n    const newFindings = () => setNumFindings(numFindings + 1);\r\n    const newNotes = () => setNumNotes(numNotes + 1);\r\n\r\n    const lessGreen = () => numGreen > 0 && setNumGreen(numGreen - 1);\r\n    const lessYellow = () => numYellow > 0 && setNumYellow(numYellow - 1);\r\n    const lessRed = () => numRed > 0 && setNumRed(numRed - 1);\r\n    const lessFindings = () => numFindings > 0 && setNumFindings(numFindings - 1);\r\n    const lessNotes = () => numNotes > 0 && setNumNotes(numNotes - 1);\r\n\r\n    const deleteSelf = (e) => {\r\n        let block = e.target.parentNode;\r\n        block.remove();\r\n    }\r\n\r\n    const [query, setQuery] = useState([\"\", \"\"]);\r\n    const [beforeRef, afterRef] = [useRef(), useRef()];\r\n    const setInput = (e) => {\r\n        query[0] === \"\"\r\n        ? afterRef.current.value = e.target.id\r\n        : beforeRef.current.value = e.target.id;\r\n        setQuery([\"\", \"\"]);\r\n    }\r\n    \r\n    useEffect(() => {\r\n        if (form) {\r\n            let info = form.criticalActions[props.block];\r\n            setNumGreen(info.standard.length)\r\n            setNumYellow(info.minimal.length)\r\n            setNumRed(info.contraindicated.length + info.required.length)\r\n            setNumFindings(info.findings.length)\r\n            setNumNotes(info.notes.length)\r\n        }\r\n    }, [form, props.block])\r\n    \r\n    return (\r\n        <div className=\"mdb-block-wrapper\">\r\n            <button type=\"button\" className=\"delete-self-block\" onClick={e => deleteSelf(e)} >-</button>\r\n            <div id=\"mdb-info\" className=\"mdb-block\" >\r\n                <p className=\"mdb-block-heading\" >Info:</p>\r\n                <div className=\"mdb-info-wrapper\">\r\n                    <label>\r\n                        Critical action:\r\n                        <input type=\"text\" \r\n                            className=\"mdb-text\" \r\n                            id={`${props.block}-label`} \r\n                            autoComplete={\"off\"} \r\n                            defaultValue={info.label} \r\n                        />\r\n                    </label>\r\n                    <label>\r\n                        Protocol:\r\n                        <input type=\"text\" \r\n                            className=\"mdb-text\" \r\n                            id={`${props.block}-protocol`} \r\n                            autoComplete={\"off\"} \r\n                            defaultValue={info.protocol} \r\n                        />\r\n                    </label>                        \r\n                    <label>\r\n                        Before:\r\n                        <input type=\"text\" \r\n                            className=\"mdb-text\" \r\n                            id={`${props.block}-when-before`} \r\n                            ref={beforeRef}\r\n                            onChange={(e) => setQuery([e.target.value, \"\"])}\r\n                            autoComplete={\"off\"} \r\n                            defaultValue={info.when.before} \r\n                        />\r\n                    <SearchResults list={matchesLabel(query[0])} setVal={setInput} />\r\n                    </label>\r\n                    <label>\r\n                        After:\r\n                        <input type=\"text\" \r\n                            className=\"mdb-text\" \r\n                            id={`${props.block}-when-after`} \r\n                            ref={afterRef}\r\n                            onChange={(e) => setQuery([\"\", e.target.value])}\r\n                            autoComplete={\"off\"} \r\n                            defaultValue={info.when.after} \r\n                        />\r\n                    <SearchResults list={matchesLabel(query[1])} setVal={setInput} />\r\n                    </label>\r\n                </div>\r\n            </div>\r\n\r\n            <div id=\"mdb-green\" className=\"mdb-block\" >\r\n                <p className=\"mdb-block-heading\" >Standard:</p>\r\n                { [...Array(numGreen)].map( (e, i) => (\r\n                    <FormItem block={props.block} num={i} key={i} type='standard' item={info} edit={lessGreen} />\r\n                )) }\r\n\r\n                <div>\r\n                    <button type=\"button\" onClick={newGreen} >Add new</button>\r\n                </div>\r\n            </div>\r\n\r\n            <div id=\"mdb-yellow\" className=\"mdb-block\" >\r\n                <p className=\"mdb-block-heading\" >Minimal:</p>\r\n                { [...Array(numYellow)].map( (e, i) => (\r\n                    <FormItem block={props.block} num={i} key={i} type='minimal' item={info} edit={lessYellow} />\r\n                )) }\r\n\r\n                <div>\r\n                    <button type=\"button\" onClick={newYellow} >Add new</button>\r\n                </div>\r\n            </div>\r\n\r\n            <div id=\"mdb-red\" className=\"mdb-block\" >\r\n                <p className=\"mdb-block-heading\" >Contraindications:</p>\r\n                { [...Array(numRed)].map( (e, i) => (\r\n                    <FormItem block={props.block} num={i} key={i} type='contraindicated' item={info} edit={lessRed} />\r\n                )) }\r\n\r\n                <div>\r\n                    <button type=\"button\" onClick={newRed} >Add new</button>\r\n                </div>\r\n            </div>\r\n\r\n            <div id=\"mdb-findings\" className=\"mdb-block\" >\r\n                <p className=\"mdb-block-heading\" >Findings:</p>\r\n                { [...Array(numFindings)].map( (e, i) => (\r\n                    <FormItem block={props.block} num={i} key={i} type='findings' item={info} edit={lessFindings} />\r\n                )) }\r\n\r\n                <div>\r\n                    <button type=\"button\" onClick={newFindings} >Add new</button>\r\n                </div>\r\n            </div>\r\n\r\n            <div id=\"mdb-notes\" className=\"mdb-block\" >\r\n                <p className=\"mdb-block-heading\" >Notes / Comments:</p>\r\n                { [...Array(numNotes)].map( (e, i) => (\r\n                    <FormItem block={props.block} num={i} key={i} type='notes' item={info} edit={lessNotes} />\r\n                )) }\r\n\r\n                <div>\r\n                    <button type=\"button\" onClick={newNotes} >Add new</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default FormBlock;","import React, { useState, useRef, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport Header from '../Header';\r\nimport FormBlock from './FormBlock';\r\nimport { verifyDocument, publishDocument, getDocument } from '../../scripts/connect-firebase.js';\r\nimport criticalActions from '../../data/blank-crit-actions.json';\r\n\r\nconst COLLECTION_ID = 'scenario-required-actions';\r\n\r\nexport const MDBFormContext = React.createContext();\r\n\r\nconst FormRoot = (props) => {\r\n    const [mdbForm, setMDBForm] = useState(null);\r\n    const [numBlocks, setNumBlocks] = useState(1);\r\n    const { mdbFormId } = props.match.params;\r\n    const formRef = useRef(null);\r\n    const isEdit = () => !!mdbFormId;\r\n    let history = useHistory();\r\n\r\n    useEffect(() => {\r\n        mdbFormId ?\r\n        getDocument(COLLECTION_ID, mdbFormId)\r\n            .then(res => {\r\n                setMDBForm(res)\r\n                setNumBlocks(res.criticalActions.length)\r\n            })\r\n            .catch(err => console.error(err))\r\n        : setMDBForm({\r\n            scenarioName: \"\",\r\n            criticalActions: [\r\n                criticalActions\r\n            ]\r\n        });\r\n    }, [mdbFormId])\r\n\r\n    const addBlock = () => {\r\n        mdbForm.criticalActions.push(criticalActions);\r\n        setNumBlocks(numBlocks + 1);\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <Header />\r\n        <MDBFormContext.Provider value={mdbForm} >\r\n            <div className=\"mdb-form-wrapper\" >\r\n                {\r\n                mdbForm ? \r\n                <>\r\n                <form id=\"debriefer-form\" className=\"debriefer-form\" ref={formRef} >\r\n                    <label className=\"mdb-block-heading\">\r\n                        Scenario Name:\r\n                        <input type=\"text\" className=\"mdb-text\" id=\"scenarioName\" autoComplete={\"off\"} defaultValue={mdbForm.scenarioName} />\r\n                    </label>\r\n\r\n                    { [...Array(numBlocks)].map( (e, i) => (\r\n                        <FormBlock key={i} block={i} form={mdbForm} />\r\n                    )) }\r\n\r\n                    <div>\r\n                        <button type=\"button\" onClick={addBlock} >Add new</button>\r\n                    </div>\r\n                </form>\r\n                <button type=\"button\" id=\"submit-bttn\" onClick={process}>Continue</button>\r\n                </>\r\n                : <p>Loading...</p>\r\n                }\r\n            </div>\r\n        </MDBFormContext.Provider>\r\n        </>\r\n    );\r\n\r\n    async function process() {\r\n        let form = scan(formRef.current, []);\r\n        let object = { scenarioName: null, criticalActions: [], associations: mdbForm.associations ?? {} };\r\n        let blocks = {};\r\n\r\n        for (let i=0; i < form.length; i++) {\r\n            let item = form[i];\r\n            let path = item.id.split('-');\r\n            // path[0] = block, path[1] = type, path[2] = number\r\n\r\n            // Create block if it doesn't exist yet\r\n            if (!blocks[ path[0] ] && path[0] !== \"scenarioName\") blocks[ path[0] ] = deepCopy(criticalActions);\r\n            \r\n            switch (path.length) \r\n            {\r\n                default: console.error('Path error.'); break;\r\n\r\n                case 1: // Label\r\n                    object[ path[0] ] = item.value; break;\r\n\r\n                case 2: // Info\r\n                    blocks[ path[0] ][ path[1] ] = item.value; break;\r\n\r\n                case 3: // Actions\r\n                    if (path[1] === 'contraindications')\r\n                    {\r\n                        let type = form[i + 1].checked ? 'required' : 'contraindicated';\r\n                        blocks[ path[0] ][ type ].push(item.value);\r\n                        blocks[ path[0] ].meta.contraReqOrder.push(item.value);\r\n                        i += 2;\r\n                    }\r\n                    else\r\n                    {\r\n                        Array.isArray(blocks[ path[0] ][ path[1] ])\r\n                            ? blocks[ path[0] ][ path[1] ].push(item.value) \r\n                            : blocks[ path[0] ][ path[1] ] = item.value; \r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n\r\n        // Add to object if it exists or if only 1 block\r\n        for (let block in blocks) {\r\n            if (blocks[block].label || !blocks[1])\r\n                object.criticalActions.push(blocks[block]);\r\n        }\r\n\r\n        //Validate & upload object\r\n        if (object.scenarioName.trim() === \"\" || \r\n            (!isEdit && \r\n            await verifyDocument(COLLECTION_ID, object.scenarioName.trim())\r\n        )) {\r\n            alert(\"You need a new name for the scenario!\");\r\n            return;\r\n        } else {\r\n            publishDocument(COLLECTION_ID, object.scenarioName, object);\r\n            alert(`Debriefer info for ${object.scenarioName} uploaded.`);\r\n            history.push(`/associations/${object.scenarioName}`);\r\n        }\r\n    }\r\n\r\n    function scan(obj, arr) {\r\n        for (let node of obj) \r\n            if (node.nodeName === 'INPUT' || node.nodeName === 'TEXTAREA')\r\n                arr.push(node);\r\n\r\n        return arr;\r\n    }\r\n\r\n    function deepCopy(obj) { return JSON.parse(JSON.stringify(obj)); }\r\n}\r\n\r\nexport default FormRoot;","import { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { getCollection } from '../../scripts/connect-firebase.js';\r\nimport Header from '../Header.js';\r\n\r\nconst COLLECTION_ID = 'scenario-required-actions';\r\nconst MDBFormList = () => {\r\n    const [formsList, setFormsList] = useState(null);\r\n\r\n    useEffect(() => {\r\n        getCollection(COLLECTION_ID)\r\n            .then(res => setFormsList(res))\r\n            .catch(err => console.error(err));\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n        <Header />\r\n        <div id=\"mdb-form-list-wrapper\">\r\n            <h1>MDB Debriefer Forms</h1>\r\n            <Link to={`/debriefer-entry/`} className=\"mdb-form-list-item\" id=\"new-mdb-form\" >Create new</Link>\r\n            {\r\n                formsList ?\r\n                formsList.map((ele, i) => (\r\n                    <MDBFormListItem item={ele} key={i} />\r\n                ))\r\n                : <p>Loading...</p>\r\n            }\r\n        </div>\r\n        </>\r\n    );\r\n};\r\n\r\nconst MDBFormListItem = ({item}) => {\r\n    return (\r\n        <div className=\"mdb-form-list-item\">\r\n            <>\r\n            <h3>{item.scenarioName}</h3>\r\n            <Link to={`/debriefer-entry/${item.scenarioName}`} className=\"action-bttn\" >Edit</Link> \r\n            </>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MDBFormList;","import { useState, useEffect, useRef } from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport { getDocument, publishDocument } from '../../scripts/connect-firebase.js';\r\nimport { INTV_META_DATA } from '@meddbriefer/scenario-data/traumaScenarioV2MetaData';\r\nimport Header from '../Header';\r\n\r\nconst COLLECTION_ID = 'scenario-required-actions';\r\n\r\nconst ActionAssociations = (props) => {\r\n    const { formId } = props.match.params;\r\n    const [mdbForm, setMDBForm] = useState(null);\r\n    const [prompts, setPrompts] = useState();\r\n    const associationsRef = useRef();\r\n    let history = useHistory();\r\n\r\n    // Load in form data\r\n    useEffect(() => {\r\n        if (formId) {\r\n            // Ensure the data has been uploaded to Firebase\r\n            setTimeout(() => {\r\n                getDocument(COLLECTION_ID, formId)\r\n                    .then(res => setMDBForm(res))\r\n                    .catch(err => console.error(err))\r\n            }, 1000);            \r\n        } else throw Error ('Unable to fetch debriefer info');\r\n    }, [formId]);\r\n\r\n    // Set list of prompts\r\n    useEffect(() => {\r\n        mdbForm &&\r\n        setPrompts( getMatchingPrompts(mdbForm.criticalActions) );\r\n    }, [mdbForm]);\r\n\r\n    const handleSubmit = () => {\r\n        let obj = {};\r\n        for (let item of associationsRef.current)\r\n        {\r\n            if (item.tagName === 'SELECT')\r\n            {\r\n                obj[item.name] = item.value;\r\n            }\r\n            else\r\n            {\r\n                if (!obj[item.name]) obj[item.name] = [];\r\n                if (item.checked)\r\n                    obj[item.name].push(item.value);\r\n            }\r\n        }\r\n        \r\n        mdbForm.associations = obj;\r\n        \r\n        publishDocument(COLLECTION_ID, mdbForm.scenarioName, mdbForm);\r\n        history.push('/debriefer-entry-list/');\r\n        alert('Prompt assocations uploaded.');\r\n    }\r\n\r\n    const getSelected = (parent) => {\r\n        return mdbForm.associations \r\n            ? mdbForm.associations[parent]\r\n            : null;\r\n    }\r\n    const isChecked = (parent, item) => {\r\n        return mdbForm.associations \r\n            ? mdbForm.associations[parent]?.includes(item) \r\n            : false;\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <Header />\r\n        <div id=\"associations-wrapper\">\r\n            <h1 id=\"title\">Debriefer Prompt Associations</h1>\r\n            <p className=\"hint-text\">To be used to associate the correct action(s) with their interventions.</p>\r\n            {\r\n                mdbForm\r\n                ? <form id=\"associations-list\" ref={associationsRef} >\r\n                    {prompts && prompts.map(intv => (\r\n                        intv.prompts.map(prompt => (\r\n                            prompt.selectionType === \"one\" \r\n                            ? // OR\r\n                            <label key={prompt.id} className=\"associations-or\">\r\n                                {prompt.label}\r\n                                {\r\n                                <select name={prompt.id} defaultValue={getSelected(prompt.id)}>\r\n                                    {\r\n                                    prompt.children.map(child => (\r\n                                        <option key={child.id} value={child.id}>{child.label}</option>\r\n                                    ))\r\n                                    }\r\n                                </select>\r\n                                }\r\n                            </label>\r\n                            : // AND\r\n                            <div key={prompt.id} className=\"associations-and\">\r\n                                {prompt.label}\r\n                                {\r\n                                prompt.children.map(child => (\r\n                                    <label key={child.id}>\r\n                                        {child.label}\r\n                                        <input type=\"checkbox\" value={child.id} name={prompt.id} defaultChecked={isChecked(prompt.id, child.id)}/>\r\n                                    </label>\r\n                                ))\r\n                                }\r\n                            </div>\r\n                            ))\r\n                    ))}\r\n                </form>\r\n                : <p>Loading...</p>\r\n            }\r\n            {\r\n                prompts && prompts.length === 0 &&\r\n                <p>There is nothing to associate.</p>\r\n            }\r\n            <button type=\"button\" onClick={handleSubmit} id=\"associations-submit\">Submit</button>\r\n        </div>\r\n        </>\r\n    );\r\n}\r\n\r\nconst getAllInterventions = () => {\r\n    let obj = {};\r\n\r\n    for(let item of INTV_META_DATA)\r\n    {\r\n        if (item.type === 'intervention-form')\r\n        {\r\n            item.prompts = [];\r\n            obj[item.id] = item;\r\n        }\r\n        else if (item.type === 'prompt')\r\n        {\r\n            if (item.form) {\r\n                obj[ item.form ].prompts.push(item);\r\n            }\r\n        }\r\n        else if (item.type === 'answer' || item.type === 'intervention')\r\n        {\r\n            if (item.prompt) {\r\n                for (let intv in obj) {\r\n                    for (let prompt of obj[intv].prompts) {\r\n                        if (prompt.id === item.prompt) {\r\n                            if (!prompt.children) prompt.children = [];\r\n                            !prompt.children.includes(item) && prompt.children.push(item);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    return obj;\r\n}\r\n\r\nconst getMatchingPrompts = (list) => {\r\n    if (!list) return [];\r\n\r\n    const allInterventions = getAllInterventions();\r\n    let flattenedIds = [];\r\n    let matchingPrompts = [];\r\n    \r\n    // Flatten Ids\r\n    for(const block in list) {\r\n        for (const item in list[block]){\r\n            let curr = list[block][item];\r\n            if (Array.isArray(curr) && item !== 'contraindicated') {\r\n                flattenedIds.push(...curr);\r\n            }\r\n        }\r\n    }\r\n    \r\n    // Get matching intervention prompts\r\n    for (let id of flattenedIds) {\r\n        for (let item of INTV_META_DATA) {\r\n            if (id === item.id && item.relatedForm) {\r\n                matchingPrompts.push(allInterventions[item.relatedForm]);\r\n            }\r\n        }\r\n    }\r\n\r\n    return matchingPrompts;\r\n}\r\n\r\nexport default ActionAssociations;","import React from \"react\";\r\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\r\n\r\nimport { AuthProvider, StaffRoute } from \"@meddbriefer/mdb-auth\";\r\n\r\nimport \"./styles/form-styles.scss\";\r\nimport \"./styles/home-styles.scss\";\r\nimport \"./styles/assignment-styles.scss\";\r\nimport \"./styles/debriefer-styles.scss\";\r\n\r\nimport UnauthedLayout from \"./components/UnauthedLayout\"\r\n\r\nimport HomePage from \"./components/HomePage\";\r\nimport ScenarioForm from \"./components//ScenarioEditor/ScenarioForm\";\r\nimport ScenariosList from \"./components/ScenarioEditor/ScenariosList\";\r\nimport ClassCode from './components/ClassCodes/ClassCode';\r\nimport ClassCodesList from './components/ClassCodes/ClassCodesList';\r\nimport MDBForm from './components/MDBForm/MDBForm';\r\nimport MDBFormList from './components/MDBForm/MDBFormList';\r\nimport ActionAssociations from './components/MDBForm/ActionAssociations';\r\n\r\n\r\nconst App = () => {\r\n  return (\r\n    <AuthProvider>\r\n      <Router>\r\n        <Switch>\r\n          <Route exact path=\"/\" component={HomePage} />\r\n          <StaffRoute exact path=\"/scenarios\" authFlowLayout={UnauthedLayout} component={ScenariosList} />\r\n          <StaffRoute exact path=\"/scenario/\" authFlowLayout={UnauthedLayout} component={ScenarioForm} />\r\n          <StaffRoute exact path=\"/scenario/:scenarioId\" authFlowLayout={UnauthedLayout} component={ScenarioForm} />\r\n          <StaffRoute exact path=\"/scenario/:scenarioId/:asTemplate\" authFlowLayout={UnauthedLayout} component={ScenarioForm} />\r\n          <StaffRoute exact path=\"/class-codes-list/\" authFlowLayout={UnauthedLayout} component={ClassCodesList} />\r\n          <StaffRoute exact path=\"/class-codes/\" authFlowLayout={UnauthedLayout} component={ClassCode} />\r\n          <StaffRoute exact path=\"/class-codes/:classCode\" authFlowLayout={UnauthedLayout} component={ClassCode} />\r\n          <StaffRoute exact path=\"/debriefer-entry-list/\" authFlowLayout={UnauthedLayout} component={MDBFormList} />\r\n          <StaffRoute exact path=\"/debriefer-entry/:mdbFormId\" authFlowLayout={UnauthedLayout} component={MDBForm} />\r\n          <StaffRoute exact path=\"/debriefer-entry/\" authFlowLayout={UnauthedLayout} component={MDBForm} />\r\n          <StaffRoute exact path=\"/associations/:formId\" authFlowLayout={UnauthedLayout} component={ActionAssociations} />\r\n        </Switch>\r\n      </Router>\r\n    </AuthProvider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from './App.js';\r\n\r\nReactDOM.render(\r\n    <App />,\r\n    document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}